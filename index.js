"use strict";var Eo=Object.defineProperty;var Oo=(t,e,n)=>e in t?Eo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Z=(t,e,n)=>(Oo(t,typeof e!="symbol"?e+"":e,n),n);const ne=require("siyuan");var To=Object.defineProperty,No=(t,e,n)=>e in t?To(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,de=(t,e,n)=>(No(t,typeof e!="symbol"?e+"":e,n),n);function $n(t,e){return function(){return t.apply(e,arguments)}}const{toString:vo}=Object.prototype,{getPrototypeOf:bt}=Object,Ke=(t=>e=>{const n=vo.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ae=t=>(t=t.toLowerCase(),e=>Ke(e)===t),Je=t=>e=>typeof e===t,{isArray:Oe}=Array,Be=Je("undefined");function Ao(t){return t!==null&&!Be(t)&&t.constructor!==null&&!Be(t.constructor)&&X(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const jn=ae("ArrayBuffer");function Co(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&jn(t.buffer),e}const Bo=Je("string"),X=Je("function"),Dn=Je("number"),We=t=>t!==null&&typeof t=="object",$o=t=>t===!0||t===!1,Le=t=>{if(Ke(t)!=="object")return!1;const e=bt(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},jo=ae("Date"),Do=ae("File"),Po=ae("Blob"),Ro=ae("FileList"),Fo=t=>We(t)&&X(t.pipe),Mo=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||X(t.append)&&((e=Ke(t))==="formdata"||e==="object"&&X(t.toString)&&t.toString()==="[object FormData]"))},Lo=ae("URLSearchParams"),qo=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pe(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,s;if(typeof t!="object"&&(t=[t]),Oe(t))for(o=0,s=t.length;o<s;o++)e.call(null,t[o],o,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),r=i.length;let l;for(o=0;o<r;o++)l=i[o],e.call(null,t[l],l,t)}}function Pn(t,e){e=e.toLowerCase();const n=Object.keys(t);let o=n.length,s;for(;o-- >0;)if(s=n[o],e===s.toLowerCase())return s;return null}const Rn=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Fn=t=>!Be(t)&&t!==Rn;function lt(){const{caseless:t}=Fn(this)&&this||{},e={},n=(o,s)=>{const i=t&&Pn(e,s)||s;Le(e[i])&&Le(o)?e[i]=lt(e[i],o):Le(o)?e[i]=lt({},o):Oe(o)?e[i]=o.slice():e[i]=o};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&Pe(arguments[o],n);return e}const Io=(t,e,n,{allOwnKeys:o}={})=>(Pe(e,(s,i)=>{n&&X(s)?t[i]=$n(s,n):t[i]=s},{allOwnKeys:o}),t),Uo=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ho=(t,e,n,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},zo=(t,e,n,o)=>{let s,i,r;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)r=s[i],(!o||o(r,t,e))&&!l[r]&&(e[r]=t[r],l[r]=!0);t=n!==!1&&bt(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Vo=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const o=t.indexOf(e,n);return o!==-1&&o===n},Go=t=>{if(!t)return null;if(Oe(t))return t;let e=t.length;if(!Dn(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Ko=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&bt(Uint8Array)),Jo=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const s=o.value;e.call(t,s[0],s[1])}},Wo=(t,e)=>{let n;const o=[];for(;(n=t.exec(e))!==null;)o.push(n);return o},Yo=ae("HTMLFormElement"),Qo=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,o){return n.toUpperCase()+o}),Rt=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Xo=ae("RegExp"),Mn=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),o={};Pe(n,(s,i)=>{e(s,i,t)!==!1&&(o[i]=s)}),Object.defineProperties(t,o)},Zo=t=>{Mn(t,(e,n)=>{if(X(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(X(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},xo=(t,e)=>{const n={},o=s=>{s.forEach(i=>{n[i]=!0})};return Oe(t)?o(t):o(String(t).split(e)),n},es=()=>{},ts=(t,e)=>(t=+t,Number.isFinite(t)?t:e),tt="abcdefghijklmnopqrstuvwxyz",Ft="0123456789",Ln={DIGIT:Ft,ALPHA:tt,ALPHA_DIGIT:tt+tt.toUpperCase()+Ft},ns=(t=16,e=Ln.ALPHA_DIGIT)=>{let n="";const{length:o}=e;for(;t--;)n+=e[Math.random()*o|0];return n};function os(t){return!!(t&&X(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ss=t=>{const e=new Array(10),n=(o,s)=>{if(We(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[s]=o;const i=Oe(o)?[]:{};return Pe(o,(r,l)=>{const a=n(r,s+1);!Be(a)&&(i[l]=a)}),e[s]=void 0,i}}return o};return n(t,0)},is=ae("AsyncFunction"),rs=t=>t&&(We(t)||X(t))&&X(t.then)&&X(t.catch),_={isArray:Oe,isArrayBuffer:jn,isBuffer:Ao,isFormData:Mo,isArrayBufferView:Co,isString:Bo,isNumber:Dn,isBoolean:$o,isObject:We,isPlainObject:Le,isUndefined:Be,isDate:jo,isFile:Do,isBlob:Po,isRegExp:Xo,isFunction:X,isStream:Fo,isURLSearchParams:Lo,isTypedArray:Ko,isFileList:Ro,forEach:Pe,merge:lt,extend:Io,trim:qo,stripBOM:Uo,inherits:Ho,toFlatObject:zo,kindOf:Ke,kindOfTest:ae,endsWith:Vo,toArray:Go,forEachEntry:Jo,matchAll:Wo,isHTMLForm:Yo,hasOwnProperty:Rt,hasOwnProp:Rt,reduceDescriptors:Mn,freezeMethods:Zo,toObjectSet:xo,toCamelCase:Qo,noop:es,toFiniteNumber:ts,findKey:Pn,global:Rn,isContextDefined:Fn,ALPHABET:Ln,generateString:ns,isSpecCompliantForm:os,toJSONObject:ss,isAsyncFn:is,isThenable:rs};function M(t,e,n,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),o&&(this.request=o),s&&(this.response=s)}_.inherits(M,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const qn=M.prototype,In={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{In[t]={value:t}});Object.defineProperties(M,In);Object.defineProperty(qn,"isAxiosError",{value:!0});M.from=(t,e,n,o,s,i)=>{const r=Object.create(qn);return _.toFlatObject(t,r,function(l){return l!==Error.prototype},l=>l!=="isAxiosError"),M.call(r,t.message,e,n,o,s),r.cause=t,r.name=t.name,i&&Object.assign(r,i),r};const as=null;function ct(t){return _.isPlainObject(t)||_.isArray(t)}function Un(t){return _.endsWith(t,"[]")?t.slice(0,-2):t}function Mt(t,e,n){return t?t.concat(e).map(function(o,s){return o=Un(o),!n&&s?"["+o+"]":o}).join(n?".":""):e}function ls(t){return _.isArray(t)&&!t.some(ct)}const cs=_.toFlatObject(_,{},null,function(t){return/^is[A-Z]/.test(t)});function Ye(t,e,n){if(!_.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,p){return!_.isUndefined(p[f])});const o=n.metaTokens,s=n.visitor||c,i=n.dots,r=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(e);if(!_.isFunction(s))throw new TypeError("visitor must be a function");function a(f){if(f===null)return"";if(_.isDate(f))return f.toISOString();if(!l&&_.isBlob(f))throw new M("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(f)||_.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function c(f,p,b){let m=f;if(f&&!b&&typeof f=="object"){if(_.endsWith(p,"{}"))p=o?p:p.slice(0,-2),f=JSON.stringify(f);else if(_.isArray(f)&&ls(f)||(_.isFileList(f)||_.endsWith(p,"[]"))&&(m=_.toArray(f)))return p=Un(p),m.forEach(function(A,Y){!(_.isUndefined(A)||A===null)&&e.append(r===!0?Mt([p],Y,i):r===null?p:p+"[]",a(A))}),!1}return ct(f)?!0:(e.append(Mt(b,p,i),a(f)),!1)}const u=[],d=Object.assign(cs,{defaultVisitor:c,convertValue:a,isVisitable:ct});function h(f,p){if(!_.isUndefined(f)){if(u.indexOf(f)!==-1)throw Error("Circular reference detected in "+p.join("."));u.push(f),_.forEach(f,function(b,m){(!(_.isUndefined(b)||b===null)&&s.call(e,b,_.isString(m)?m.trim():m,p,d))===!0&&h(b,p?p.concat(m):[m])}),u.pop()}}if(!_.isObject(t))throw new TypeError("data must be an object");return h(t),e}function Lt(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function yt(t,e){this._pairs=[],t&&Ye(t,this,e)}const Hn=yt.prototype;Hn.append=function(t,e){this._pairs.push([t,e])};Hn.toString=function(t){const e=t?function(n){return t.call(this,n,Lt)}:Lt;return this._pairs.map(function(n){return e(n[0])+"="+e(n[1])},"").join("&")};function us(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function zn(t,e,n){if(!e)return t;const o=n&&n.encode||us,s=n&&n.serialize;let i;if(s?i=s(e,n):i=_.isURLSearchParams(e)?e.toString():new yt(e,n).toString(o),i){const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class fs{constructor(){this.handlers=[]}use(e,n,o){return this.handlers.push({fulfilled:e,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_.forEach(this.handlers,function(n){n!==null&&e(n)})}}const qt=fs,Vn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ps=typeof URLSearchParams<"u"?URLSearchParams:yt,hs=typeof FormData<"u"?FormData:null,ds=typeof Blob<"u"?Blob:null,ms=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),gs=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),oe={isBrowser:!0,classes:{URLSearchParams:ps,FormData:hs,Blob:ds},isStandardBrowserEnv:ms,isStandardBrowserWebWorkerEnv:gs,protocols:["http","https","file","blob","url","data"]};function _s(t,e){return Ye(t,new oe.classes.URLSearchParams,Object.assign({visitor:function(n,o,s,i){return oe.isNode&&_.isBuffer(n)?(this.append(o,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function bs(t){return _.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ys(t){const e={},n=Object.keys(t);let o;const s=n.length;let i;for(o=0;o<s;o++)i=n[o],e[i]=t[i];return e}function Gn(t){function e(n,o,s,i){let r=n[i++];const l=Number.isFinite(+r),a=i>=n.length;return r=!r&&_.isArray(s)?s.length:r,a?(_.hasOwnProp(s,r)?s[r]=[s[r],o]:s[r]=o,!l):((!s[r]||!_.isObject(s[r]))&&(s[r]=[]),e(n,o,s[r],i)&&_.isArray(s[r])&&(s[r]=ys(s[r])),!l)}if(_.isFormData(t)&&_.isFunction(t.entries)){const n={};return _.forEachEntry(t,(o,s)=>{e(bs(o),s,n,0)}),n}return null}const ks={"Content-Type":void 0};function Ss(t,e,n){if(_.isString(t))try{return(e||JSON.parse)(t),_.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}const Qe={transitional:Vn,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",o=n.indexOf("application/json")>-1,s=_.isObject(t);if(s&&_.isHTMLForm(t)&&(t=new FormData(t)),_.isFormData(t))return o&&o?JSON.stringify(Gn(t)):t;if(_.isArrayBuffer(t)||_.isBuffer(t)||_.isStream(t)||_.isFile(t)||_.isBlob(t))return t;if(_.isArrayBufferView(t))return t.buffer;if(_.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _s(t,this.formSerializer).toString();if((i=_.isFileList(t))||n.indexOf("multipart/form-data")>-1){const r=this.env&&this.env.FormData;return Ye(i?{"files[]":t}:t,r&&new r,this.formSerializer)}}return s||o?(e.setContentType("application/json",!1),Ss(t)):t}],transformResponse:[function(t){const e=this.transitional||Qe.transitional,n=e&&e.forcedJSONParsing,o=this.responseType==="json";if(t&&_.isString(t)&&(n&&!this.responseType||o)){const s=!(e&&e.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(i){if(s)throw i.name==="SyntaxError"?M.from(i,M.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oe.classes.FormData,Blob:oe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};_.forEach(["delete","get","head"],function(t){Qe.headers[t]={}});_.forEach(["post","put","patch"],function(t){Qe.headers[t]=_.merge(ks)});const kt=Qe,ws=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Es=t=>{const e={};let n,o,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),o=i.substring(s+1).trim(),!(!n||e[n]&&ws[n])&&(n==="set-cookie"?e[n]?e[n].push(o):e[n]=[o]:e[n]=e[n]?e[n]+", "+o:o)}),e},It=Symbol("internals");function Te(t){return t&&String(t).trim().toLowerCase()}function qe(t){return t===!1||t==null?t:_.isArray(t)?t.map(qe):String(t)}function Os(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)e[o[1]]=o[2];return e}const Ts=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function nt(t,e,n,o,s){if(_.isFunction(o))return o.call(this,e,n);if(s&&(e=n),!!_.isString(e)){if(_.isString(o))return e.indexOf(o)!==-1;if(_.isRegExp(o))return o.test(e)}}function Ns(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,o)=>n.toUpperCase()+o)}function vs(t,e){const n=_.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(s,i,r){return this[o].call(this,e,s,i,r)},configurable:!0})})}let Xe=class{constructor(t){t&&this.set(t)}set(t,e,n){const o=this;function s(r,l,a){const c=Te(l);if(!c)throw new Error("header name must be a non-empty string");const u=_.findKey(o,c);(!u||o[u]===void 0||a===!0||a===void 0&&o[u]!==!1)&&(o[u||l]=qe(r))}const i=(r,l)=>_.forEach(r,(a,c)=>s(a,c,l));return _.isPlainObject(t)||t instanceof this.constructor?i(t,e):_.isString(t)&&(t=t.trim())&&!Ts(t)?i(Es(t),e):t!=null&&s(e,t,n),this}get(t,e){if(t=Te(t),t){const n=_.findKey(this,t);if(n){const o=this[n];if(!e)return o;if(e===!0)return Os(o);if(_.isFunction(e))return e.call(this,o,n);if(_.isRegExp(e))return e.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Te(t),t){const n=_.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||nt(this,this[n],n,e)))}return!1}delete(t,e){const n=this;let o=!1;function s(i){if(i=Te(i),i){const r=_.findKey(n,i);r&&(!e||nt(n,n[r],r,e))&&(delete n[r],o=!0)}}return _.isArray(t)?t.forEach(s):s(t),o}clear(t){const e=Object.keys(this);let n=e.length,o=!1;for(;n--;){const s=e[n];(!t||nt(this,this[s],s,t,!0))&&(delete this[s],o=!0)}return o}normalize(t){const e=this,n={};return _.forEach(this,(o,s)=>{const i=_.findKey(n,s);if(i){e[i]=qe(o),delete e[s];return}const r=t?Ns(s):String(s).trim();r!==s&&delete e[s],e[r]=qe(o),n[r]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return _.forEach(this,(n,o)=>{n!=null&&n!==!1&&(e[o]=t&&_.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(o=>n.set(o)),n}static accessor(t){const e=(this[It]=this[It]={accessors:{}}).accessors,n=this.prototype;function o(s){const i=Te(s);e[i]||(vs(n,s),e[i]=!0)}return _.isArray(t)?t.forEach(o):o(t),this}};Xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.freezeMethods(Xe.prototype);_.freezeMethods(Xe);const le=Xe;function ot(t,e){const n=this||kt,o=e||n,s=le.from(o.headers);let i=o.data;return _.forEach(t,function(r){i=r.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Kn(t){return!!(t&&t.__CANCEL__)}function Re(t,e,n){M.call(this,t??"canceled",M.ERR_CANCELED,e,n),this.name="CanceledError"}_.inherits(Re,M,{__CANCEL__:!0});function As(t,e,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):e(new M("Request failed with status code "+n.status,[M.ERR_BAD_REQUEST,M.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Cs=oe.isStandardBrowserEnv?function(){return{write:function(t,e,n,o,s,i){const r=[];r.push(t+"="+encodeURIComponent(e)),_.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),_.isString(o)&&r.push("path="+o),_.isString(s)&&r.push("domain="+s),i===!0&&r.push("secure"),document.cookie=r.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Bs(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $s(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Jn(t,e){return t&&!Bs(e)?$s(t,e):e}const js=oe.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function o(s){let i=s;return t&&(e.setAttribute("href",i),i=e.href),e.setAttribute("href",i),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return n=o(window.location.href),function(s){const i=_.isString(s)?o(s):s;return i.protocol===n.protocol&&i.host===n.host}}():function(){return function(){return!0}}();function Ds(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Ps(t,e){t=t||10;const n=new Array(t),o=new Array(t);let s=0,i=0,r;return e=e!==void 0?e:1e3,function(l){const a=Date.now(),c=o[i];r||(r=a),n[s]=l,o[s]=a;let u=i,d=0;for(;u!==s;)d+=n[u++],u=u%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),a-r<e)return;const h=c&&a-c;return h?Math.round(d*1e3/h):void 0}}function Ut(t,e){let n=0;const o=Ps(50,250);return s=>{const i=s.loaded,r=s.lengthComputable?s.total:void 0,l=i-n,a=o(l),c=i<=r;n=i;const u={loaded:i,total:r,progress:r?i/r:void 0,bytes:l,rate:a||void 0,estimated:a&&r&&c?(r-i)/a:void 0,event:s};u[e?"download":"upload"]=!0,t(u)}}const Rs=typeof XMLHttpRequest<"u",Fs=Rs&&function(t){return new Promise(function(e,n){let o=t.data;const s=le.from(t.headers).normalize(),i=t.responseType;let r;function l(){t.cancelToken&&t.cancelToken.unsubscribe(r),t.signal&&t.signal.removeEventListener("abort",r)}_.isFormData(o)&&(oe.isStandardBrowserEnv||oe.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let a=new XMLHttpRequest;if(t.auth){const h=t.auth.username||"",f=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(h+":"+f))}const c=Jn(t.baseURL,t.url);a.open(t.method.toUpperCase(),zn(c,t.params,t.paramsSerializer),!0),a.timeout=t.timeout;function u(){if(!a)return;const h=le.from("getAllResponseHeaders"in a&&a.getAllResponseHeaders()),f={data:!i||i==="text"||i==="json"?a.responseText:a.response,status:a.status,statusText:a.statusText,headers:h,config:t,request:a};As(function(p){e(p),l()},function(p){n(p),l()},f),a=null}if("onloadend"in a?a.onloadend=u:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(u)},a.onabort=function(){a&&(n(new M("Request aborted",M.ECONNABORTED,t,a)),a=null)},a.onerror=function(){n(new M("Network Error",M.ERR_NETWORK,t,a)),a=null},a.ontimeout=function(){let h=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const f=t.transitional||Vn;t.timeoutErrorMessage&&(h=t.timeoutErrorMessage),n(new M(h,f.clarifyTimeoutError?M.ETIMEDOUT:M.ECONNABORTED,t,a)),a=null},oe.isStandardBrowserEnv){const h=(t.withCredentials||js(c))&&t.xsrfCookieName&&Cs.read(t.xsrfCookieName);h&&s.set(t.xsrfHeaderName,h)}o===void 0&&s.setContentType(null),"setRequestHeader"in a&&_.forEach(s.toJSON(),function(h,f){a.setRequestHeader(f,h)}),_.isUndefined(t.withCredentials)||(a.withCredentials=!!t.withCredentials),i&&i!=="json"&&(a.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&a.addEventListener("progress",Ut(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",Ut(t.onUploadProgress)),(t.cancelToken||t.signal)&&(r=h=>{a&&(n(!h||h.type?new Re(null,t,a):h),a.abort(),a=null)},t.cancelToken&&t.cancelToken.subscribe(r),t.signal&&(t.signal.aborted?r():t.signal.addEventListener("abort",r)));const d=Ds(c);if(d&&oe.protocols.indexOf(d)===-1){n(new M("Unsupported protocol "+d+":",M.ERR_BAD_REQUEST,t));return}a.send(o||null)})},Ie={http:as,xhr:Fs};_.forEach(Ie,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ms={getAdapter:t=>{t=_.isArray(t)?t:[t];const{length:e}=t;let n,o;for(let s=0;s<e&&(n=t[s],!(o=_.isString(n)?Ie[n.toLowerCase()]:n));s++);if(!o)throw o===!1?new M(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(_.hasOwnProp(Ie,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!_.isFunction(o))throw new TypeError("adapter is not a function");return o},adapters:Ie};function st(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Re(null,t)}function Ht(t){return st(t),t.headers=le.from(t.headers),t.data=ot.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ms.getAdapter(t.adapter||kt.adapter)(t).then(function(e){return st(t),e.data=ot.call(t,t.transformResponse,e),e.headers=le.from(e.headers),e},function(e){return Kn(e)||(st(t),e&&e.response&&(e.response.data=ot.call(t,t.transformResponse,e.response),e.response.headers=le.from(e.response.headers))),Promise.reject(e)})}const zt=t=>t instanceof le?t.toJSON():t;function we(t,e){e=e||{};const n={};function o(c,u,d){return _.isPlainObject(c)&&_.isPlainObject(u)?_.merge.call({caseless:d},c,u):_.isPlainObject(u)?_.merge({},u):_.isArray(u)?u.slice():u}function s(c,u,d){if(_.isUndefined(u)){if(!_.isUndefined(c))return o(void 0,c,d)}else return o(c,u,d)}function i(c,u){if(!_.isUndefined(u))return o(void 0,u)}function r(c,u){if(_.isUndefined(u)){if(!_.isUndefined(c))return o(void 0,c)}else return o(void 0,u)}function l(c,u,d){if(d in e)return o(c,u);if(d in t)return o(void 0,c)}const a={url:i,method:i,data:i,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:l,headers:(c,u)=>s(zt(c),zt(u),!0)};return _.forEach(Object.keys(Object.assign({},t,e)),function(c){const u=a[c]||s,d=u(t[c],e[c],c);_.isUndefined(d)&&u!==l||(n[c]=d)}),n}const Wn="1.4.0",St={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{St[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Vt={};St.transitional=function(t,e,n){function o(s,i){return"[Axios v"+Wn+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,r)=>{if(t===!1)throw new M(o(i," has been removed"+(e?" in "+e:"")),M.ERR_DEPRECATED);return e&&!Vt[i]&&(Vt[i]=!0,console.warn(o(i," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(s,i,r):!0}};function Ls(t,e,n){if(typeof t!="object")throw new M("options must be an object",M.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let s=o.length;for(;s-- >0;){const i=o[s],r=e[i];if(r){const l=t[i],a=l===void 0||r(l,i,t);if(a!==!0)throw new M("option "+i+" must be "+a,M.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new M("Unknown option "+i,M.ERR_BAD_OPTION)}}const ut={assertOptions:Ls,validators:St},he=ut.validators;let ze=class{constructor(t){this.defaults=t,this.interceptors={request:new qt,response:new qt}}request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=we(this.defaults,e);const{transitional:n,paramsSerializer:o,headers:s}=e;n!==void 0&&ut.assertOptions(n,{silentJSONParsing:he.transitional(he.boolean),forcedJSONParsing:he.transitional(he.boolean),clarifyTimeoutError:he.transitional(he.boolean)},!1),o!=null&&(_.isFunction(o)?e.paramsSerializer={serialize:o}:ut.assertOptions(o,{encode:he.function,serialize:he.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let i;i=s&&_.merge(s.common,s[e.method]),i&&_.forEach(["delete","get","head","post","put","patch","common"],f=>{delete s[f]}),e.headers=le.concat(i,s);const r=[];let l=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(e)===!1||(l=l&&f.synchronous,r.unshift(f.fulfilled,f.rejected))});const a=[];this.interceptors.response.forEach(function(f){a.push(f.fulfilled,f.rejected)});let c,u=0,d;if(!l){const f=[Ht.bind(this),void 0];for(f.unshift.apply(f,r),f.push.apply(f,a),d=f.length,c=Promise.resolve(e);u<d;)c=c.then(f[u++],f[u++]);return c}d=r.length;let h=e;for(u=0;u<d;){const f=r[u++],p=r[u++];try{h=f(h)}catch(b){p.call(this,b);break}}try{c=Ht.call(this,h)}catch(f){return Promise.reject(f)}for(u=0,d=a.length;u<d;)c=c.then(a[u++],a[u++]);return c}getUri(t){t=we(this.defaults,t);const e=Jn(t.baseURL,t.url);return zn(e,t.params,t.paramsSerializer)}};_.forEach(["delete","get","head","options"],function(t){ze.prototype[t]=function(e,n){return this.request(we(n||{},{method:t,url:e,data:(n||{}).data}))}});_.forEach(["post","put","patch"],function(t){function e(n){return function(o,s,i){return this.request(we(i||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}ze.prototype[t]=e(),ze.prototype[t+"Form"]=e(!0)});const Ue=ze;let qs=class Yn{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const o=this;this.promise.then(s=>{if(!o._listeners)return;let i=o._listeners.length;for(;i-- >0;)o._listeners[i](s);o._listeners=null}),this.promise.then=s=>{let i;const r=new Promise(l=>{o.subscribe(l),i=l}).then(s);return r.cancel=function(){o.unsubscribe(i)},r},e(function(s,i,r){o.reason||(o.reason=new Re(s,i,r),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Yn(function(n){e=n}),cancel:e}}};const Is=qs;function Us(t){return function(e){return t.apply(null,e)}}function Hs(t){return _.isObject(t)&&t.isAxiosError===!0}const ft={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ft).forEach(([t,e])=>{ft[e]=t});const zs=ft;function Qn(t){const e=new Ue(t),n=$n(Ue.prototype.request,e);return _.extend(n,Ue.prototype,e,{allOwnKeys:!0}),_.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return Qn(we(t,o))},n}const G=Qn(kt);G.Axios=Ue;G.CanceledError=Re;G.CancelToken=Is;G.isCancel=Kn;G.VERSION=Wn;G.toFormData=Ye;G.AxiosError=M;G.Cancel=G.CanceledError;G.all=function(t){return Promise.all(t)};G.spread=Us;G.isAxiosError=Hs;G.mergeConfig=we;G.AxiosHeaders=le;G.formToJSON=t=>Gn(_.isHTMLForm(t)?new FormData(t):t);G.HttpStatusCode=zs;G.default=G;const Xn=G,{Axios:ll,AxiosError:cl,CanceledError:ul,isCancel:fl,CancelToken:pl,VERSION:hl,all:dl,Cancel:ml,isAxiosError:gl,spread:_l,toFormData:bl,AxiosHeaders:yl,HttpStatusCode:Vs,formToJSON:kl,mergeConfig:Sl}=Xn,Gs=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Ks=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Js=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function Ws(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Ys(t);return}return e}function Ys(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Qs(t,e={}){if(typeof t!="string")return t;const n=t.trim();if(t[0]==='"'&&t[t.length-1]==='"')return n.slice(1,-1);const o=n.toLowerCase();if(o==="true")return!0;if(o==="false")return!1;if(o!=="undefined"){if(o==="null")return null;if(o==="nan")return Number.NaN;if(o==="infinity")return Number.POSITIVE_INFINITY;if(o==="-infinity")return Number.NEGATIVE_INFINITY;if(!Js.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Gs.test(t)||Ks.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Ws)}return JSON.parse(t)}catch(s){if(e.strict)throw s;return t}}}const Xs=/#/g,Zs=/&/g,xs=/=/g,wt=/\+/g,ei=/%5e/gi,ti=/%60/gi,ni=/%7c/gi,oi=/%20/gi;function si(t){return encodeURI(""+t).replace(ni,"|")}function pt(t){return si(typeof t=="string"?t:JSON.stringify(t)).replace(wt,"%2B").replace(oi,"+").replace(Xs,"%23").replace(Zs,"%26").replace(ti,"`").replace(ei,"^")}function it(t){return pt(t).replace(xs,"%3D")}function Zn(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function ii(t){return Zn(t.replace(wt," "))}function ri(t){return Zn(t.replace(wt," "))}function ai(t=""){const e={};t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const o=n.match(/([^=]+)=?(.*)/)||[];if(o.length<2)continue;const s=ii(o[1]);if(s==="__proto__"||s==="constructor")continue;const i=ri(o[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function li(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${it(t)}=${pt(n)}`).join("&"):`${it(t)}=${pt(e)}`:it(t)}function ci(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>li(e,t[e])).filter(Boolean).join("&")}const ui=/^\w{2,}:([/\\]{1,2})/,fi=/^\w{2,}:([/\\]{2})?/,pi=/^([/\\]\s*){2,}[^/\\]/;function xn(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?ui.test(t):fi.test(t)||(e.acceptRelative?pi.test(t):!1)}const hi=/\/$|\/\?/;function ht(t="",e=!1){return e?hi.test(t):t.endsWith("/")}function di(t="",e=!1){if(!e)return(ht(t)?t.slice(0,-1):t)||"/";if(!ht(t,!0))return t||"/";const[n,...o]=t.split("?");return(n.slice(0,-1)||"/")+(o.length>0?`?${o.join("?")}`:"")}function mi(t="",e=!1){if(!e)return t.endsWith("/")?t:t+"/";if(ht(t,!0))return t||"/";const[n,...o]=t.split("?");return n+"/"+(o.length>0?`?${o.join("?")}`:"")}function gi(t,e){if(bi(e)||xn(t))return t;const n=di(e);return t.startsWith(n)?t:Si(n,t)}function _i(t,e){const n=eo(t),o={...ai(n.search),...e};return n.search=ci(o),wi(n)}function bi(t){return!t||t==="/"}function yi(t){return t&&t!=="/"}const ki=/^\.?\//;function Si(t,...e){let n=t||"";for(const o of e.filter(s=>yi(s)))if(n){const s=o.replace(ki,"");n=mi(n)+s}else n=o;return n}function eo(t="",e){if(!xn(t,{acceptRelative:!0}))return e?eo(e+t):Gt(t);const[n="",o,s=""]=(t.replace(/\\/g,"/").match(/([^/:]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[i="",r=""]=(s.match(/([^#/?]*)(.*)?/)||[]).splice(1),{pathname:l,search:a,hash:c}=Gt(r.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:n,auth:o?o.slice(0,Math.max(0,o.length-1)):"",host:i,pathname:l,search:a,hash:c}}function Gt(t=""){const[e="",n="",o=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:o}}function wi(t){const e=t.pathname+(t.search?(t.search.startsWith("?")?"":"?")+t.search:"")+t.hash;return t.protocol?t.protocol+"//"+(t.auth?t.auth+"@":"")+t.host+e:e}class Ei extends Error{constructor(){super(...arguments),this.name="FetchError"}}function Oi(t,e,n){let o="";e&&(o=e.message),t&&n?o=`${o} (${n.status} ${n.statusText} (${t.toString()}))`:t&&(o=`${o} (${t.toString()})`);const s=new Ei(o);return Object.defineProperty(s,"request",{get(){return t}}),Object.defineProperty(s,"response",{get(){return n}}),Object.defineProperty(s,"data",{get(){return n&&n._data}}),Object.defineProperty(s,"status",{get(){return n&&n.status}}),Object.defineProperty(s,"statusText",{get(){return n&&n.statusText}}),Object.defineProperty(s,"statusCode",{get(){return n&&n.status}}),Object.defineProperty(s,"statusMessage",{get(){return n&&n.statusText}}),s}const Ti=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Kt(t="GET"){return Ti.has(t.toUpperCase())}function Ni(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const vi=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Ai=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Ci(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return Ai.test(e)?"json":vi.has(e)||e.startsWith("text/")?"text":"blob"}function Bi(t,e,n=globalThis.Headers){const o={...e,...t};if(e!=null&&e.params&&t!=null&&t.params&&(o.params={...e==null?void 0:e.params,...t==null?void 0:t.params}),e!=null&&e.query&&t!=null&&t.query&&(o.query={...e==null?void 0:e.query,...t==null?void 0:t.query}),e!=null&&e.headers&&t!=null&&t.headers){o.headers=new n((e==null?void 0:e.headers)||{});for(const[s,i]of new n((t==null?void 0:t.headers)||{}))o.headers.set(s,i)}return o}const $i=new Set([408,409,425,429,500,502,503,504]);function to(t){const{fetch:e,Headers:n}=t;function o(r){const l=r.error&&r.error.name==="AbortError"||!1;if(r.options.retry!==!1&&!l){let c;typeof r.options.retry=="number"?c=r.options.retry:c=Kt(r.options.method)?0:1;const u=r.response&&r.response.status||500;if(c>0&&$i.has(u))return s(r.request,{...r.options,retry:c-1})}const a=Oi(r.request,r.error,r.response);throw Error.captureStackTrace&&Error.captureStackTrace(a,s),a}const s=async function(r,l={}){const a={request:r,options:Bi(l,t.defaults,n),response:void 0,error:void 0};a.options.onRequest&&await a.options.onRequest(a),typeof a.request=="string"&&(a.options.baseURL&&(a.request=gi(a.request,a.options.baseURL)),(a.options.query||a.options.params)&&(a.request=_i(a.request,{...a.options.params,...a.options.query})),a.options.body&&Kt(a.options.method)&&Ni(a.options.body)&&(a.options.body=typeof a.options.body=="string"?a.options.body:JSON.stringify(a.options.body),a.options.headers=new n(a.options.headers||{}),a.options.headers.has("content-type")||a.options.headers.set("content-type","application/json"),a.options.headers.has("accept")||a.options.headers.set("accept","application/json")));try{a.response=await e(a.request,a.options)}catch(u){return a.error=u,a.options.onRequestError&&await a.options.onRequestError(a),await o(a)}const c=(a.options.parseResponse?"json":a.options.responseType)||Ci(a.response.headers.get("content-type")||"");if(c==="json"){const u=await a.response.text(),d=a.options.parseResponse||Qs;a.response._data=d(u)}else c==="stream"?a.response._data=a.response.body:a.response._data=await a.response[c]();return a.options.onResponse&&await a.options.onResponse(a),!a.options.ignoreResponseError&&a.response.status>=400&&a.response.status<600?(a.options.onResponseError&&await a.options.onResponseError(a),await o(a)):a.response},i=async function(r,l){return(await s(r,l))._data};return i.raw=s,i.native=e,i.create=(r={})=>to({...t,defaults:{...t.defaults,...r}}),i}const no=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),ji=no.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),Di=no.Headers,Pi=to({fetch:ji,Headers:Di}),rt={SCHEMA_DIR_RELATIVE_PATH:"./../schemas/",SCHEMA_FILENAME_PAYLOAD:"payload.schema.json",SCHEMA_FILENAME_RESPONSE:"response.schema.json",SIYUAN_DEFAULT_BASE_URL:"http://localhost:6806/",SIYUAN_DEFAULT_TOKEN:"",REQUEST_TIMEOUT:6e4};class Ri extends Error{constructor(e){super(e.statusText),de(this,"status"),this.response=e,this.status=e.status}}class Jt extends Error{constructor(e,n){super(e.msg),de(this,"code"),this.body=e,this.response=n,this.code=e.code}}var Wt,Yt;const oo=class g{constructor(e={},n="xhr"){de(this,"_type","xhr"),de(this,"_baseURL",((Wt=globalThis.document)==null?void 0:Wt.baseURI)??((Yt=globalThis.location)==null?void 0:Yt.origin)??rt.SIYUAN_DEFAULT_BASE_URL),de(this,"_token",rt.SIYUAN_DEFAULT_TOKEN),de(this,"_axios",Xn.create({baseURL:this._baseURL,timeout:rt.REQUEST_TIMEOUT,headers:{Authorization:`Token ${this._token}`}})),de(this,"_fetch",Pi.create({baseURL:this._baseURL,headers:{Authorization:`Token ${this._token}`}})),this._setClientType(n),this._updateOptions(e,n)}_setClientType(e){this._type=e}_updateOptions(e,n=this._type){switch(this._token=e.token??this._token,n){case"fetch":const o=e;if(o.token){const s="Authorization",i=`Token ${e.token}`;Array.isArray(o.headers)?o.headers.push([s,i]):o.headers instanceof Headers?o.headers.set(s,i):typeof o.headers=="object"?o.headers[s]=i:o.headers={[s]:i},delete e.token}this._fetch=this._fetch.create(o);break;case"xhr":default:for(const[s,i]of Object.entries(e))switch(s){case"token":this._axios.defaults.headers.Authorization=`Token ${e.token}`;break;default:this._axios.defaults[s]=i;break}break}this._baseURL=e.baseURL??this._baseURL}async getBookmarkLabels(e){return await this._request(g.api.attr.getBookmarkLabels.pathname,g.api.attr.getBookmarkLabels.method,void 0,e)}async getDocInfo(e,n){return await this._request(g.api.block.getDocInfo.pathname,g.api.block.getDocInfo.method,e,n)}async listDocsByPath(e,n){return await this._request(g.api.filetree.listDocsByPath.pathname,g.api.filetree.listDocsByPath.method,e,n)}async searchDocs(e,n){return await this._request(g.api.filetree.searchDocs.pathname,g.api.filetree.searchDocs.method,e,n)}async fullTextSearchBlock(e,n){return await this._request(g.api.search.fullTextSearchBlock.pathname,g.api.search.fullTextSearchBlock.method,e,n)}async getRecentDocs(e){return await this._request(g.api.storage.getRecentDocs.pathname,g.api.storage.getRecentDocs.method,void 0,e)}async getConf(e){return await this._request(g.api.system.getConf.pathname,g.api.system.getConf.method,void 0,e)}async upload(e,n){const o=new FormData;return o.append("assetsDirPath",e.assetsDirPath??"/assets/"),e.files.forEach(s=>o.append("file[]",s)),await this._request(g.api.asset.upload.pathname,g.api.asset.upload.method,o,n)}async getBlockAttrs(e,n){return await this._request(g.api.attr.getBlockAttrs.pathname,g.api.attr.getBlockAttrs.method,e,n)}async setBlockAttrs(e,n){return await this._request(g.api.attr.setBlockAttrs.pathname,g.api.attr.setBlockAttrs.method,e,n)}async appendBlock(e,n){return await this._request(g.api.block.appendBlock.pathname,g.api.block.appendBlock.method,e,n)}async deleteBlock(e,n){return await this._request(g.api.block.deleteBlock.pathname,g.api.block.deleteBlock.method,e,n)}async getBlockBreadcrumb(e,n){return await this._request(g.api.block.getBlockBreadcrumb.pathname,g.api.block.getBlockBreadcrumb.method,e,n)}async getBlockDOM(e,n){return await this._request(g.api.block.getBlockDOM.pathname,g.api.block.getBlockDOM.method,e,n)}async getBlockInfo(e,n){return await this._request(g.api.block.getBlockInfo.pathname,g.api.block.getBlockInfo.method,e,n)}async getBlockKramdown(e,n){return await this._request(g.api.block.getBlockKramdown.pathname,g.api.block.getBlockKramdown.method,e,n)}async getChildBlocks(e,n){return await this._request(g.api.block.getChildBlocks.pathname,g.api.block.getChildBlocks.method,e,n)}async insertBlock(e,n){return await this._request(g.api.block.insertBlock.pathname,g.api.block.insertBlock.method,e,n)}async moveBlock(e,n){return await this._request(g.api.block.moveBlock.pathname,g.api.block.moveBlock.method,e,n)}async prependBlock(e,n){return await this._request(g.api.block.prependBlock.pathname,g.api.block.prependBlock.method,e,n)}async transferBlockRef(e,n){return await this._request(g.api.block.transferBlockRef.pathname,g.api.block.transferBlockRef.method,e,n)}async updateBlock(e,n){return await this._request(g.api.block.updateBlock.pathname,g.api.block.updateBlock.method,e,n)}async pandoc(e,n){return await this._request(g.api.convert.pandoc.pathname,g.api.convert.pandoc.method,e,n)}async exportResources(e,n){return await this._request(g.api.export.exportResources.pathname,g.api.export.exportResources.method,e,n)}async exportMdContent(e,n){return await this._request(g.api.export.exportMdContent.pathname,g.api.export.exportMdContent.method,e,n)}async getFile(e,n="text",o){return await this._request(g.api.file.getFile.pathname,g.api.file.getFile.method,e,o,!1,n)}async putFile(e,n){e.file!==void 0&&!(e.file instanceof File)&&(e.file=new File([e.file],e.path.split("/").pop()));const o=new FormData;for(const[s,i]of Object.entries(e))e.hasOwnProperty(s)&&(i instanceof Blob?o.append(s,i):o.append(s,String(i)));return await this._request(g.api.file.putFile.pathname,g.api.file.putFile.method,o,n)}async readDir(e,n){return await this._request(g.api.file.readDir.pathname,g.api.file.readDir.method,e,n)}async removeFile(e,n){return await this._request(g.api.file.removeFile.pathname,g.api.file.removeFile.method,e,n)}async renameFile(e,n){return await this._request(g.api.file.renameFile.pathname,g.api.file.renameFile.method,e,n)}async createDocWithMd(e,n){return await this._request(g.api.filetree.createDocWithMd.pathname,g.api.filetree.createDocWithMd.method,e,n)}async getDoc(e,n){return await this._request(g.api.filetree.getDoc.pathname,g.api.filetree.getDoc.method,e,n)}async getHPathByID(e,n){return await this._request(g.api.filetree.getHPathByID.pathname,g.api.filetree.getHPathByID.method,e,n)}async getHPathByPath(e,n){return await this._request(g.api.filetree.getHPathByPath.pathname,g.api.filetree.getHPathByPath.method,e,n)}async moveDocs(e,n){return await this._request(g.api.filetree.moveDocs.pathname,g.api.filetree.moveDocs.method,e,n)}async removeDoc(e,n){return await this._request(g.api.filetree.removeDoc.pathname,g.api.filetree.removeDoc.method,e,n)}async renameDoc(e,n){return await this._request(g.api.filetree.renameDoc.pathname,g.api.filetree.renameDoc.method,e,n)}async getDocHistoryContent(e,n){return await this._request(g.api.history.getDocHistoryContent.pathname,g.api.history.getDocHistoryContent.method,e,n)}async getHistoryItems(e,n){return await this._request(g.api.history.getHistoryItems.pathname,g.api.history.getHistoryItems.method,e,n)}async getShorthand(e,n){return await this._request(g.api.inbox.getShorthand.pathname,g.api.inbox.getShorthand.method,e,n)}async forwardProxy(e,n){return await this._request(g.api.network.forwardProxy.pathname,g.api.network.forwardProxy.method,e,n)}async closeNotebook(e,n){return await this._request(g.api.notebook.closeNotebook.pathname,g.api.notebook.closeNotebook.method,e,n)}async createNotebook(e,n){return await this._request(g.api.notebook.createNotebook.pathname,g.api.notebook.createNotebook.method,e,n)}async getNotebookConf(e,n){return await this._request(g.api.notebook.getNotebookConf.pathname,g.api.notebook.getNotebookConf.method,e,n)}async lsNotebooks(e){return await this._request(g.api.notebook.lsNotebooks.pathname,g.api.notebook.lsNotebooks.method,void 0,e)}async openNotebook(e,n){return await this._request(g.api.notebook.openNotebook.pathname,g.api.notebook.openNotebook.method,e,n)}async removeNotebook(e,n){return await this._request(g.api.notebook.removeNotebook.pathname,g.api.notebook.removeNotebook.method,e,n)}async renameNotebook(e,n){return await this._request(g.api.notebook.renameNotebook.pathname,g.api.notebook.renameNotebook.method,e,n)}async setNotebookConf(e,n){return await this._request(g.api.notebook.setNotebookConf.pathname,g.api.notebook.setNotebookConf.method,e,n)}async pushErrMsg(e,n){return await this._request(g.api.notification.pushErrMsg.pathname,g.api.notification.pushErrMsg.method,e,n)}async pushMsg(e,n){return await this._request(g.api.notification.pushMsg.pathname,g.api.notification.pushMsg.method,e,n)}async sql(e,n){return await this._request(g.api.query.sql.pathname,g.api.query.sql.method,e,n)}async openRepoSnapshotDoc(e,n){return await this._request(g.api.repo.openRepoSnapshotDoc.pathname,g.api.repo.openRepoSnapshotDoc.method,e,n)}async getSnippet(e,n){return await this._request(g.api.snippet.getSnippet.pathname,g.api.snippet.getSnippet.method,e,n)}async setSnippet(e,n){return await this._request(g.api.snippet.setSnippet.pathname,g.api.snippet.setSnippet.method,e,n)}async bootProgress(e){return await this._request(g.api.system.bootProgress.pathname,g.api.system.bootProgress.method,void 0,e)}async currentTime(e){return await this._request(g.api.system.currentTime.pathname,g.api.system.currentTime.method,void 0,e)}async version(e){return await this._request(g.api.system.version.pathname,g.api.system.version.method,void 0,e)}async render(e,n){return await this._request(g.api.template.render.pathname,g.api.template.render.method,e,n)}async renderSprig(e,n){return await this._request(g.api.template.renderSprig.pathname,g.api.template.renderSprig.method,e,n)}async _request(e,n,o,s,i=!0,r="json"){try{switch((s==null?void 0:s.type)??this._type){case"fetch":{const l=s==null?void 0:s.options;r=(()=>{switch(r){case"arraybuffer":return"arrayBuffer";case"document":return"text";default:return r}})();const a=await this._fetch(e,{method:n,body:o,responseType:r,...l});return i&&r==="json"&&typeof a=="object"?this._parseFetchResponse(a):a}case"xhr":default:{const l=s==null?void 0:s.options;r=(()=>{switch(r){case"arrayBuffer":return"arraybuffer";default:return r}})();const a=await this._axios.request({url:e,method:n,data:o,responseType:r,...l});if(a.status===Vs.Ok)return i&&r==="json"&&typeof a.data=="object"?this._parseAxiosResponse(a):a.data;throw new Ri(a)}}}catch(l){throw l}}_parseFetchResponse(e){if(e.code===0)return e;throw new Jt(e)}_parseAxiosResponse(e){if(e.data.code===0)return e.data;throw new Jt(e.data,e)}};de(oo,"api",{search:{fullTextSearchBlock:{pathname:"/api/search/fullTextSearchBlock",method:"POST"}},storage:{getRecentDocs:{pathname:"/api/storage/getRecentDocs",method:"POST"}},asset:{upload:{pathname:"/api/asset/upload",method:"POST"}},attr:{getBlockAttrs:{pathname:"/api/attr/getBlockAttrs",method:"POST"},setBlockAttrs:{pathname:"/api/attr/setBlockAttrs",method:"POST"},getBookmarkLabels:{pathname:"/api/attr/getBookmarkLabels",method:"POST"}},block:{appendBlock:{pathname:"/api/block/appendBlock",method:"POST"},deleteBlock:{pathname:"/api/block/deleteBlock",method:"POST"},getBlockBreadcrumb:{pathname:"/api/block/getBlockBreadcrumb",method:"POST"},getBlockDOM:{pathname:"/api/block/getBlockDOM",method:"POST"},getBlockInfo:{pathname:"/api/block/getBlockInfo",method:"POST"},getBlockKramdown:{pathname:"/api/block/getBlockKramdown",method:"POST"},getChildBlocks:{pathname:"/api/block/getChildBlocks",method:"POST"},insertBlock:{pathname:"/api/block/insertBlock",method:"POST"},moveBlock:{pathname:"/api/block/moveBlock",method:"POST"},prependBlock:{pathname:"/api/block/prependBlock",method:"POST"},transferBlockRef:{pathname:"/api/block/transferBlockRef",method:"POST"},updateBlock:{pathname:"/api/block/updateBlock",method:"POST"},getDocInfo:{pathname:"/api/block/getDocInfo",method:"POST"}},convert:{pandoc:{pathname:"/api/convert/pandoc",method:"POST"}},export:{exportMdContent:{pathname:"/api/export/exportMdContent",method:"POST"},exportResources:{pathname:"/api/export/exportResources",method:"POST"}},file:{getFile:{pathname:"/api/file/getFile",method:"POST"},putFile:{pathname:"/api/file/putFile",method:"POST"},readDir:{pathname:"/api/file/readDir",method:"POST"},removeFile:{pathname:"/api/file/removeFile",method:"POST"},renameFile:{pathname:"/api/file/renameFile",method:"POST"}},filetree:{createDocWithMd:{pathname:"/api/filetree/createDocWithMd",method:"POST"},getDoc:{pathname:"/api/filetree/getDoc",method:"POST"},getHPathByID:{pathname:"/api/filetree/getHPathByID",method:"POST"},getHPathByPath:{pathname:"/api/filetree/getHPathByPath",method:"POST"},moveDocs:{pathname:"/api/filetree/moveDocs",method:"POST"},removeDoc:{pathname:"/api/filetree/removeDoc",method:"POST"},renameDoc:{pathname:"/api/filetree/renameDoc",method:"POST"},listDocsByPath:{pathname:"/api/filetree/listDocsByPath",method:"POST"},searchDocs:{pathname:"/api/filetree/searchDocs",method:"POST"}},history:{getDocHistoryContent:{pathname:"/api/history/getDocHistoryContent",method:"POST"},getHistoryItems:{pathname:"/api/history/getHistoryItems",method:"POST"}},inbox:{getShorthand:{pathname:"/api/inbox/getShorthand",method:"POST"}},network:{forwardProxy:{pathname:"/api/network/forwardProxy",method:"POST"}},notebook:{closeNotebook:{pathname:"/api/notebook/closeNotebook",method:"POST"},createNotebook:{pathname:"/api/notebook/createNotebook",method:"POST"},lsNotebooks:{pathname:"/api/notebook/lsNotebooks",method:"POST"},getNotebookConf:{pathname:"/api/notebook/getNotebookConf",method:"POST"},openNotebook:{pathname:"/api/notebook/openNotebook",method:"POST"},removeNotebook:{pathname:"/api/notebook/removeNotebook",method:"POST"},renameNotebook:{pathname:"/api/notebook/renameNotebook",method:"POST"},setNotebookConf:{pathname:"/api/notebook/setNotebookConf",method:"POST"}},notification:{pushErrMsg:{pathname:"/api/notification/pushErrMsg",method:"POST"},pushMsg:{pathname:"/api/notification/pushMsg",method:"POST"}},query:{sql:{pathname:"/api/query/sql",method:"POST"}},repo:{openRepoSnapshotDoc:{pathname:"/api/repo/openRepoSnapshotDoc",method:"POST"}},snippet:{getSnippet:{pathname:"/api/snippet/getSnippet",method:"POST"},setSnippet:{pathname:"/api/snippet/setSnippet",method:"POST"}},system:{bootProgress:{pathname:"/api/system/bootProgress",method:"POST"},currentTime:{pathname:"/api/system/currentTime",method:"POST"},version:{pathname:"/api/system/version",method:"POST"},getConf:{pathname:"/api/system/getConf",method:"POST"}},template:{render:{pathname:"/api/template/render",method:"POST"},renderSprig:{pathname:"/api/template/renderSprig",method:"POST"}}});let Fi=oo;var so=(t=>(t.NodeNotebook="NodeNotebook",t.NodeFolder="NodeFolder",t.NodeDocument="NodeDocument",t.NodeSuperBlock="NodeSuperBlock",t.NodeBlockquote="NodeBlockquote",t.NodeList="NodeList",t.NodeListItem="NodeListItem",t.NodeHeading="NodeHeading",t.NodeParagraph="NodeParagraph",t.NodeMathBlock="NodeMathBlock",t.NodeTable="NodeTable",t.NodeCodeBlock="NodeCodeBlock",t.NodeHTMLBlock="NodeHTMLBlock",t.NodeThematicBreak="NodeThematicBreak",t.NodeAudio="NodeAudio",t.NodeVideo="NodeVideo",t.NodeIFrame="NodeIFrame",t.NodeWidget="NodeWidget",t.NodeBlockQueryEmbed="NodeBlockQueryEmbed",t))(so||{}),io=(t=>(t.d="d",t.s="s",t.b="b",t.l="l",t.i="i",t.h="h",t.p="p",t.m="m",t.t="t",t.c="c",t.html="html",t.query_embed="query_embed",t.tb="tb",t.audio="audio",t.video="video",t.iframe="iframe",t.widget="widget",t))(io||{}),ro=(t=>(t.d="d",t.s="s",t.b="b",t.l="l",t.i="i",t))(ro||{}),ao=(t=>(t.h="h",t.p="p",t.m="m",t.t="t",t.c="c",t.html="html",t.query_embed="query_embed",t.tb="tb",t.audio="audio",t.video="video",t.iframe="iframe",t.widget="widget",t))(ao||{}),lo=(t=>(t.h1="h1",t.h2="h2",t.h3="h3",t.h4="h4",t.h5="h5",t.h6="h6",t.u="u",t.o="o",t.t="t",t.none="",t))(lo||{}),co=(t=>(t.u="u",t.o="o",t.t="t",t))(co||{}),uo=(t=>(t.h1="h1",t.h2="h2",t.h3="h3",t.h4="h4",t.h5="h5",t.h6="h6",t))(uo||{}),fo=(t=>(t[t.keyword=0]="keyword",t[t.querySyntax=1]="querySyntax",t[t.sql=2]="sql",t[t.regex=3]="regex",t))(fo||{}),po=(t=>(t[t.noGroupBy=0]="noGroupBy",t[t.group=1]="group",t))(po||{}),ho=(t=>(t[t.type=0]="type",t[t.createdASC=1]="createdASC",t[t.createdDESC=2]="createdDESC",t[t.modifiedASC=3]="modifiedASC",t[t.modifiedDESC=4]="modifiedDESC",t[t.sortByContent=5]="sortByContent",t[t.sortByRankAsc=6]="sortByRankAsc",t[t.sortByRankDesc=7]="sortByRankDesc",t))(ho||{}),mo=(t=>(t[t.SortModeNameASC=0]="SortModeNameASC",t[t.SortModeNameDESC=1]="SortModeNameDESC",t[t.SortModeUpdatedASC=2]="SortModeUpdatedASC",t[t.SortModeUpdatedDESC=3]="SortModeUpdatedDESC",t[t.SortModeAlphanumASC=4]="SortModeAlphanumASC",t[t.SortModeAlphanumDESC=5]="SortModeAlphanumDESC",t[t.SortModeCustom=6]="SortModeCustom",t[t.SortModeRefCountASC=7]="SortModeRefCountASC",t[t.SortModeRefCountDESC=8]="SortModeRefCountDESC",t[t.SortModeCreatedASC=9]="SortModeCreatedASC",t[t.SortModeCreatedDESC=10]="SortModeCreatedDESC",t[t.SortModeSizeASC=11]="SortModeSizeASC",t[t.SortModeSizeDESC=12]="SortModeSizeDESC",t[t.SortModeSubDocCountASC=13]="SortModeSubDocCountASC",t[t.SortModeSubDocCountDESC=14]="SortModeSubDocCountDESC",t))(mo||{});const Mi=Object.freeze(Object.defineProperty({__proto__:null,BlockSubType:lo,BlockType:io,Container:ro,GroupBy:po,Leaf:ao,Method:fo,NodeHeadingSubType:uo,NodeListSubType:co,NodeType:so,OrderBy:ho,SortMode:mo},Symbol.toStringTag,{value:"Module"}));Li();Ii();const Qt=qi();function Li(){switch(ne.getFrontend()){case"desktop":case"desktop-window":case"browser-desktop":return!0;case"mobile":case"browser-mobile":return!1;default:return!1}}function qi(){switch(ne.getFrontend()){case"mobile":case"browser-mobile":return!0;case"desktop":case"desktop-window":case"browser-desktop":return!1;default:return!1}}function Ii(){switch(ne.getFrontend()){case"browser-desktop":case"browser-mobile":return!0;case"desktop":case"desktop-window":case"mobile":return!1;default:return!1}}class Ui{constructor(e,n=!0){this.label=e,this.collapsed=n}stdout(e,n,...o){const s=`[\x1B[4m${this.label}\x1B[0m] - <\x1B[1m${e.name.toUpperCase()}\x1B[0m>`;this.collapsed?globalThis.console.groupCollapsed(s):globalThis.console.group(s),n?o.forEach(i=>Array.isArray(i)?e(...i):e(i)):e(...o),globalThis.console.trace(),globalThis.console.groupEnd()}dir(...e){this.stdout(globalThis.console.dir,!1,...e)}dirs(...e){this.stdout(globalThis.console.dir,!0,...e)}table(...e){this.stdout(globalThis.console.table,!1,...e)}tables(...e){this.stdout(globalThis.console.table,!0,...e)}debug(...e){this.stdout(globalThis.console.debug,!1,...e)}debugs(...e){this.stdout(globalThis.console.debug,!0,...e)}info(...e){this.stdout(globalThis.console.info,!1,...e)}infos(...e){this.stdout(globalThis.console.info,!0,...e)}log(...e){this.stdout(globalThis.console.log,!1,...e)}logs(...e){this.stdout(globalThis.console.log,!0,...e)}warn(...e){this.stdout(globalThis.console.warn,!1,...e)}warns(...e){this.stdout(globalThis.console.warn,!0,...e)}error(...e){this.stdout(globalThis.console.error,!1,...e)}errors(...e){this.stdout(globalThis.console.error,!0,...e)}}function go(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hi=function(e){return zi(e)&&!Vi(e)};function zi(t){return!!t&&typeof t=="object"}function Vi(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Ji(t)}var Gi=typeof Symbol=="function"&&Symbol.for,Ki=Gi?Symbol.for("react.element"):60103;function Ji(t){return t.$$typeof===Ki}function Wi(t){return Array.isArray(t)?[]:{}}function $e(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ee(Wi(t),t,e):t}function Yi(t,e,n){return t.concat(e).map(function(o){return $e(o,n)})}function Qi(t,e){if(!e.customMerge)return Ee;var n=e.customMerge(t);return typeof n=="function"?n:Ee}function Xi(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function Xt(t){return Object.keys(t).concat(Xi(t))}function _o(t,e){try{return e in t}catch{return!1}}function Zi(t,e){return _o(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function xi(t,e,n){var o={};return n.isMergeableObject(t)&&Xt(t).forEach(function(s){o[s]=$e(t[s],n)}),Xt(e).forEach(function(s){Zi(t,s)||(_o(t,s)&&n.isMergeableObject(e[s])?o[s]=Qi(s,n)(t[s],e[s],n):o[s]=$e(e[s],n))}),o}function Ee(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Yi,n.isMergeableObject=n.isMergeableObject||Hi,n.cloneUnlessOtherwiseSpecified=$e;var o=Array.isArray(e),s=Array.isArray(t),i=o===s;return i?o?n.arrayMerge(t,e,n):xi(t,e,n):$e(e,n)}Ee.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(o,s){return Ee(o,s,n)},{})};var er=Ee,tr=er;const nr=go(tr);function Zt(...t){return nr.all(t,{arrayMerge:(e,n,o)=>n})}function or(t){const e={families:[],map:new Map};return t.forEach(n=>{const o=e.map.get(n.family);o?o.push(n):(e.families.push(n.family),e.map.set(n.family,[n]))}),e}function K(){}function bo(t,e){for(const n in e)t[n]=e[n];return t}function yo(t){return t()}function xt(){return Object.create(null)}function Q(t){t.forEach(yo)}function ko(t){return typeof t=="function"}function x(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Fe;function en(t,e){return Fe||(Fe=document.createElement("a")),Fe.href=e,t===Fe.href}function sr(t){return Object.keys(t).length===0}function ce(t,e,n,o){if(t){const s=So(t,e,n,o);return t[0](s)}}function So(t,e,n,o){return t[1]&&o?bo(n.ctx.slice(),t[1](o(e))):n.ctx}function ue(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],r=Math.max(e.dirty.length,s.length);for(let l=0;l<r;l+=1)i[l]=e.dirty[l]|s[l];return i}return e.dirty|s}return e.dirty}function fe(t,e,n,o,s,i){if(s){const r=So(e,n,o,i);t.p(r,s)}}function pe(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function ir(t){const e={};for(const n in t)e[n]=!0;return e}function P(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function D(t){return document.createElement(t)}function je(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function me(t){return document.createTextNode(t)}function F(){return me(" ")}function be(){return me("")}function V(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ve(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function dt(t){return t===""?null:+t}function rr(t){return Array.from(t.childNodes)}function Et(t,e){e=""+e,t.data!==e&&(t.data=e)}function se(t,e){t.value=e??""}function ge(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function tn(t,e,n){for(let o=0;o<t.options.length;o+=1){const s=t.options[o];if(s.__value===e){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function ar(t){const e=t.querySelector(":checked");return e&&e.__value}function E(t,e,n){t.classList[n?"add":"remove"](e)}function lr(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,o,e),s}class Ze{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=je(n.nodeName):this.e=D(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)v(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(T)}}let De;function Ae(t){De=t}function cr(){if(!De)throw new Error("Function called outside component initialization");return De}function Ot(){const t=cr();return(e,n,{cancelable:o=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=lr(e,n,{cancelable:o});return s.slice().forEach(r=>{r.call(t,i)}),!i.defaultPrevented}return!0}}const ke=[],nn=[];let Se=[];const on=[],ur=Promise.resolve();let mt=!1;function fr(){mt||(mt=!0,ur.then(wo))}function Ge(t){Se.push(t)}const at=new Set;let ye=0;function wo(){if(ye!==0)return;const t=De;do{try{for(;ye<ke.length;){const e=ke[ye];ye++,Ae(e),pr(e.$$)}}catch(e){throw ke.length=0,ye=0,e}for(Ae(null),ke.length=0,ye=0;nn.length;)nn.pop()();for(let e=0;e<Se.length;e+=1){const n=Se[e];at.has(n)||(at.add(n),n())}Se.length=0}while(ke.length);for(;on.length;)on.pop()();mt=!1,at.clear(),Ae(t)}function pr(t){if(t.fragment!==null){t.update(),Q(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ge)}}function hr(t){const e=[],n=[];Se.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),Se=e}const He=new Set;let _e;function ie(){_e={r:0,c:[],p:_e}}function re(){_e.r||Q(_e.c),_e=_e.p}function k(t,e){t&&t.i&&(He.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(He.has(t))return;He.add(t),_e.c.push(()=>{He.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function dr(t,e){t.d(1),e.delete(t.key)}function Tt(t,e){S(t,1,1,()=>{e.delete(t.key)})}function xe(t,e,n,o,s,i,r,l,a,c,u,d){let h=t.length,f=i.length,p=h;const b={};for(;p--;)b[t[p].key]=p;const m=[],A=new Map,Y=new Map,L=[];for(p=f;p--;){const I=d(s,i,p),U=n(I);let z=r.get(U);z?o&&L.push(()=>z.p(I,e)):(z=c(U,I),z.c()),A.set(U,m[p]=z),U in b&&Y.set(U,Math.abs(p-b[U]))}const q=new Set,C=new Set;function N(I){k(I,1),I.m(l,u),r.set(I.key,I),u=I.first,f--}for(;h&&f;){const I=m[f-1],U=t[h-1],z=I.key,w=U.key;I===U?(u=I.first,h--,f--):A.has(w)?!r.has(z)||q.has(z)?N(I):C.has(w)?h--:Y.get(z)>Y.get(w)?(C.add(z),N(I)):(q.add(w),h--):(a(U,r),h--)}for(;h--;){const I=t[h];A.has(I.key)||a(I,r)}for(;f;)N(m[f-1]);return Q(L),m}function mr(t,e){const n={},o={},s={$$scope:1};let i=t.length;for(;i--;){const r=t[i],l=e[i];if(l){for(const a in r)a in l||(o[a]=1);for(const a in l)s[a]||(n[a]=l[a],s[a]=1);t[i]=l}else for(const a in r)s[a]=1}for(const r in o)r in n||(n[r]=void 0);return n}function gr(t){return typeof t=="object"&&t!==null?t:{}}function j(t){t&&t.c()}function B(t,e,n,o){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),o||Ge(()=>{const r=t.$$.on_mount.map(yo).filter(ko);t.$$.on_destroy?t.$$.on_destroy.push(...r):Q(r),t.$$.on_mount=[]}),i.forEach(Ge)}function $(t,e){const n=t.$$;n.fragment!==null&&(hr(n.after_update),Q(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function _r(t,e){t.$$.dirty[0]===-1&&(ke.push(t),fr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ee(t,e,n,o,s,i,r,l=[-1]){const a=De;Ae(t);const c=t.$$={fragment:null,ctx:[],props:i,update:K,not_equal:s,bound:xt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:xt(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(d,h,...f)=>{const p=f.length?f[0]:h;return c.ctx&&s(c.ctx[d],c.ctx[d]=p)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](p),u&&_r(t,d)),h}):[],c.update(),u=!0,Q(c.before_update),c.fragment=o?o(c.ctx):!1,e.target){if(e.hydrate){const d=rr(e.target);c.fragment&&c.fragment.l(d),d.forEach(T)}else c.fragment&&c.fragment.c();e.intro&&k(t.$$.fragment),B(t,e.target,e.anchor,e.customElement),wo()}Ae(a)}class te{$destroy(){$(this,1),this.$destroy=K}$on(e,n){if(!ko(n))return K;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const s=o.indexOf(n);s!==-1&&o.splice(s,1)}}$set(e){this.$$set&&!sr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function br(t){let e,n;return{c(){e=je("svg"),n=je("use"),Ve(n,"xlink:href",t[0]),y(e,"style",t[3]),y(e,"data-id",t[1]),y(e,"class",t[2]),E(e,"popover__block",t[1])},m(o,s){v(o,e,s),P(e,n)},p(o,[s]){s&1&&Ve(n,"xlink:href",o[0]),s&8&&y(e,"style",o[3]),s&2&&y(e,"data-id",o[1]),s&4&&y(e,"class",o[2]),s&6&&E(e,"popover__block",o[1])},i:K,o:K,d(o){o&&T(e)}}}function yr(t,e,n){let{icon:o}=e,{id:s=""}=e,{className:i=""}=e,{style:r=""}=e;return t.$$set=l=>{"icon"in l&&n(0,o=l.icon),"id"in l&&n(1,s=l.id),"className"in l&&n(2,i=l.className),"style"in l&&n(3,r=l.style)},[o,s,i,r]}class et extends te{constructor(e){super(),ee(this,e,yr,br,x,{icon:0,id:1,className:2,style:3})}}function kr(t){let e,n;return{c(){e=je("svg"),n=je("use"),Ve(n,"xlink:href",t[1]),y(e,"style",t[3]),y(e,"class",t[2]),E(e,"b3-list-item__arrow--open",t[0])},m(o,s){v(o,e,s),P(e,n)},p(o,[s]){s&2&&Ve(n,"xlink:href",o[1]),s&8&&y(e,"style",o[3]),s&4&&y(e,"class",o[2]),s&5&&E(e,"b3-list-item__arrow--open",o[0])},i:K,o:K,d(o){o&&T(e)}}}function Sr(t,e,n){let{open:o=!1}=e,{icon:s="#iconRight"}=e,{className:i="b3-list-item__arrow"}=e,{style:r=void 0}=e;return t.$$set=l=>{"open"in l&&n(0,o=l.open),"icon"in l&&n(1,s=l.icon),"className"in l&&n(2,i=l.className),"style"in l&&n(3,r=l.style)},[o,s,i,r]}class wr extends te{constructor(e){super(),ee(this,e,Sr,kr,x,{open:0,icon:1,className:2,style:3})}}function Er(t){let e,n;return{c(){e=D("img"),y(e,"class","b3-list-item__graphic"),y(e,"alt","icon"),en(e.src,n=t[3])||y(e,"src",n)},m(o,s){v(o,e,s)},p(o,s){s&8&&!en(e.src,n=o[3])&&y(e,"src",n)},i:K,o:K,d(o){o&&T(e)}}}function Or(t){let e,n;return{c(){e=D("span"),n=me(t[2]),y(e,"class","b3-list-item__graphic")},m(o,s){v(o,e,s),P(e,n)},p(o,s){s&4&&Et(n,o[2])},i:K,o:K,d(o){o&&T(e)}}}function Tr(t){let e,n;return e=new et({props:{className:"b3-list-item__graphic",icon:t[2]}}),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.icon=o[2]),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function sn(t){let e;return{c(){e=D("span"),y(e,"class","b3-list-item__meta")},m(n,o){v(n,e,o),e.innerHTML=t[4]},p(n,o){o&16&&(e.innerHTML=n[4])},d(n){n&&T(e)}}}function rn(t){let e,n;return e=new gt({props:{items:t[6],className:null,fn__none:t[0],flex_1:!1,indent:t[7]}}),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&64&&(i.items=o[6]),s&1&&(i.fn__none=o[0]),s&128&&(i.indent=o[7]),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Nr(t){let e,n,o,s,i,r,l,a,c,u,d,h,f,p,b;o=new wr({props:{open:!t[0]}});const m=[Tr,Or,Er],A=[];function Y(C,N){return N&4&&(i=null),i==null&&(i=!!C[2].startsWith("#")),i?0:C[2]?1:C[3]?2:-1}~(r=Y(t,-1))&&(l=A[r]=m[r](t));let L=t[4]&&sn(t),q=t[6].length>0&&rn(t);return{c(){e=D("li"),n=D("span"),j(o.$$.fragment),s=F(),l&&l.c(),a=F(),c=D("span"),u=F(),L&&L.c(),d=F(),q&&q.c(),h=be(),y(n,"class","b3-list-item__toggle svelte-cyyh2i"),E(n,"hidden",t[6].length===0),y(c,"class","b3-list-item__text"),y(c,"style",t[5]),y(e,"class","b3-list-item svelte-cyyh2i")},m(C,N){v(C,e,N),P(e,n),B(o,n,null),P(e,s),~r&&A[r].m(e,null),P(e,a),P(e,c),c.innerHTML=t[1],P(e,u),L&&L.m(e,null),v(C,d,N),q&&q.m(C,N),v(C,h,N),f=!0,p||(b=V(e,"click",t[8]),p=!0)},p(C,[N]){const I={};N&1&&(I.open=!C[0]),o.$set(I),(!f||N&64)&&E(n,"hidden",C[6].length===0);let U=r;r=Y(C,N),r===U?~r&&A[r].p(C,N):(l&&(ie(),S(A[U],1,1,()=>{A[U]=null}),re()),~r?(l=A[r],l?l.p(C,N):(l=A[r]=m[r](C),l.c()),k(l,1),l.m(e,a)):l=null),(!f||N&2)&&(c.innerHTML=C[1]),(!f||N&32)&&y(c,"style",C[5]),C[4]?L?L.p(C,N):(L=sn(C),L.c(),L.m(e,null)):L&&(L.d(1),L=null),C[6].length>0?q?(q.p(C,N),N&64&&k(q,1)):(q=rn(C),q.c(),k(q,1),q.m(h.parentNode,h)):q&&(ie(),S(q,1,1,()=>{q=null}),re())},i(C){f||(k(o.$$.fragment,C),k(l),k(q),f=!0)},o(C){S(o.$$.fragment,C),S(l),S(q),f=!1},d(C){C&&T(e),$(o),~r&&A[r].d(),L&&L.d(),C&&T(d),q&&q.d(C),C&&T(h),p=!1,b()}}}function vr(t,e,n){let{text:o}=e,{icon:s=""}=e,{src:i=""}=e,{meta:r=""}=e,{style:l=""}=e,{fold:a=!0}=e,{children:c=[]}=e,{indent:u=""}=e;function d(){n(0,a=!a)}return t.$$set=h=>{"text"in h&&n(1,o=h.text),"icon"in h&&n(2,s=h.icon),"src"in h&&n(3,i=h.src),"meta"in h&&n(4,r=h.meta),"style"in h&&n(5,l=h.style),"fold"in h&&n(0,a=h.fold),"children"in h&&n(6,c=h.children),"indent"in h&&n(7,u=h.indent)},[a,o,s,i,r,l,c,u,d]}class Ar extends te{constructor(e){super(),ee(this,e,vr,Nr,x,{text:1,icon:2,src:3,meta:4,style:5,fold:0,children:6,indent:7})}}function an(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function ln(t,e){let n,o,s;const i=[e[6]];let r={};for(let l=0;l<i.length;l+=1)r=bo(r,i[l]);return o=new Ar({props:r}),{key:t,first:null,c(){n=be(),j(o.$$.fragment),this.first=n},m(l,a){v(l,n,a),B(o,l,a),s=!0},p(l,a){e=l;const c=a&1?mr(i,[gr(e[6])]):{};o.$set(c)},i(l){s||(k(o.$$.fragment,l),s=!0)},o(l){S(o.$$.fragment,l),s=!1},d(l){l&&T(n),$(o,l)}}}function Cr(t){let e,n=[],o=new Map,s,i=t[0];const r=l=>l[8];for(let l=0;l<i.length;l+=1){let a=an(t,i,l),c=r(a);o.set(c,n[l]=ln(c,a))}return{c(){e=D("ul");for(let l=0;l<n.length;l+=1)n[l].c();y(e,"class",t[1]),E(e,"fn__none",t[2]),E(e,"fn__flex-1",t[3]),ge(e,"margin-left",t[5]),ge(e,"width",t[4]>0?`${t[4]}px`:void 0)},m(l,a){v(l,e,a);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);s=!0},p(l,[a]){a&1&&(i=l[0],ie(),n=xe(n,a,r,1,l,i,o,e,Tt,ln,null,an),re()),(!s||a&2)&&y(e,"class",l[1]),(!s||a&6)&&E(e,"fn__none",l[2]),(!s||a&10)&&E(e,"fn__flex-1",l[3]),a&32&&ge(e,"margin-left",l[5]),a&16&&ge(e,"width",l[4]>0?`${l[4]}px`:void 0)},i(l){if(!s){for(let a=0;a<i.length;a+=1)k(n[a]);s=!0}},o(l){for(let a=0;a<n.length;a+=1)S(n[a]);s=!1},d(l){l&&T(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Br(t,e,n){let{items:o=[]}=e,{className:s="b3-list b3-list--background"}=e,{fn__none:i=!1}=e,{flex_1:r=!0}=e,{width:l=0}=e,{indent:a=""}=e;return t.$$set=c=>{"items"in c&&n(0,o=c.items),"className"in c&&n(1,s=c.className),"fn__none"in c&&n(2,i=c.fn__none),"flex_1"in c&&n(3,r=c.flex_1),"width"in c&&n(4,l=c.width),"indent"in c&&n(5,a=c.indent)},[o,s,i,r,l,a]}class gt extends te{constructor(e){super(),ee(this,e,Br,Cr,x,{items:0,className:1,fn__none:2,flex_1:3,width:4,indent:5})}}var cn={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},Ne=" ",un=/(italic|oblique)$/i,fn={},$r=function(t,e,n){var o=fn[t];if(!o){Array.isArray(t)||(t=[t]);for(var s=400,i="normal",r=[],l,a,c=0,u=t.length;c<u;++c){var d=t[c],h=d.split(" "),f=h[h.length-1].toLowerCase();f=="normal"||f=="italic"||f=="oblique"?(i=a?i:f,h.pop(),f=h[h.length-1].toLowerCase()):un.test(f)&&(f=f.replace(un,""),i=a?i:h[h.length-1].replace(f,""));for(var p in cn){var b=h.length>1?h[h.length-2].toLowerCase():"";if(f==p||f==p.replace("-","")||b+"-"+f==p){s=l?s:cn[p],h.pop(),b&&p.startsWith(b)&&h.pop();break}}!l&&typeof f=="number"&&(s=f);var m=h.join(Ne).replace("Klokantech Noto Sans","Noto Sans");m.indexOf(Ne)!==-1&&(m='"'+m+'"'),r.push(m)}o=fn[t]=[i,s,r]}return o[0]+Ne+o[1]+Ne+e+"px"+(n?"/"+n:"")+Ne+o[2]};const jr=go($r);function Dr(t,e=16){return jr(`${t.family} ${t.style}`,e)}function Pr(t){const{protyle:e,data:n,blockElements:o}=t;if(n){const s={element:e.wysiwyg.element,id:n.id,type:Mi.NodeType.NodeDocument};return{...s,isDocumentBlock:!0,isMultiBlock:!1,blocks:[s]}}else if(o&&o.length>0){const s=[];return o.forEach(i=>{s.push({element:i,id:i.dataset.nodeId,type:i.dataset.type,subtype:i.dataset.subtype})}),{...s[0],isDocumentBlock:!1,isMultiBlock:s.length>1,blocks:s}}return null}const Rr=t=>({focus:t&1}),pn=t=>({focus:t[0]});function hn(t,e,n){const o=t.slice();return o[13]=e[n],o}function dn(t){let e,n,o,s,i,r,l;return n=new et({props:{icon:"#iconSearch",className:"b3-form__icon-icon"}}),{c(){e=D("div"),j(n.$$.fragment),o=F(),s=D("input"),y(s,"placeholder",t[4]),y(s,"class","b3-text-field fn__block b3-form__icon-input"),y(e,"class","b3-form__icon")},m(a,c){v(a,e,c),B(n,e,null),P(e,o),P(e,s),se(s,t[1]),i=!0,r||(l=[V(s,"input",t[9]),V(s,"change",t[5])],r=!0)},p(a,c){(!i||c&16)&&y(s,"placeholder",a[4]),c&2&&s.value!==a[1]&&se(s,a[1])},i(a){i||(k(n.$$.fragment,a),i=!0)},o(a){S(n.$$.fragment,a),i=!1},d(a){a&&T(e),$(n),r=!1,Q(l)}}}function mn(t,e){let n,o,s,i,r=e[13].text+"",l,a,c,u,d;o=new et({props:{icon:e[13].icon,className:"b3-list-item__graphic"}});function h(){return e[10](e[13])}function f(){return e[11](e[13])}return{key:t,first:null,c(){n=D("li"),j(o.$$.fragment),s=F(),i=D("span"),l=F(),y(i,"class","b3-list-item__text svelte-15drd7h"),y(n,"role","button"),y(n,"data-name",a=e[13].name),y(n,"class","b3-list-item"),E(n,"b3-list-item--focus",e[13].key===e[0]),this.first=n},m(p,b){v(p,n,b),B(o,n,null),P(n,s),P(n,i),i.innerHTML=r,P(n,l),c=!0,u||(d=[V(n,"click",h),V(n,"keyup",f)],u=!0)},p(p,b){e=p;const m={};b&4&&(m.icon=e[13].icon),o.$set(m),(!c||b&4)&&r!==(r=e[13].text+"")&&(i.innerHTML=r),(!c||b&4&&a!==(a=e[13].name))&&y(n,"data-name",a),(!c||b&5)&&E(n,"b3-list-item--focus",e[13].key===e[0])},i(p){c||(k(o.$$.fragment,p),c=!0)},o(p){S(o.$$.fragment,p),c=!1},d(p){p&&T(n),$(o),u=!1,Q(d)}}}function Fr(t){let e;return{c(){e=me("Container")},m(n,o){v(n,e,o)},d(n){n&&T(e)}}}function Mr(t){let e,n,o,s=[],i=new Map,r,l,a,c=t[3]&&dn(t),u=t[2];const d=b=>b[13].key;for(let b=0;b<u.length;b+=1){let m=hn(t,u,b),A=d(m);i.set(A,s[b]=mn(A,m))}const h=t[8].default,f=ce(h,t,t[7],pn),p=f||Fr();return{c(){e=D("div"),n=D("ul"),c&&c.c(),o=F();for(let b=0;b<s.length;b+=1)s[b].c();r=F(),l=D("div"),p&&p.c(),y(n,"class","b3-tab-bar b3-list b3-list--background"),y(l,"class","config__tab-wrap"),y(e,"class","fn__flex-1 fn__flex config__panel")},m(b,m){v(b,e,m),P(e,n),c&&c.m(n,null),P(n,o);for(let A=0;A<s.length;A+=1)s[A]&&s[A].m(n,null);P(e,r),P(e,l),p&&p.m(l,null),a=!0},p(b,[m]){b[3]?c?(c.p(b,m),m&8&&k(c,1)):(c=dn(b),c.c(),k(c,1),c.m(n,o)):c&&(ie(),S(c,1,1,()=>{c=null}),re()),m&69&&(u=b[2],ie(),s=xe(s,m,d,1,b,u,i,n,Tt,mn,null,hn),re()),f&&f.p&&(!a||m&129)&&fe(f,h,b,b[7],a?ue(h,b[7],m,Rr):pe(b[7]),pn)},i(b){if(!a){k(c);for(let m=0;m<u.length;m+=1)k(s[m]);k(p,b),a=!0}},o(b){S(c);for(let m=0;m<s.length;m+=1)S(s[m]);S(p,b),a=!1},d(b){b&&T(e),c&&c.d();for(let m=0;m<s.length;m+=1)s[m].d();p&&p.d(b)}}}function Lr(t,e,n){let{$$slots:o={},$$scope:s}=e,{panels:i}=e,{focus:r}=e,{searchEnable:l=!1}=e,{searchPlaceholder:a=""}=e,{searchValue:c=""}=e;const u=Ot();function d(){u("search-changed",{value:c})}function h(m){u("changed",{key:m}),n(0,r=m)}function f(){c=this.value,n(1,c)}const p=m=>h(m.key),b=m=>h(m.key);return t.$$set=m=>{"panels"in m&&n(2,i=m.panels),"focus"in m&&n(0,r=m.focus),"searchEnable"in m&&n(3,l=m.searchEnable),"searchPlaceholder"in m&&n(4,a=m.searchPlaceholder),"searchValue"in m&&n(1,c=m.searchValue),"$$scope"in m&&n(7,s=m.$$scope)},[r,c,i,l,a,d,h,s,o,f,p,b]}class qr extends te{constructor(e){super(),ee(this,e,Lr,Mr,x,{panels:2,focus:0,searchEnable:3,searchPlaceholder:4,searchValue:1})}}function Ir(t){let e,n;const o=t[4].default,s=ce(o,t,t[3],null);return{c(){e=D("div"),s&&s.c(),y(e,"data-name",t[2]),y(e,"class","config__tab-container"),E(e,"fn__none",!t[0]),E(e,"config__tab-container--top",t[1])},m(i,r){v(i,e,r),s&&s.m(e,null),n=!0},p(i,[r]){s&&s.p&&(!n||r&8)&&fe(s,o,i,i[3],n?ue(o,i[3],r,null):pe(i[3]),null),(!n||r&4)&&y(e,"data-name",i[2]),(!n||r&1)&&E(e,"fn__none",!i[0]),(!n||r&2)&&E(e,"config__tab-container--top",i[1])},i(i){n||(k(s,i),n=!0)},o(i){S(s,i),n=!1},d(i){i&&T(e),s&&s.d(i)}}}function Ur(t,e,n){let{$$slots:o={},$$scope:s}=e,{display:i=!0}=e,{top:r=!0}=e,{name:l=""}=e;return t.$$set=a=>{"display"in a&&n(0,i=a.display),"top"in a&&n(1,r=a.top),"name"in a&&n(2,l=a.name),"$$scope"in a&&n(3,s=a.$$scope)},[i,r,l,s,o]}class Me extends te{constructor(e){super(),ee(this,e,Ur,Ir,x,{display:0,top:1,name:2})}}const Hr=t=>({}),gn=t=>({}),zr=t=>({}),_n=t=>({});function bn(t){let e,n;const o=t[6].icon,s=ce(o,t,t[5],_n);return{c(){e=D("span"),s&&s.c(),y(e,"class","item__icon")},m(i,r){v(i,e,r),s&&s.m(e,null),n=!0},p(i,r){s&&s.p&&(!n||r&32)&&fe(s,o,i,i[5],n?ue(o,i[5],r,zr):pe(i[5]),_n)},i(i){n||(k(s,i),n=!0)},o(i){S(s,i),n=!1},d(i){i&&T(e),s&&s.d(i)}}}function Vr(t){let e;return{c(){e=me("text")},m(n,o){v(n,e,o)},d(n){n&&T(e)}}}function Gr(t){let e,n,o,s,i,r,l,a,c,u,d=t[3].icon&&bn(t);const h=t[6].text,f=ce(h,t,t[5],gn),p=f||Vr();return{c(){e=D("div"),n=D("span"),o=F(),d&&d.c(),s=F(),i=D("span"),p&&p.c(),r=F(),l=D("span"),y(n,"class","fn__flex-1"),y(i,"class","item__text"),y(l,"class","fn__flex-1"),y(e,"role","button"),y(e,"data-type",t[0]),y(e,"class","item item--full"),E(e,"item--focus",t[1])},m(b,m){v(b,e,m),P(e,n),P(e,o),d&&d.m(e,null),P(e,s),P(e,i),p&&p.m(i,null),P(e,r),P(e,l),a=!0,c||(u=V(e,"click",t[2]),c=!0)},p(b,[m]){b[3].icon?d?(d.p(b,m),m&8&&k(d,1)):(d=bn(b),d.c(),k(d,1),d.m(e,s)):d&&(ie(),S(d,1,1,()=>{d=null}),re()),f&&f.p&&(!a||m&32)&&fe(f,h,b,b[5],a?ue(h,b[5],m,Hr):pe(b[5]),gn),(!a||m&1)&&y(e,"data-type",b[0]),(!a||m&2)&&E(e,"item--focus",b[1])},i(b){a||(k(d),k(p,b),a=!0)},o(b){S(d),S(p,b),a=!1},d(b){b&&T(e),d&&d.d(),p&&p.d(b),c=!1,u()}}}function Kr(t,e,n){let{$$slots:o={},$$scope:s}=e;const i=ir(o);let{key:r}=e,{name:l=""}=e,{focus:a=!1}=e;const c=Ot();function u(){a||c("changed",{key:r})}return t.$$set=d=>{"key"in d&&n(4,r=d.key),"name"in d&&n(0,l=d.name),"focus"in d&&n(1,a=d.focus),"$$scope"in d&&n(5,s=d.$$scope)},[l,a,u,i,r,s,o]}class Jr extends te{constructor(e){super(),ee(this,e,Kr,Gr,x,{key:4,name:0,focus:1})}}const Wr=t=>({focus:t&1}),yn=t=>({focus:t[0]});function kn(t,e,n){const o=t.slice();return o[5]=e[n],o}function Yr(t){let e,n=t[5].icon+"",o;return{c(){e=new Ze(!1),o=be(),e.a=o},m(s,i){e.m(n,s,i),v(s,o,i)},p(s,i){i&2&&n!==(n=s[5].icon+"")&&e.p(n)},i:K,o:K,d(s){s&&T(o),s&&e.d()}}}function Qr(t){let e,n;return e=new et({props:{icon:t[5].icon}}),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&2&&(i.icon=o[5].icon),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Xr(t){let e,n,o,s,i,r;const l=[Qr,Yr],a=[];function c(u,d){return d&2&&(n=null),n==null&&(n=!!u[5].icon.startsWith("#")),n?0:1}return o=c(t,-1),s=a[o]=l[o](t),{c(){e=D("span"),s.c(),i=F(),y(e,"slot","icon")},m(u,d){v(u,e,d),a[o].m(e,null),P(e,i),r=!0},p(u,d){let h=o;o=c(u,d),o===h?a[o].p(u,d):(ie(),S(a[h],1,1,()=>{a[h]=null}),re(),s=a[o],s?s.p(u,d):(s=a[o]=l[o](u),s.c()),k(s,1),s.m(e,i))},i(u){r||(k(s),r=!0)},o(u){S(s),r=!1},d(u){u&&T(e),a[o].d()}}}function Zr(t){let e,n,o=t[5].text+"",s;return{c(){e=D("span"),n=new Ze(!1),s=F(),n.a=s,y(e,"slot","text")},m(i,r){v(i,e,r),n.m(o,e),P(e,s)},p(i,r){r&2&&o!==(o=i[5].text+"")&&n.p(o)},d(i){i&&T(e)}}}function Sn(t,e){let n,o,s;return o=new Jr({props:{key:e[5].key,name:e[5].name,focus:e[5].key===e[0],$$slots:{text:[Zr],icon:[Xr]},$$scope:{ctx:e}}}),o.$on("changed",e[2]),{key:t,first:null,c(){n=be(),j(o.$$.fragment),this.first=n},m(i,r){v(i,n,r),B(o,i,r),s=!0},p(i,r){e=i;const l={};r&2&&(l.key=e[5].key),r&2&&(l.name=e[5].name),r&3&&(l.focus=e[5].key===e[0]),r&18&&(l.$$scope={dirty:r,ctx:e}),o.$set(l)},i(i){s||(k(o.$$.fragment,i),s=!0)},o(i){S(o.$$.fragment,i),s=!1},d(i){i&&T(n),$(o,i)}}}function xr(t){let e;return{c(){e=me("Container")},m(n,o){v(n,e,o)},d(n){n&&T(e)}}}function ea(t){let e,n,o=[],s=new Map,i,r,l,a=t[1];const c=f=>f[5].key;for(let f=0;f<a.length;f+=1){let p=kn(t,a,f),b=c(p);s.set(b,o[f]=Sn(b,p))}const u=t[3].default,d=ce(u,t,t[4],yn),h=d||xr();return{c(){e=D("div"),n=D("div");for(let f=0;f<o.length;f+=1)o[f].c();i=F(),r=D("div"),h&&h.c(),y(n,"class","layout-tab-bar fn__flex"),y(r,"class","fn__flex-1"),y(e,"class","fn__flex-column"),ge(e,"height","100%")},m(f,p){v(f,e,p),P(e,n);for(let b=0;b<o.length;b+=1)o[b]&&o[b].m(n,null);P(e,i),P(e,r),h&&h.m(r,null),l=!0},p(f,[p]){p&7&&(a=f[1],ie(),o=xe(o,p,c,1,f,a,s,n,Tt,Sn,null,kn),re()),d&&d.p&&(!l||p&17)&&fe(d,u,f,f[4],l?ue(u,f[4],p,Wr):pe(f[4]),yn)},i(f){if(!l){for(let p=0;p<a.length;p+=1)k(o[p]);k(h,f),l=!0}},o(f){for(let p=0;p<o.length;p+=1)S(o[p]);S(h,f),l=!1},d(f){f&&T(e);for(let p=0;p<o.length;p+=1)o[p].d();h&&h.d(f)}}}function ta(t,e,n){let{$$slots:o={},$$scope:s}=e,{tabs:i}=e,{focus:r}=e;function l(a){n(0,r=a.detail.key)}return t.$$set=a=>{"tabs"in a&&n(1,i=a.tabs),"focus"in a&&n(0,r=a.focus),"$$scope"in a&&n(4,s=a.$$scope)},[r,i,l,o,s]}class na extends te{constructor(e){super(),ee(this,e,ta,ea,x,{tabs:1,focus:0})}}const oa=t=>({}),wn=t=>({}),sa=t=>({}),En=t=>({}),ia=t=>({}),On=t=>({}),ra=t=>({}),Tn=t=>({});function aa(t){let e,n;return{c(){e=new Ze(!1),n=be(),e.a=n},m(o,s){e.m(t[0],o,s),v(o,n,s)},p(o,s){s&1&&e.p(o[0])},d(o){o&&T(n),o&&e.d()}}}function la(t){let e,n;return{c(){e=new Ze(!1),n=be(),e.a=n},m(o,s){e.m(t[1],o,s),v(o,n,s)},p(o,s){s&2&&e.p(o[1])},d(o){o&&T(n),o&&e.d()}}}function Nn(t){let e,n,o;const s=t[4].input,i=ce(s,t,t[3],En);return{c(){e=D("div"),n=F(),i&&i.c(),y(e,"class","fn__hr")},m(r,l){v(r,e,l),v(r,n,l),i&&i.m(r,l),o=!0},p(r,l){i&&i.p&&(!o||l&8)&&fe(i,s,r,r[3],o?ue(s,r[3],l,sa):pe(r[3]),En)},i(r){o||(k(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(e),r&&T(n),i&&i.d(r)}}}function vn(t){let e,n,o;const s=t[4].input,i=ce(s,t,t[3],wn);return{c(){e=D("span"),n=F(),i&&i.c(),y(e,"class","fn__space")},m(r,l){v(r,e,l),v(r,n,l),i&&i.m(r,l),o=!0},p(r,l){i&&i.p&&(!o||l&8)&&fe(i,s,r,r[3],o?ue(s,r[3],l,oa):pe(r[3]),wn)},i(r){o||(k(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&T(e),r&&T(n),i&&i.d(r)}}}function ca(t){let e,n,o,s,i,r,l;const a=t[4].title,c=ce(a,t,t[3],Tn),u=c||aa(t),d=t[4].text,h=ce(d,t,t[3],On),f=h||la(t);let p=t[2]&&Nn(t),b=!t[2]&&vn(t);return{c(){e=D("label"),n=D("div"),u&&u.c(),o=F(),s=D("div"),f&&f.c(),i=F(),p&&p.c(),r=F(),b&&b.c(),y(s,"class","b3-label__text"),y(n,"class","fn__flex-1 svelte-2m76cy"),E(n,"visible",t[2]),y(e,"class","fn__flex b3-label")},m(m,A){v(m,e,A),P(e,n),u&&u.m(n,null),P(n,o),P(n,s),f&&f.m(s,null),P(n,i),p&&p.m(n,null),P(e,r),b&&b.m(e,null),l=!0},p(m,[A]){c?c.p&&(!l||A&8)&&fe(c,a,m,m[3],l?ue(a,m[3],A,ra):pe(m[3]),Tn):u&&u.p&&(!l||A&1)&&u.p(m,l?A:-1),h?h.p&&(!l||A&8)&&fe(h,d,m,m[3],l?ue(d,m[3],A,ia):pe(m[3]),On):f&&f.p&&(!l||A&2)&&f.p(m,l?A:-1),m[2]?p?(p.p(m,A),A&4&&k(p,1)):(p=Nn(m),p.c(),k(p,1),p.m(n,null)):p&&(ie(),S(p,1,1,()=>{p=null}),re()),(!l||A&4)&&E(n,"visible",m[2]),m[2]?b&&(ie(),S(b,1,1,()=>{b=null}),re()):b?(b.p(m,A),A&4&&k(b,1)):(b=vn(m),b.c(),k(b,1),b.m(e,null))},i(m){l||(k(u,m),k(f,m),k(p),k(b),l=!0)},o(m){S(u,m),S(f,m),S(p),S(b),l=!1},d(m){m&&T(e),u&&u.d(m),f&&f.d(m),p&&p.d(),b&&b.d()}}}function ua(t,e,n){let{$$slots:o={},$$scope:s}=e,{title:i=""}=e,{text:r=""}=e,{block:l=!1}=e;return t.$$set=a=>{"title"in a&&n(0,i=a.title),"text"in a&&n(1,r=a.text),"block"in a&&n(2,l=a.block),"$$scope"in a&&n(3,s=a.$$scope)},[i,r,l,s,o]}class J extends te{constructor(e){super(),ee(this,e,ua,ca,x,{title:0,text:1,block:2})}}var H=(t=>(t[t.checkbox=0]="checkbox",t[t.text=1]="text",t[t.number=2]="number",t[t.slider=3]="slider",t[t.button=4]="button",t[t.select=5]="select",t[t.textarea=6]="textarea",t))(H||{});function An(t,e,n){const o=t.slice();return o[19]=e[n],o}function fa(t){let e,n,o;return{c(){e=D("textarea"),e.disabled=t[2],y(e,"class","b3-text-field"),y(e,"placeholder",t[5]),E(e,"fn__block",t[3]),E(e,"fn__size200",!t[3]&&t[4]),ge(e,"height",t[8]>0?`${t[8]}px`:void 0)},m(s,i){v(s,e,i),se(e,t[0]),n||(o=[V(e,"input",t[17]),V(e,"change",t[10])],n=!0)},p(s,i){i&4&&(e.disabled=s[2]),i&32&&y(e,"placeholder",s[5]),i&65&&se(e,s[0]),i&8&&E(e,"fn__block",s[3]),i&24&&E(e,"fn__size200",!s[3]&&s[4]),i&256&&ge(e,"height",s[8]>0?`${s[8]}px`:void 0)},d(s){s&&T(e),n=!1,Q(o)}}}function pa(t){let e,n=[],o=new Map,s,i,r=t[6];const l=a=>a[19].key;for(let a=0;a<r.length;a+=1){let c=An(t,r,a),u=l(c);o.set(u,n[a]=Cn(u,c))}return{c(){e=D("select");for(let a=0;a<n.length;a+=1)n[a].c();e.disabled=t[2],y(e,"class","b3-select"),t[0]===void 0&&Ge(()=>t[16].call(e)),E(e,"fn__block",t[3]),E(e,"fn__size200",!t[3]&&t[4]),E(e,"fn__flex-center",!t[3])},m(a,c){v(a,e,c);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);tn(e,t[0],!0),s||(i=[V(e,"change",t[16]),V(e,"change",t[10])],s=!0)},p(a,c){c&64&&(r=a[6],n=xe(n,c,l,1,a,r,o,e,dr,Cn,null,An)),c&4&&(e.disabled=a[2]),c&65&&tn(e,a[0]),c&8&&E(e,"fn__block",a[3]),c&24&&E(e,"fn__size200",!a[3]&&a[4]),c&8&&E(e,"fn__flex-center",!a[3])},d(a){a&&T(e);for(let c=0;c<n.length;c+=1)n[c].d();s=!1,Q(i)}}}function ha(t){let e,n,o,s;return{c(){e=D("button"),n=me(t[0]),e.disabled=t[2],y(e,"class","b3-button b3-button--outline"),E(e,"fn__block",t[3]),E(e,"fn__size200",!t[3]&&t[4]),E(e,"fn__flex-center",!t[3])},m(i,r){v(i,e,r),P(e,n),o||(s=V(e,"click",t[9]),o=!0)},p(i,r){r&1&&Et(n,i[0]),r&4&&(e.disabled=i[2]),r&8&&E(e,"fn__block",i[3]),r&24&&E(e,"fn__size200",!i[3]&&i[4]),r&8&&E(e,"fn__flex-center",!i[3])},d(i){i&&T(e),o=!1,s()}}}function da(t){let e,n,o,s,i,r;return{c(){e=D("input"),e.disabled=t[2],y(e,"class","b3-slider svelte-edt8og"),y(e,"type","range"),y(e,"min",n=t[7].min),y(e,"max",o=t[7].max),y(e,"step",s=t[7].step),E(e,"fn__block",t[3]),E(e,"fn__size200",!t[3]&&t[4])},m(l,a){v(l,e,a),se(e,t[0]),i||(r=[V(e,"change",t[15]),V(e,"input",t[15]),V(e,"change",t[10])],i=!0)},p(l,a){a&4&&(e.disabled=l[2]),a&128&&n!==(n=l[7].min)&&y(e,"min",n),a&128&&o!==(o=l[7].max)&&y(e,"max",o),a&128&&s!==(s=l[7].step)&&y(e,"step",s),a&65&&se(e,l[0]),a&8&&E(e,"fn__block",l[3]),a&24&&E(e,"fn__size200",!l[3]&&l[4])},d(l){l&&T(e),i=!1,Q(r)}}}function ma(t){let e,n,o,s,i,r;return{c(){e=D("input"),e.disabled=t[2],y(e,"class","b3-text-field"),y(e,"type","number"),y(e,"placeholder",t[5]),y(e,"min",n=t[7].min),y(e,"max",o=t[7].max),y(e,"step",s=t[7].step),E(e,"fn__block",t[3]),E(e,"fn__size200",!t[3]&&t[4]),E(e,"fn__flex-center",!t[3])},m(l,a){v(l,e,a),se(e,t[0]),i||(r=[V(e,"input",t[14]),V(e,"change",t[10])],i=!0)},p(l,a){a&4&&(e.disabled=l[2]),a&32&&y(e,"placeholder",l[5]),a&128&&n!==(n=l[7].min)&&y(e,"min",n),a&128&&o!==(o=l[7].max)&&y(e,"max",o),a&128&&s!==(s=l[7].step)&&y(e,"step",s),a&65&&dt(e.value)!==l[0]&&se(e,l[0]),a&8&&E(e,"fn__block",l[3]),a&24&&E(e,"fn__size200",!l[3]&&l[4]),a&8&&E(e,"fn__flex-center",!l[3])},d(l){l&&T(e),i=!1,Q(r)}}}function ga(t){let e,n,o;return{c(){e=D("input"),e.disabled=t[2],y(e,"class","b3-text-field"),y(e,"placeholder",t[5]),E(e,"fn__block",t[3]),E(e,"fn__size200",!t[3]&&t[4]),E(e,"fn__flex-center",!t[3])},m(s,i){v(s,e,i),se(e,t[0]),n||(o=[V(e,"input",t[13]),V(e,"change",t[10])],n=!0)},p(s,i){i&4&&(e.disabled=s[2]),i&32&&y(e,"placeholder",s[5]),i&65&&e.value!==s[0]&&se(e,s[0]),i&8&&E(e,"fn__block",s[3]),i&24&&E(e,"fn__size200",!s[3]&&s[4]),i&8&&E(e,"fn__flex-center",!s[3])},d(s){s&&T(e),n=!1,Q(o)}}}function _a(t){let e,n,o;return{c(){e=D("input"),e.disabled=t[2],y(e,"class","b3-switch svelte-edt8og"),y(e,"type","checkbox"),E(e,"fn__block",t[3]),E(e,"fn__flex-center",!t[3])},m(s,i){v(s,e,i),e.checked=t[0],n||(o=[V(e,"change",t[12]),V(e,"change",t[10])],n=!0)},p(s,i){i&4&&(e.disabled=s[2]),i&65&&(e.checked=s[0]),i&8&&E(e,"fn__block",s[3]),i&8&&E(e,"fn__flex-center",!s[3])},d(s){s&&T(e),n=!1,Q(o)}}}function Cn(t,e){let n,o=e[19].text+"",s,i;return{key:t,first:null,c(){n=D("option"),s=me(o),n.__value=i=e[19].key,n.value=n.__value,this.first=n},m(r,l){v(r,n,l),P(n,s)},p(r,l){e=r,l&64&&o!==(o=e[19].text+"")&&Et(s,o),l&64&&i!==(i=e[19].key)&&(n.__value=i,n.value=n.__value)},d(r){r&&T(n)}}}function ba(t){let e;function n(i,r){if(i[1]===H.checkbox)return _a;if(i[1]===H.text)return ga;if(i[1]===H.number)return ma;if(i[1]===H.slider)return da;if(i[1]===H.button)return ha;if(i[1]===H.select)return pa;if(i[1]===H.textarea)return fa}let o=n(t),s=o&&o(t);return{c(){s&&s.c(),e=be()},m(i,r){s&&s.m(i,r),v(i,e,r)},p(i,[r]){o===(o=n(i))&&s?s.p(i,r):(s&&s.d(1),s=o&&o(i),s&&(s.c(),s.m(e.parentNode,e)))},i:K,o:K,d(i){s&&s.d(i),i&&T(e)}}}function ya(t,e,n){let{type:o}=e,{settingKey:s}=e,{settingValue:i}=e,{disabled:r=!1}=e,{block:l=!1}=e,{normal:a=!0}=e,{placeholder:c=""}=e,{options:u=[]}=e,{limits:d={min:0,max:100,step:1}}=e,{height:h=0}=e;const f=Ot();function p(N){f("clicked",{event:N})}function b(N){f("changed",{key:s,value:i,event:N})}function m(){i=this.checked,n(0,i),n(6,u)}function A(){i=this.value,n(0,i),n(6,u)}function Y(){i=dt(this.value),n(0,i),n(6,u)}function L(){i=dt(this.value),n(0,i),n(6,u)}function q(){i=ar(this),n(0,i),n(6,u)}function C(){i=this.value,n(0,i),n(6,u)}return t.$$set=N=>{"type"in N&&n(1,o=N.type),"settingKey"in N&&n(11,s=N.settingKey),"settingValue"in N&&n(0,i=N.settingValue),"disabled"in N&&n(2,r=N.disabled),"block"in N&&n(3,l=N.block),"normal"in N&&n(4,a=N.normal),"placeholder"in N&&n(5,c=N.placeholder),"options"in N&&n(6,u=N.options),"limits"in N&&n(7,d=N.limits),"height"in N&&n(8,h=N.height)},[i,o,r,l,a,c,u,d,h,p,b,s,m,A,Y,L,q,C]}class W extends te{constructor(e){super(),ee(this,e,ya,ba,x,{type:1,settingKey:11,settingValue:0,disabled:2,block:3,normal:4,placeholder:5,options:6,limits:7,height:8})}}function ka(t){let e,n;return e=new W({props:{slot:"input",type:H.button,settingKey:"Reset",settingValue:t[3].settings.generalSettings.reset.text}}),e.$on("clicked",t[5]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p:K,i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Sa(t){let e,n;return e=new W({props:{slot:"input",type:H.button,settingKey:"showSystemFonts",settingValue:t[3].settings.generalSettings.showSystemFonts.text}}),e.$on("clicked",t[8]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p:K,i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function wa(t){let e,n;return e=new W({props:{slot:"input",type:H.button,settingKey:"showSystemFonts",settingValue:t[3].settings.generalSettings.showUsableFonts.text}}),e.$on("clicked",t[9]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p:K,i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Ea(t){let e,n,o,s,i,r;return e=new J({props:{title:t[3].settings.generalSettings.reset.title,text:t[3].settings.generalSettings.reset.description,$$slots:{input:[ka]},$$scope:{ctx:t}}}),o=new J({props:{title:t[3].settings.generalSettings.showSystemFonts.title,text:t[3].settings.generalSettings.showSystemFonts.description,$$slots:{input:[Sa]},$$scope:{ctx:t}}}),i=new J({props:{title:t[3].settings.generalSettings.showUsableFonts.title,text:t[3].settings.generalSettings.showUsableFonts.description,$$slots:{input:[wa]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),n=F(),j(o.$$.fragment),s=F(),j(i.$$.fragment)},m(l,a){B(e,l,a),v(l,n,a),B(o,l,a),v(l,s,a),B(i,l,a),r=!0},p(l,a){const c={};a&134217728&&(c.$$scope={dirty:a,ctx:l}),e.$set(c);const u={};a&134217730&&(u.$$scope={dirty:a,ctx:l}),o.$set(u);const d={};a&134217730&&(d.$$scope={dirty:a,ctx:l}),i.$set(d)},i(l){r||(k(e.$$.fragment,l),k(o.$$.fragment,l),k(i.$$.fragment,l),r=!0)},o(l){S(e.$$.fragment,l),S(o.$$.fragment,l),S(i.$$.fragment,l),r=!1},d(l){$(e,l),l&&T(n),$(o,l),l&&T(s),$(i,l)}}}function Oa(t){let e,n;return e=new W({props:{slot:"input",type:H.checkbox,settingKey:"enable",settingValue:t[0].css.enable}}),e.$on("changed",t[10]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&1&&(i.settingValue=o[0].css.enable),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Ta(t){let e,n;return e=new W({props:{slot:"input",block:!0,type:H.textarea,height:t[2],settingKey:"code",settingValue:t[0].css.code,placeholder:t[3].settings.cssSettings.snippet.placeholder}}),e.$on("changed",t[11]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.height=o[2]),s&1&&(i.settingValue=o[0].css.code),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Na(t){let e,n,o,s;return e=new J({props:{title:t[3].settings.cssSettings.enable.title,text:t[3].settings.cssSettings.enable.description,$$slots:{input:[Oa]},$$scope:{ctx:t}}}),o=new J({props:{block:!0,title:t[3].settings.cssSettings.snippet.title,text:t[3].settings.cssSettings.snippet.description,$$slots:{input:[Ta]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),n=F(),j(o.$$.fragment)},m(i,r){B(e,i,r),v(i,n,r),B(o,i,r),s=!0},p(i,r){const l={};r&134217729&&(l.$$scope={dirty:r,ctx:i}),e.$set(l);const a={};r&134217733&&(a.$$scope={dirty:r,ctx:i}),o.$set(a)},i(i){s||(k(e.$$.fragment,i),k(o.$$.fragment,i),s=!0)},o(i){S(e.$$.fragment,i),S(o.$$.fragment,i),s=!1},d(i){$(e,i),i&&T(n),$(o,i)}}}function va(t){let e,n;return e=new W({props:{slot:"input",type:H.checkbox,settingKey:"enable",settingValue:t[0].fonts.base.enable}}),e.$on("changed",t[12]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&1&&(i.settingValue=o[0].fonts.base.enable),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Aa(t){let e,n;return e=new W({props:{slot:"input",block:!0,type:H.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.base.list.join(`
`),placeholder:t[3].settings.fontsSettings.base.fontsList.placeholder}}),e.$on("changed",t[13]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.height=o[2]),s&1&&(i.settingValue=o[0].fonts.base.list.join(`
`)),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Ca(t){let e,n;return e=new W({props:{slot:"input",type:H.checkbox,settingKey:"enable",settingValue:t[0].fonts.code.enable}}),e.$on("changed",t[14]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&1&&(i.settingValue=o[0].fonts.code.enable),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Ba(t){let e,n;return e=new W({props:{slot:"input",block:!0,type:H.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.code.list.join(`
`),placeholder:t[3].settings.fontsSettings.code.fontsList.placeholder}}),e.$on("changed",t[15]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.height=o[2]),s&1&&(i.settingValue=o[0].fonts.code.list.join(`
`)),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function $a(t){let e,n;return e=new W({props:{slot:"input",type:H.checkbox,settingKey:"enable",settingValue:t[0].fonts.graph.enable}}),e.$on("changed",t[16]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&1&&(i.settingValue=o[0].fonts.graph.enable),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function ja(t){let e,n;return e=new W({props:{slot:"input",block:!0,type:H.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.graph.list.join(`
`),placeholder:t[3].settings.fontsSettings.graph.fontsList.placeholder}}),e.$on("changed",t[17]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.height=o[2]),s&1&&(i.settingValue=o[0].fonts.graph.list.join(`
`)),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Da(t){let e,n;return e=new W({props:{slot:"input",type:H.checkbox,settingKey:"enable",settingValue:t[0].fonts.math.enable}}),e.$on("changed",t[18]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&1&&(i.settingValue=o[0].fonts.math.enable),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Pa(t){let e,n;return e=new W({props:{slot:"input",block:!0,type:H.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.math.list.join(`
`),placeholder:t[3].settings.fontsSettings.math.fontsList.placeholder}}),e.$on("changed",t[19]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.height=o[2]),s&1&&(i.settingValue=o[0].fonts.math.list.join(`
`)),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Ra(t){let e,n;return e=new W({props:{slot:"input",type:H.checkbox,settingKey:"enable",settingValue:t[0].fonts.emoji.enable}}),e.$on("changed",t[20]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&1&&(i.settingValue=o[0].fonts.emoji.enable),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Fa(t){let e,n;return e=new W({props:{slot:"input",block:!0,type:H.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.emoji.list.join(`
`),placeholder:t[3].settings.fontsSettings.emoji.fontsList.placeholder}}),e.$on("changed",t[21]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.height=o[2]),s&1&&(i.settingValue=o[0].fonts.emoji.list.join(`
`)),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Ma(t){let e,n,o,s,i,r,l,a,c,u,d,h,f,p,b,m,A,Y,L,q,C,N,I,U,z;return n=new J({props:{title:t[3].settings.fontsSettings.base.enable.title,text:t[3].settings.fontsSettings.base.enable.description,$$slots:{input:[va]},$$scope:{ctx:t}}}),s=new J({props:{block:!0,title:t[3].settings.fontsSettings.base.fontsList.title,text:t[3].settings.fontsSettings.base.fontsList.description,$$slots:{input:[Aa]},$$scope:{ctx:t}}}),l=new J({props:{title:t[3].settings.fontsSettings.code.enable.title,text:t[3].settings.fontsSettings.code.enable.description,$$slots:{input:[Ca]},$$scope:{ctx:t}}}),c=new J({props:{block:!0,title:t[3].settings.fontsSettings.code.fontsList.title,text:t[3].settings.fontsSettings.code.fontsList.description,$$slots:{input:[Ba]},$$scope:{ctx:t}}}),h=new J({props:{title:t[3].settings.fontsSettings.graph.enable.title,text:t[3].settings.fontsSettings.graph.enable.description,$$slots:{input:[$a]},$$scope:{ctx:t}}}),p=new J({props:{block:!0,title:t[3].settings.fontsSettings.graph.fontsList.title,text:t[3].settings.fontsSettings.graph.fontsList.description,$$slots:{input:[ja]},$$scope:{ctx:t}}}),A=new J({props:{title:t[3].settings.fontsSettings.math.enable.title,text:t[3].settings.fontsSettings.math.enable.description,$$slots:{input:[Da]},$$scope:{ctx:t}}}),L=new J({props:{block:!0,title:t[3].settings.fontsSettings.math.fontsList.title,text:t[3].settings.fontsSettings.math.fontsList.description,$$slots:{input:[Pa]},$$scope:{ctx:t}}}),N=new J({props:{title:t[3].settings.fontsSettings.emoji.enable.title,text:t[3].settings.fontsSettings.emoji.enable.description,$$slots:{input:[Ra]},$$scope:{ctx:t}}}),U=new J({props:{block:!0,title:t[3].settings.fontsSettings.emoji.fontsList.title,text:t[3].settings.fontsSettings.emoji.fontsList.description,$$slots:{input:[Fa]},$$scope:{ctx:t}}}),{c(){e=D("div"),j(n.$$.fragment),o=F(),j(s.$$.fragment),i=F(),r=D("div"),j(l.$$.fragment),a=F(),j(c.$$.fragment),u=F(),d=D("div"),j(h.$$.fragment),f=F(),j(p.$$.fragment),b=F(),m=D("div"),j(A.$$.fragment),Y=F(),j(L.$$.fragment),q=F(),C=D("div"),j(N.$$.fragment),I=F(),j(U.$$.fragment),y(e,"data-type",t[7].fonts[0].name),E(e,"fn__none",t[7].fonts[0].key!==t[26]),y(r,"data-type",t[7].fonts[1].name),E(r,"fn__none",t[7].fonts[1].key!==t[26]),y(d,"data-type",t[7].fonts[2].name),E(d,"fn__none",t[7].fonts[2].key!==t[26]),y(m,"data-type",t[7].fonts[3].name),E(m,"fn__none",t[7].fonts[3].key!==t[26]),y(C,"data-type",t[7].fonts[4].name),E(C,"fn__none",t[7].fonts[4].key!==t[26])},m(w,R){v(w,e,R),B(n,e,null),P(e,o),B(s,e,null),v(w,i,R),v(w,r,R),B(l,r,null),P(r,a),B(c,r,null),v(w,u,R),v(w,d,R),B(h,d,null),P(d,f),B(p,d,null),v(w,b,R),v(w,m,R),B(A,m,null),P(m,Y),B(L,m,null),v(w,q,R),v(w,C,R),B(N,C,null),P(C,I),B(U,C,null),z=!0},p(w,R){const O={};R&134217729&&(O.$$scope={dirty:R,ctx:w}),n.$set(O);const Nt={};R&134217733&&(Nt.$$scope={dirty:R,ctx:w}),s.$set(Nt),(!z||R&67108992)&&E(e,"fn__none",w[7].fonts[0].key!==w[26]);const vt={};R&134217729&&(vt.$$scope={dirty:R,ctx:w}),l.$set(vt);const At={};R&134217733&&(At.$$scope={dirty:R,ctx:w}),c.$set(At),(!z||R&67108992)&&E(r,"fn__none",w[7].fonts[1].key!==w[26]);const Ct={};R&134217729&&(Ct.$$scope={dirty:R,ctx:w}),h.$set(Ct);const Bt={};R&134217733&&(Bt.$$scope={dirty:R,ctx:w}),p.$set(Bt),(!z||R&67108992)&&E(d,"fn__none",w[7].fonts[2].key!==w[26]);const $t={};R&134217729&&($t.$$scope={dirty:R,ctx:w}),A.$set($t);const jt={};R&134217733&&(jt.$$scope={dirty:R,ctx:w}),L.$set(jt),(!z||R&67108992)&&E(m,"fn__none",w[7].fonts[3].key!==w[26]);const Dt={};R&134217729&&(Dt.$$scope={dirty:R,ctx:w}),N.$set(Dt);const Pt={};R&134217733&&(Pt.$$scope={dirty:R,ctx:w}),U.$set(Pt),(!z||R&67108992)&&E(C,"fn__none",w[7].fonts[4].key!==w[26])},i(w){z||(k(n.$$.fragment,w),k(s.$$.fragment,w),k(l.$$.fragment,w),k(c.$$.fragment,w),k(h.$$.fragment,w),k(p.$$.fragment,w),k(A.$$.fragment,w),k(L.$$.fragment,w),k(N.$$.fragment,w),k(U.$$.fragment,w),z=!0)},o(w){S(n.$$.fragment,w),S(s.$$.fragment,w),S(l.$$.fragment,w),S(c.$$.fragment,w),S(h.$$.fragment,w),S(p.$$.fragment,w),S(A.$$.fragment,w),S(L.$$.fragment,w),S(N.$$.fragment,w),S(U.$$.fragment,w),z=!1},d(w){w&&T(e),$(n),$(s),w&&T(i),w&&T(r),$(l),$(c),w&&T(u),w&&T(d),$(h),$(p),w&&T(b),w&&T(m),$(A),$(L),w&&T(q),w&&T(C),$(N),$(U)}}}function La(t){let e,n;return e=new na({props:{focus:Va,tabs:t[7].fonts,$$slots:{default:[Ma,({focus:o})=>({26:o}),({focus:o})=>o?67108864:0]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&201326597&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function qa(t){let e,n;return e=new W({props:{slot:"input",block:!0,type:H.textarea,height:t[2],settingKey:"list",settingValue:t[0].menu.block.list.join(`
`),placeholder:t[3].settings.menuSettings.blockFontList.placeholder}}),e.$on("changed",t[22]),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.height=o[2]),s&1&&(i.settingValue=o[0].menu.block.list.join(`
`)),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Ia(t){let e,n;return e=new J({props:{block:!0,title:t[3].settings.menuSettings.blockFontList.title,text:t[3].settings.menuSettings.blockFontList.description,$$slots:{input:[qa]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&134217733&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}function Ua(t){let e,n,o,s,i,r,l,a;return e=new Me({props:{display:t[6][0].key===t[25],$$slots:{default:[Ea]},$$scope:{ctx:t}}}),o=new Me({props:{display:t[6][1].key===t[25],$$slots:{default:[Na]},$$scope:{ctx:t}}}),i=new Me({props:{display:t[6][2].key===t[25],$$slots:{default:[La]},$$scope:{ctx:t}}}),l=new Me({props:{display:t[6][3].key===t[25],$$slots:{default:[Ia]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),n=F(),j(o.$$.fragment),s=F(),j(i.$$.fragment),r=F(),j(l.$$.fragment)},m(c,u){B(e,c,u),v(c,n,u),B(o,c,u),v(c,s,u),B(i,c,u),v(c,r,u),B(l,c,u),a=!0},p(c,u){const d={};u&33554432&&(d.display=c[6][0].key===c[25]),u&134217730&&(d.$$scope={dirty:u,ctx:c}),e.$set(d);const h={};u&33554432&&(h.display=c[6][1].key===c[25]),u&134217733&&(h.$$scope={dirty:u,ctx:c}),o.$set(h);const f={};u&33554432&&(f.display=c[6][2].key===c[25]),u&134217733&&(f.$$scope={dirty:u,ctx:c}),i.$set(f);const p={};u&33554432&&(p.display=c[6][3].key===c[25]),u&134217733&&(p.$$scope={dirty:u,ctx:c}),l.$set(p)},i(c){a||(k(e.$$.fragment,c),k(o.$$.fragment,c),k(i.$$.fragment,c),k(l.$$.fragment,c),a=!0)},o(c){S(e.$$.fragment,c),S(o.$$.fragment,c),S(i.$$.fragment,c),S(l.$$.fragment,c),a=!1},d(c){$(e,c),c&&T(n),$(o,c),c&&T(s),$(i,c),c&&T(r),$(l,c)}}}function Ha(t){let e,n;return e=new qr({props:{panels:t[6],focus:za,$$slots:{default:[Ua,({focus:o})=>({25:o}),({focus:o})=>o?33554432:0]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,[s]){const i={};s&167772167&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){$(e,o)}}}let za=0,Va=0;function Ga(t,e,n){let{config:o}=e,{plugin:s}=e,{textareaHeight:i=0}=e;const r=s.i18n;function l(){s.updateConfig(o)}function a(){s.siyuan.confirm(r.settings.generalSettings.reset.title,r.settings.generalSettings.reset.description,async()=>{await s.resetConfig(),globalThis.location.reload()})}var c=(O=>(O[O.general=0]="general",O[O.snippet=1]="snippet",O[O.fonts=2]="fonts",O[O.menu=3]="menu",O))(c||{}),u=(O=>(O[O.base=0]="base",O[O.code=1]="code",O[O.graph=2]="graph",O[O.math=3]="math",O[O.emoji=4]="emoji",O))(u||{});const d=[{key:0,text:r.settings.generalSettings.title,name:r.settings.generalSettings.title,icon:"#iconSettings"},{key:1,text:r.settings.cssSettings.title,name:r.settings.cssSettings.title,icon:"#iconCode"},{key:2,text:r.settings.fontsSettings.title,name:r.settings.fontsSettings.title,icon:"#iconFont"},{key:3,text:r.settings.menuSettings.title,name:r.settings.menuSettings.title,icon:"#iconMenu"}],h={fonts:[{key:0,text:r.settings.fontsSettings.base.title,name:r.settings.fontsSettings.base.title,icon:""},{key:1,text:r.settings.fontsSettings.code.title,name:r.settings.fontsSettings.code.title,icon:""},{key:2,text:r.settings.fontsSettings.graph.title,name:r.settings.fontsSettings.graph.title,icon:""},{key:3,text:r.settings.fontsSettings.math.title,name:r.settings.fontsSettings.math.title,icon:""},{key:4,text:r.settings.fontsSettings.emoji.title,name:r.settings.fontsSettings.emoji.title,icon:""}]},f=()=>s.showSystemFonts(),p=()=>s.showUsableFonts(),b=O=>{n(0,o.css.enable=O.detail.value,o),l()},m=O=>{n(0,o.css.code=O.detail.value,o),l()},A=O=>{n(0,o.fonts.base.enable=O.detail.value,o),l()},Y=O=>{O.detail.value===""?n(0,o.fonts.base.list=[],o):n(0,o.fonts.base.list=O.detail.value.split(`
`),o),l()},L=O=>{n(0,o.fonts.code.enable=O.detail.value,o),l()},q=O=>{O.detail.value===""?n(0,o.fonts.code.list=[],o):n(0,o.fonts.code.list=O.detail.value.split(`
`),o),l()},C=O=>{n(0,o.fonts.graph.enable=O.detail.value,o),l()},N=O=>{O.detail.value===""?n(0,o.fonts.graph.list=[],o):n(0,o.fonts.graph.list=O.detail.value.split(`
`),o),l()},I=O=>{n(0,o.fonts.math.enable=O.detail.value,o),l()},U=O=>{O.detail.value===""?n(0,o.fonts.math.list=[],o):n(0,o.fonts.math.list=O.detail.value.split(`
`),o),l()},z=O=>{n(0,o.fonts.emoji.enable=O.detail.value,o),l()},w=O=>{O.detail.value===""?n(0,o.fonts.emoji.list=[],o):n(0,o.fonts.emoji.list=O.detail.value.split(`
`),o),l()},R=O=>{O.detail.value===""?n(0,o.menu.block.list=[],o):n(0,o.menu.block.list=O.detail.value.split(`
`),o),l()};return t.$$set=O=>{"config"in O&&n(0,o=O.config),"plugin"in O&&n(1,s=O.plugin),"textareaHeight"in O&&n(2,i=O.textareaHeight)},[o,s,i,r,l,a,d,h,f,p,b,m,A,Y,L,q,C,N,I,U,z,w,R]}class Ka extends te{constructor(e){super(),ee(this,e,Ga,Ha,x,{config:0,plugin:1,textareaHeight:2})}}function Ja(t){switch(t=t.trim(),!0){case(t.startsWith('"')&&t.endsWith('"')):case(t.startsWith("'")&&t.endsWith("'")):return t;default:return`"${t}"`}}function ve(t){return t.filter(e=>!/^\s*$/.test(e)).map(Ja)}function Wa(t){var n,o,s,i,r;const e=[];if(e.push(":root {"),((n=t.base)==null?void 0:n.length)>0){const l=ve(t.base);e.push(`    --b3-font-family: ${l.join(", ")};`)}if(((o=t.code)==null?void 0:o.length)>0){const l=ve(t.code);e.push(`    --b3-font-family-code: ${l.join(", ")};`)}if(((s=t.graph)==null?void 0:s.length)>0){const l=ve(t.graph);e.push(`    --b3-font-family-graph: ${l.join(", ")};`)}if(((i=t.math)==null?void 0:i.length)>0){const l=ve(t.math);e.push(`    --b3-font-family-math: ${l.join(", ")};`)}if(((r=t.emoji)==null?void 0:r.length)>0){const l=ve(t.emoji);e.push(`    --b3-font-family-emoji: ${l.join(", ")};`)}return e.push("}"),e.join(`
`)}const Ya="custom-fonts",Qa="Zuoqiu Yingyi",Xa="https://github.com/Zuoqiu-Yingyi/siyuan-plugin-custom-fonts",Za="1.1.0",xa="2.9.8",el=["all"],tl=["all"],nl={default:"Custom Fonts",zh_CN:"",zh_CHT:""},ol={default:"Customize the fonts of various elements in the SiYuan interface.",zh_CN:"",zh_CHT:""},sl={default:"README.md",zh_CN:"README_zh_CN.md",zh_CHT:"README_zh_CN.md"},il={openCollective:"",patreon:"",github:"",custom:["https://afdian.net/a/zuoqiu","https://ko-fi.com/zuoqiu"]},rl={name:Ya,author:Qa,url:Xa,version:Za,minAppVersion:xa,backends:el,frontends:tl,displayName:nl,description:ol,readme:sl,funding:il},Bn={css:{enable:!0,code:`/* Twemoji Mozilla: https://github.com/mozilla/twemoji-colr */
@font-face {
    font-family: "Twemoji Mozilla";
    font-style: normal;
    src: url("plugins/${rl.name}/static/fonts/Twemoji.Mozilla/Twemoji.Mozilla-0.7.0.ttf");
}
`},fonts:{base:{enable:!1,list:["Helvetica Neue","Luxi Sans","DejaVu Sans","Hiragino Sans GB","Microsoft Yahei","sans-serif","Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji","Segoe UI Symbol","Android Emoji","EmojiSymbols"]},code:{enable:!1,list:["JetBrainsMono-Regular","mononoki","Consolas","Liberation Mono","Menlo","Courier","monospace","Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji","Segoe UI Symbol","Android Emoji","EmojiSymbols"]},graph:{enable:!1,list:["mononoki"]},math:{enable:!1,list:["KaTeX_Math","KaTeX_Main"]},emoji:{enable:!0,list:["Twemoji Mozilla","Segoe UI Emoji","Segoe UI Symbol","Segoe UI","Apple Color Emoji","Noto Color Emoji","Android Emoji"]}},menu:{block:{enable:!0,list:["","","","","","","","","","","","","","","","","","","","",""]}}},Ce=class Ce extends ne.Plugin{constructor(n){super(n);Z(this,"siyuan",ne);Z(this,"logger");Z(this,"client");Z(this,"STYLE_SNIPPET_NAME");Z(this,"SETTINGS_DIALOG_ID");Z(this,"SYSTEM_FONTS_DIALOG_ID");Z(this,"USABLE_FONTS_DIALOG_ID");Z(this,"config");Z(this,"blockMenuEventListener",n=>{const o=n.detail,s=Pr(n.detail);if(s){const i=[];i.push({icon:"iconClear",label:this.i18n.menu.clearFontStyle.label,click:()=>{s.blocks.forEach(async r=>{r.element.style.fontFamily=null;const l=r.element.getAttribute("style");this.client.setBlockAttrs({id:r.id,attrs:{style:l}})})}}),i.push({type:"separator"}),this.config.menu.block.list.forEach(r=>{/^\s*$/.test(r)||(r=r.trim(),i.push({icon:"iconFont",label:r,accelerator:`font-family: ${r}`,click:()=>{s.blocks.forEach(async l=>{l.element.style.fontFamily=r;const a=l.element.getAttribute("style");this.client.setBlockAttrs({id:l.id,attrs:{style:a}})})},bind:l=>{const a=l.querySelector(".b3-menu__label");a&&(a.style.fontFamily=r)}}))}),o.menu.addItem({icon:"iconFont",label:this.i18n.menu.customBlockFont.label,submenu:i})}});this.logger=new Ui(this.name),this.client=new Fi,this.STYLE_SNIPPET_NAME=`plugin-${this.name}-style`,this.SETTINGS_DIALOG_ID=`plugin-${this.name}-settings-dialog`,this.SYSTEM_FONTS_DIALOG_ID=`plugin-${this.name}-system-fonts-dialog`,this.USABLE_FONTS_DIALOG_ID=`plugin-${this.name}-usable-fonts-dialog`}onload(){this.loadData(Ce.GLOBAL_CONFIG_NAME).then(n=>{this.config=Zt(Bn,n||{})}).catch(n=>this.logger.error(n)).finally(async()=>{await this.updateStyle(),this.eventBus.on("click-blockicon",this.blockMenuEventListener),this.addCommand({langKey:"show-system-fonts",langText:this.i18n.settings.generalSettings.showSystemFonts.title,hotkey:"",callback:()=>this.showSystemFonts()}),this.addCommand({langKey:"show-usable-fonts",langText:this.i18n.settings.generalSettings.showUsableFonts.title,hotkey:"",callback:()=>this.showUsableFonts()})})}onLayoutReady(){}onunload(){this.eventBus.off("click-blockicon",this.blockMenuEventListener),this.client.getSnippet({type:"css",enabled:2}).then(n=>{const o=n.data.snippets,s=o.find(i=>i.name===this.STYLE_SNIPPET_NAME);s&&(s.enabled=!1,this.client.setSnippet({snippets:o}))})}openSetting(){const n=this,o=new ne.Dialog({title:`${this.i18n.displayName} <code class="fn__code">${this.name}</code>`,content:`<div id="${n.SETTINGS_DIALOG_ID}" class="fn__flex-column" />`,width:Qt?"92vw":"768px",height:Qt?void 0:"640px"});new Ka({target:o.element.querySelector(`#${n.SETTINGS_DIALOG_ID}`),props:{config:this.config,plugin:this,textareaHeight:320}})}async updateStyle(){const o=(await this.client.getSnippet({type:"css",enabled:2})).data.snippets,s=o.find(r=>r.name===this.STYLE_SNIPPET_NAME),i=[this.config.css.enable?this.config.css.code:void 0,Wa({base:this.config.fonts.base.enable?this.config.fonts.base.list:void 0,code:this.config.fonts.code.enable?this.config.fonts.code.list:void 0,graph:this.config.fonts.graph.enable?this.config.fonts.graph.list:void 0,math:this.config.fonts.math.enable?this.config.fonts.math.list:void 0,emoji:this.config.fonts.emoji.enable?this.config.fonts.emoji.list:void 0})].join(`

`);s?(s.enabled=!0,s.content=i):o.push({id:globalThis.Lute.NewNodeID(),type:"css",name:this.STYLE_SNIPPET_NAME,memo:"",content:i,enabled:!0}),await this.client.setSnippet({snippets:o})}async resetConfig(){return this.updateConfig(Zt(Bn))}async updateConfig(n){return n&&n!==this.config&&(this.config=n),this.updateStyle(),this.saveData(Ce.GLOBAL_CONFIG_NAME,this.config)}async showSystemFonts(){const n=new ne.Dialog({title:this.i18n.settings.generalSettings.showSystemFonts.title,content:`<div id="${this.SYSTEM_FONTS_DIALOG_ID}" class="fn__flex-column">${this.i18n.message.loading}</div>`,height:"92vh"});ne.fetchPost("/api/system/getSysFonts",void 0,o=>{const s=n.element.querySelector(`#${this.SYSTEM_FONTS_DIALOG_ID}`);if(o.code===0){const i=o.data.map(r=>({icon:"#iconFont",text:r,meta:r,style:`font-family: "${r}"`}));s.innerHTML="",new gt({target:s,props:{items:i}})}else s.textContent=o.msg})}async showUsableFonts(){if(globalThis.queryLocalFonts){const n=await globalThis.queryLocalFonts(),o=[],s=or(n);s.families.forEach(r=>{const l=s.map.get(r),a=l.find(c=>c.style==="Regular")??l[0];o.push({icon:"#iconFont",text:a.fullName,meta:a.family,style:`font-family: "${a.family}"`,fold:!0,children:l.map(c=>({icon:"#iconFont",text:c.fullName,meta:c.style,style:`font: ${Dr(c,14)};`}))})});const i=new ne.Dialog({title:this.i18n.settings.generalSettings.showUsableFonts.title,content:`<div id="${this.USABLE_FONTS_DIALOG_ID}" class="fn__flex-column" />`,height:"92vh"});new gt({target:i.element.querySelector(`#${this.USABLE_FONTS_DIALOG_ID}`),props:{items:o}})}else ne.showMessage(`${this.i18n.message.notSupportQueryLocalFonts}<br />[${this.i18n.displayName} <code class="fn__code">${this.name}</code>]`,void 0,"error")}};Z(Ce,"GLOBAL_CONFIG_NAME","global-config");let _t=Ce;module.exports=_t;
