"use strict";var Sa=Object.defineProperty;var ka=(e,t,n)=>t in e?Sa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var De=(e,t,n)=>ka(e,typeof t!="symbol"?t+"":t,n);const ze=require("siyuan");var Ea=Object.defineProperty,xa=(e,t,n)=>t in e?Ea(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oe=(e,t,n)=>xa(e,typeof t!="symbol"?t+"":t,n);function Ji(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ta}=Object.prototype,{getPrototypeOf:ho}=Object,ar=(e=>t=>{const n=Ta.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ue=e=>(e=e.toLowerCase(),t=>ar(t)===e),lr=e=>t=>typeof t===e,{isArray:Kt}=Array,vn=lr("undefined");function Aa(e){return e!==null&&!vn(e)&&e.constructor!==null&&!vn(e.constructor)&&Ne(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Xi=Ue("ArrayBuffer");function Oa(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Xi(e.buffer),t}const Ca=lr("string"),Ne=lr("function"),Zi=lr("number"),cr=e=>e!==null&&typeof e=="object",Ra=e=>e===!0||e===!1,zn=e=>{if(ar(e)!=="object")return!1;const t=ho(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Na=Ue("Date"),Pa=Ue("File"),Da=Ue("Blob"),Ba=Ue("FileList"),La=e=>cr(e)&&Ne(e.pipe),Fa=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ne(e.append)&&((t=ar(e))==="formdata"||t==="object"&&Ne(e.toString)&&e.toString()==="[object FormData]"))},Ma=Ue("URLSearchParams"),[ja,qa,Ia,Ua]=["ReadableStream","Request","Response","Headers"].map(Ue),$a=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function En(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Kt(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let l;for(r=0;r<s;r++)l=i[r],t.call(null,e[l],l,e)}}function Qi(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const wt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,es=e=>!vn(e)&&e!==wt;function Hr(){const{caseless:e}=es(this)&&this||{},t={},n=(r,o)=>{const i=e&&Qi(t,o)||o;zn(t[i])&&zn(r)?t[i]=Hr(t[i],r):zn(r)?t[i]=Hr({},r):Kt(r)?t[i]=r.slice():t[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&En(arguments[r],n);return t}const Ha=(e,t,n,{allOwnKeys:r}={})=>(En(t,(o,i)=>{n&&Ne(o)?e[i]=Ji(o,n):e[i]=o},{allOwnKeys:r}),e),za=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Va=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Ga=(e,t,n,r)=>{let o,i,s;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)s=o[i],(!r||r(s,e,t))&&!l[s]&&(t[s]=e[s],l[s]=!0);e=n!==!1&&ho(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Ka=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Wa=e=>{if(!e)return null;if(Kt(e))return e;let t=e.length;if(!Zi(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ya=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ho(Uint8Array)),Ja=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},Xa=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Za=Ue("HTMLFormElement"),Qa=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),$o=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),el=Ue("RegExp"),ts=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};En(n,(o,i)=>{let s;(s=t(o,i,e))!==!1&&(r[i]=s||o)}),Object.defineProperties(e,r)},tl=e=>{ts(e,(t,n)=>{if(Ne(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Ne(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},nl=(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return Kt(e)?r(e):r(String(e).split(t)),n},rl=()=>{},ol=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Ar="abcdefghijklmnopqrstuvwxyz",Ho="0123456789",ns={DIGIT:Ho,ALPHA:Ar,ALPHA_DIGIT:Ar+Ar.toUpperCase()+Ho},il=(e=16,t=ns.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function sl(e){return!!(e&&Ne(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const al=e=>{const t=new Array(10),n=(r,o)=>{if(cr(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const i=Kt(r)?[]:{};return En(r,(s,l)=>{const c=n(s,o+1);!vn(c)&&(i[l]=c)}),t[o]=void 0,i}}return r};return n(e,0)},ll=Ue("AsyncFunction"),cl=e=>e&&(cr(e)||Ne(e))&&Ne(e.then)&&Ne(e.catch),rs=((e,t)=>e?setImmediate:t?((n,r)=>(wt.addEventListener("message",({source:o,data:i})=>{o===wt&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),wt.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ne(wt.postMessage)),ul=typeof queueMicrotask<"u"?queueMicrotask.bind(wt):typeof process<"u"&&process.nextTick||rs,m={isArray:Kt,isArrayBuffer:Xi,isBuffer:Aa,isFormData:Fa,isArrayBufferView:Oa,isString:Ca,isNumber:Zi,isBoolean:Ra,isObject:cr,isPlainObject:zn,isReadableStream:ja,isRequest:qa,isResponse:Ia,isHeaders:Ua,isUndefined:vn,isDate:Na,isFile:Pa,isBlob:Da,isRegExp:el,isFunction:Ne,isStream:La,isURLSearchParams:Ma,isTypedArray:Ya,isFileList:Ba,forEach:En,merge:Hr,extend:Ha,trim:$a,stripBOM:za,inherits:Va,toFlatObject:Ga,kindOf:ar,kindOfTest:Ue,endsWith:Ka,toArray:Wa,forEachEntry:Ja,matchAll:Xa,isHTMLForm:Za,hasOwnProperty:$o,hasOwnProp:$o,reduceDescriptors:ts,freezeMethods:tl,toObjectSet:nl,toCamelCase:Qa,noop:rl,toFiniteNumber:ol,findKey:Qi,global:wt,isContextDefined:es,ALPHABET:ns,generateString:il,isSpecCompliantForm:sl,toJSONObject:al,isAsyncFn:ll,isThenable:cl,setImmediate:rs,asap:ul};function D(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}m.inherits(D,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:m.toJSONObject(this.config),code:this.code,status:this.status}}});const os=D.prototype,is={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{is[e]={value:e}});Object.defineProperties(D,is);Object.defineProperty(os,"isAxiosError",{value:!0});D.from=(e,t,n,r,o,i)=>{const s=Object.create(os);return m.toFlatObject(e,s,function(l){return l!==Error.prototype},l=>l!=="isAxiosError"),D.call(s,e.message,t,n,r,o),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const fl=null;function zr(e){return m.isPlainObject(e)||m.isArray(e)}function ss(e){return m.endsWith(e,"[]")?e.slice(0,-2):e}function zo(e,t,n){return e?e.concat(t).map(function(r,o){return r=ss(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}function dl(e){return m.isArray(e)&&!e.some(zr)}const hl=m.toFlatObject(m,{},null,function(e){return/^is[A-Z]/.test(e)});function ur(e,t,n){if(!m.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=m.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,b){return!m.isUndefined(b[f])});const r=n.metaTokens,o=n.visitor||a,i=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&m.isSpecCompliantForm(t);if(!m.isFunction(o))throw new TypeError("visitor must be a function");function c(f){if(f===null)return"";if(m.isDate(f))return f.toISOString();if(!l&&m.isBlob(f))throw new D("Blob is not supported. Use a Buffer instead.");return m.isArrayBuffer(f)||m.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function a(f,b,p){let A=f;if(f&&!p&&typeof f=="object"){if(m.endsWith(b,"{}"))b=r?b:b.slice(0,-2),f=JSON.stringify(f);else if(m.isArray(f)&&dl(f)||(m.isFileList(f)||m.endsWith(b,"[]"))&&(A=m.toArray(f)))return b=ss(b),A.forEach(function(y,v){!(m.isUndefined(y)||y===null)&&t.append(s===!0?zo([b],v,i):s===null?b:b+"[]",c(y))}),!1}return zr(f)?!0:(t.append(zo(p,b,i),c(f)),!1)}const u=[],d=Object.assign(hl,{defaultVisitor:a,convertValue:c,isVisitable:zr});function g(f,b){if(!m.isUndefined(f)){if(u.indexOf(f)!==-1)throw Error("Circular reference detected in "+b.join("."));u.push(f),m.forEach(f,function(p,A){(!(m.isUndefined(p)||p===null)&&o.call(t,p,m.isString(A)?A.trim():A,b,d))===!0&&g(p,b?b.concat(A):[A])}),u.pop()}}if(!m.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Vo(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function po(e,t){this._pairs=[],e&&ur(e,this,t)}const as=po.prototype;as.append=function(e,t){this._pairs.push([e,t])};as.toString=function(e){const t=e?function(n){return e.call(this,n,Vo)}:Vo;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function pl(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ls(e,t,n){if(!t)return e;const r=n&&n.encode||pl,o=n&&n.serialize;let i;if(o?i=o(t,n):i=m.isURLSearchParams(t)?t.toString():new po(t,n).toString(r),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Go{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){m.forEach(this.handlers,function(n){n!==null&&t(n)})}}const cs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gl=typeof URLSearchParams<"u"?URLSearchParams:po,ml=typeof FormData<"u"?FormData:null,bl=typeof Blob<"u"?Blob:null,vl={isBrowser:!0,classes:{URLSearchParams:gl,FormData:ml,Blob:bl},protocols:["http","https","file","blob","url","data"]},go=typeof window<"u"&&typeof document<"u",Vr=typeof navigator=="object"&&navigator||void 0,yl=go&&(!Vr||["ReactNative","NativeScript","NS"].indexOf(Vr.product)<0),wl=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_l=go&&window.location.href||"http://localhost",Sl=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:go,hasStandardBrowserEnv:yl,hasStandardBrowserWebWorkerEnv:wl,navigator:Vr,origin:_l},Symbol.toStringTag,{value:"Module"})),Ee={...Sl,...vl};function kl(e,t){return ur(e,new Ee.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return Ee.isNode&&m.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function El(e){return m.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function xl(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function us(e){function t(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=i>=n.length;return s=!s&&m.isArray(o)?o.length:s,c?(m.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!l):((!o[s]||!m.isObject(o[s]))&&(o[s]=[]),t(n,r,o[s],i)&&m.isArray(o[s])&&(o[s]=xl(o[s])),!l)}if(m.isFormData(e)&&m.isFunction(e.entries)){const n={};return m.forEachEntry(e,(r,o)=>{t(El(r),o,n,0)}),n}return null}function Tl(e,t,n){if(m.isString(e))try{return(t||JSON.parse)(e),m.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const xn={transitional:cs,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=m.isObject(e);if(o&&m.isHTMLForm(e)&&(e=new FormData(e)),m.isFormData(e))return r?JSON.stringify(us(e)):e;if(m.isArrayBuffer(e)||m.isBuffer(e)||m.isStream(e)||m.isFile(e)||m.isBlob(e)||m.isReadableStream(e))return e;if(m.isArrayBufferView(e))return e.buffer;if(m.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return kl(e,this.formSerializer).toString();if((i=m.isFileList(e))||n.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return ur(i?{"files[]":e}:e,s&&new s,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),Tl(e)):e}],transformResponse:[function(e){const t=this.transitional||xn.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(m.isResponse(e)||m.isReadableStream(e))return e;if(e&&m.isString(e)&&(n&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(o)throw i.name==="SyntaxError"?D.from(i,D.ERR_BAD_RESPONSE,this,null,this.response):i}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ee.classes.FormData,Blob:Ee.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};m.forEach(["delete","get","head","post","put","patch"],e=>{xn.headers[e]={}});const Al=m.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ol=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(i){o=i.indexOf(":"),n=i.substring(0,o).trim().toLowerCase(),r=i.substring(o+1).trim(),!(!n||t[n]&&Al[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Ko=Symbol("internals");function Zt(e){return e&&String(e).trim().toLowerCase()}function Vn(e){return e===!1||e==null?e:m.isArray(e)?e.map(Vn):String(e)}function Cl(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Rl=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Or(e,t,n,r,o){if(m.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!m.isString(t)){if(m.isString(r))return t.indexOf(r)!==-1;if(m.isRegExp(r))return r.test(t)}}function Nl(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Pl(e,t){const n=m.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,s){return this[r].call(this,t,o,i,s)},configurable:!0})})}let xe=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(s,l,c){const a=Zt(l);if(!a)throw new Error("header name must be a non-empty string");const u=m.findKey(r,a);(!u||r[u]===void 0||c===!0||c===void 0&&r[u]!==!1)&&(r[u||l]=Vn(s))}const i=(s,l)=>m.forEach(s,(c,a)=>o(c,a,l));if(m.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(m.isString(e)&&(e=e.trim())&&!Rl(e))i(Ol(e),t);else if(m.isHeaders(e))for(const[s,l]of e.entries())o(l,s,n);else e!=null&&o(t,e,n);return this}get(e,t){if(e=Zt(e),e){const n=m.findKey(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return Cl(r);if(m.isFunction(t))return t.call(this,r,n);if(m.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Zt(e),e){const n=m.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Or(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let r=!1;function o(i){if(i=Zt(i),i){const s=m.findKey(n,i);s&&(!t||Or(n,n[s],s,t))&&(delete n[s],r=!0)}}return m.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];(!e||Or(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return m.forEach(this,(r,o)=>{const i=m.findKey(n,o);if(i){t[i]=Vn(r),delete t[o];return}const s=e?Nl(o):String(o).trim();s!==o&&delete t[o],t[s]=Vn(r),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return m.forEach(this,(n,r)=>{n!=null&&n!==!1&&(t[r]=e&&m.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(r=>n.set(r)),n}static accessor(e){const t=(this[Ko]=this[Ko]={accessors:{}}).accessors,n=this.prototype;function r(o){const i=Zt(o);t[i]||(Pl(n,o),t[i]=!0)}return m.isArray(e)?e.forEach(r):r(e),this}};xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);m.reduceDescriptors(xe.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});m.freezeMethods(xe);function Cr(e,t){const n=this||xn,r=t||n,o=xe.from(r.headers);let i=r.data;return m.forEach(e,function(s){i=s.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function fs(e){return!!(e&&e.__CANCEL__)}function Wt(e,t,n){D.call(this,e??"canceled",D.ERR_CANCELED,t,n),this.name="CanceledError"}m.inherits(Wt,D,{__CANCEL__:!0});function ds(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new D("Request failed with status code "+n.status,[D.ERR_BAD_REQUEST,D.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Dl(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Bl(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,i=0,s;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),a=r[i];s||(s=c),n[o]=l,r[o]=c;let u=i,d=0;for(;u!==o;)d+=n[u++],u=u%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),c-s<t)return;const g=a&&c-a;return g?Math.round(d*1e3/g):void 0}}function Ll(e,t){let n=0,r=1e3/t,o,i;const s=(l,c=Date.now())=>{n=c,o=null,i&&(clearTimeout(i),i=null),e.apply(null,l)};return[(...l)=>{const c=Date.now(),a=c-n;a>=r?s(l,c):(o=l,i||(i=setTimeout(()=>{i=null,s(o)},r-a)))},()=>o&&s(o)]}const Yn=(e,t,n=3)=>{let r=0;const o=Bl(50,250);return Ll(i=>{const s=i.loaded,l=i.lengthComputable?i.total:void 0,c=s-r,a=o(c),u=s<=l;r=s;const d={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:a||void 0,estimated:a&&l&&u?(l-s)/a:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(d)},n)},Wo=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Yo=e=>(...t)=>m.asap(()=>e(...t)),Fl=Ee.hasStandardBrowserEnv?function(){const e=Ee.navigator&&/(msie|trident)/i.test(Ee.navigator.userAgent),t=document.createElement("a");let n;function r(o){let i=o;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(o){const i=m.isString(o)?r(o):o;return i.protocol===n.protocol&&i.host===n.host}}():function(){return function(){return!0}}(),Ml=Ee.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const s=[e+"="+encodeURIComponent(t)];m.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),m.isString(r)&&s.push("path="+r),m.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jl(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ql(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hs(e,t){return e&&!jl(t)?ql(e,t):t}const Jo=e=>e instanceof xe?{...e}:e;function Et(e,t){t=t||{};const n={};function r(a,u,d){return m.isPlainObject(a)&&m.isPlainObject(u)?m.merge.call({caseless:d},a,u):m.isPlainObject(u)?m.merge({},u):m.isArray(u)?u.slice():u}function o(a,u,d){if(m.isUndefined(u)){if(!m.isUndefined(a))return r(void 0,a,d)}else return r(a,u,d)}function i(a,u){if(!m.isUndefined(u))return r(void 0,u)}function s(a,u){if(m.isUndefined(u)){if(!m.isUndefined(a))return r(void 0,a)}else return r(void 0,u)}function l(a,u,d){if(d in t)return r(a,u);if(d in e)return r(void 0,a)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(a,u)=>o(Jo(a),Jo(u),!0)};return m.forEach(Object.keys(Object.assign({},e,t)),function(a){const u=c[a]||o,d=u(e[a],t[a],a);m.isUndefined(d)&&u!==l||(n[a]=d)}),n}const ps=e=>{const t=Et({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:l}=t;t.headers=s=xe.from(s),t.url=ls(hs(t.baseURL,t.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(m.isFormData(n)){if(Ee.hasStandardBrowserEnv||Ee.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[a,...u]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([a||"multipart/form-data",...u].join("; "))}}if(Ee.hasStandardBrowserEnv&&(r&&m.isFunction(r)&&(r=r(t)),r||r!==!1&&Fl(t.url))){const a=o&&i&&Ml.read(i);a&&s.set(o,a)}return t},Il=typeof XMLHttpRequest<"u",Ul=Il&&function(e){return new Promise(function(t,n){const r=ps(e);let o=r.data;const i=xe.from(r.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=r,a,u,d,g,f;function b(){g&&g(),f&&f(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let p=new XMLHttpRequest;p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout;function A(){if(!p)return;const v=xe.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),T={data:!s||s==="text"||s==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:v,config:e,request:p};ds(function(C){t(C),b()},function(C){n(C),b()},T),p=null}"onloadend"in p?p.onloadend=A:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(A)},p.onabort=function(){p&&(n(new D("Request aborted",D.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new D("Network Error",D.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let v=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const T=r.transitional||cs;r.timeoutErrorMessage&&(v=r.timeoutErrorMessage),n(new D(v,T.clarifyTimeoutError?D.ETIMEDOUT:D.ECONNABORTED,e,p)),p=null},o===void 0&&i.setContentType(null),"setRequestHeader"in p&&m.forEach(i.toJSON(),function(v,T){p.setRequestHeader(T,v)}),m.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),s&&s!=="json"&&(p.responseType=r.responseType),c&&([d,f]=Yn(c,!0),p.addEventListener("progress",d)),l&&p.upload&&([u,g]=Yn(l),p.upload.addEventListener("progress",u),p.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(a=v=>{p&&(n(!v||v.type?new Wt(null,e,p):v),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=Dl(r.url);if(y&&Ee.protocols.indexOf(y)===-1){n(new D("Unsupported protocol "+y+":",D.ERR_BAD_REQUEST,e));return}p.send(o||null)})},$l=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const i=function(a){if(!o){o=!0,l();const u=a instanceof Error?a:this.reason;r.abort(u instanceof D?u:new Wt(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{s=null,i(new D(`timeout ${t} of ms exceeded`,D.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(a=>{a.unsubscribe?a.unsubscribe(i):a.removeEventListener("abort",i)}),e=null)};e.forEach(a=>a.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>m.asap(l),c}},Hl=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},zl=async function*(e,t){for await(const n of Vl(e))yield*Hl(n,t)},Vl=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Xo=(e,t,n,r)=>{const o=zl(e,t);let i=0,s,l=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:a,value:u}=await o.next();if(a){l(),c.close();return}let d=u.byteLength;if(n){let g=i+=d;n(g)}c.enqueue(new Uint8Array(u))}catch(a){throw l(a),a}},cancel(c){return l(c),o.return()}},{highWaterMark:2})},fr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gs=fr&&typeof ReadableStream=="function",Gl=fr&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),ms=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Kl=gs&&ms(()=>{let e=!1;const t=new Request(Ee.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Zo=64*1024,Gr=gs&&ms(()=>m.isReadableStream(new Response("").body)),Jn={stream:Gr&&(e=>e.body)};fr&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Jn[t]&&(Jn[t]=m.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new D(`Response type '${t}' is not supported`,D.ERR_NOT_SUPPORT,r)})})})(new Response);const Wl=async e=>{if(e==null)return 0;if(m.isBlob(e))return e.size;if(m.isSpecCompliantForm(e))return(await new Request(Ee.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(m.isArrayBufferView(e)||m.isArrayBuffer(e))return e.byteLength;if(m.isURLSearchParams(e)&&(e=e+""),m.isString(e))return(await Gl(e)).byteLength},Yl=async(e,t)=>m.toFiniteNumber(e.getContentLength())??Wl(t),Jl=fr&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:a,headers:u,withCredentials:d="same-origin",fetchOptions:g}=ps(e);a=a?(a+"").toLowerCase():"text";let f=$l([o,i&&i.toAbortSignal()],s),b;const p=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let A;try{if(c&&Kl&&n!=="get"&&n!=="head"&&(A=await Yl(u,r))!==0){let x=new Request(t,{method:"POST",body:r,duplex:"half"}),N;if(m.isFormData(r)&&(N=x.headers.get("content-type"))&&u.setContentType(N),x.body){const[re,L]=Wo(A,Yn(Yo(c)));r=Xo(x.body,Zo,re,L)}}m.isString(d)||(d=d?"include":"omit");const y="credentials"in Request.prototype;b=new Request(t,{...g,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:y?d:void 0});let v=await fetch(b);const T=Gr&&(a==="stream"||a==="response");if(Gr&&(l||T&&p)){const x={};["status","statusText","headers"].forEach(U=>{x[U]=v[U]});const N=m.toFiniteNumber(v.headers.get("content-length")),[re,L]=l&&Wo(N,Yn(Yo(l),!0))||[];v=new Response(Xo(v.body,Zo,re,()=>{L&&L(),p&&p()}),x)}a=a||"text";let C=await Jn[m.findKey(Jn,a)||"text"](v,e);return!T&&p&&p(),await new Promise((x,N)=>{ds(x,N,{data:C,headers:xe.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:b})})}catch(y){throw p&&p(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new D("Network Error",D.ERR_NETWORK,e,b),{cause:y.cause||y}):D.from(y,y&&y.code,e,b)}}),Kr={http:fl,xhr:Ul,fetch:Jl};m.forEach(Kr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Qo=e=>`- ${e}`,Xl=e=>m.isFunction(e)||e===null||e===!1,bs={getAdapter:e=>{e=m.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){n=e[i];let s;if(r=n,!Xl(n)&&(r=Kr[(s=String(n)).toLowerCase()],r===void 0))throw new D(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){const i=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?i.length>1?`since :
`+i.map(Qo).join(`
`):" "+Qo(i[0]):"as no adapter specified";throw new D("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Kr};function Rr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wt(null,e)}function ei(e){return Rr(e),e.headers=xe.from(e.headers),e.data=Cr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bs.getAdapter(e.adapter||xn.adapter)(e).then(function(t){return Rr(e),t.data=Cr.call(e,e.transformResponse,t),t.headers=xe.from(t.headers),t},function(t){return fs(t)||(Rr(e),t&&t.response&&(t.response.data=Cr.call(e,e.transformResponse,t.response),t.response.headers=xe.from(t.response.headers))),Promise.reject(t)})}const vs="1.7.7",mo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{mo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ti={};mo.transitional=function(e,t,n){function r(o,i){return"[Axios v"+vs+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,s)=>{if(e===!1)throw new D(r(i," has been removed"+(t?" in "+t:"")),D.ERR_DEPRECATED);return t&&!ti[i]&&(ti[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,i,s):!0}};function Zl(e,t,n){if(typeof e!="object")throw new D("options must be an object",D.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],s=t[i];if(s){const l=e[i],c=l===void 0||s(l,i,e);if(c!==!0)throw new D("option "+i+" must be "+c,D.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new D("Unknown option "+i,D.ERR_BAD_OPTION)}}const Wr={assertOptions:Zl,validators:mo},at=Wr.validators;let St=class{constructor(e){this.defaults=e,this.interceptors={request:new Go,response:new Go}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Et(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;n!==void 0&&Wr.assertOptions(n,{silentJSONParsing:at.transitional(at.boolean),forcedJSONParsing:at.transitional(at.boolean),clarifyTimeoutError:at.transitional(at.boolean)},!1),r!=null&&(m.isFunction(r)?t.paramsSerializer={serialize:r}:Wr.assertOptions(r,{encode:at.function,serialize:at.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&m.merge(o.common,o[t.method]);o&&m.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),t.headers=xe.concat(i,o);const s=[];let l=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(t)===!1||(l=l&&f.synchronous,s.unshift(f.fulfilled,f.rejected))});const c=[];this.interceptors.response.forEach(function(f){c.push(f.fulfilled,f.rejected)});let a,u=0,d;if(!l){const f=[ei.bind(this),void 0];for(f.unshift.apply(f,s),f.push.apply(f,c),d=f.length,a=Promise.resolve(t);u<d;)a=a.then(f[u++],f[u++]);return a}d=s.length;let g=t;for(u=0;u<d;){const f=s[u++],b=s[u++];try{g=f(g)}catch(p){b.call(this,p);break}}try{a=ei.call(this,g)}catch(f){return Promise.reject(f)}for(u=0,d=c.length;u<d;)a=a.then(c[u++],c[u++]);return a}getUri(e){e=Et(this.defaults,e);const t=hs(e.baseURL,e.url);return ls(t,e.params,e.paramsSerializer)}};m.forEach(["delete","get","head","options"],function(e){St.prototype[e]=function(t,n){return this.request(Et(n||{},{method:e,url:t,data:(n||{}).data}))}});m.forEach(["post","put","patch"],function(e){function t(n){return function(r,o,i){return this.request(Et(i||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}St.prototype[e]=t(),St.prototype[e+"Form"]=t(!0)});let Ql=class ys{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(l=>{r.subscribe(l),i=l}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},t(function(o,i,s){r.reason||(r.reason=new Wt(o,i,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ys(function(n){t=n}),cancel:t}}};function ec(e){return function(t){return e.apply(null,t)}}function tc(e){return m.isObject(e)&&e.isAxiosError===!0}const Yr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yr).forEach(([e,t])=>{Yr[t]=e});function ws(e){const t=new St(e),n=Ji(St.prototype.request,t);return m.extend(n,St.prototype,t,{allOwnKeys:!0}),m.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return ws(Et(e,r))},n}const ne=ws(xn);ne.Axios=St;ne.CanceledError=Wt;ne.CancelToken=Ql;ne.isCancel=fs;ne.VERSION=vs;ne.toFormData=ur;ne.AxiosError=D;ne.Cancel=ne.CanceledError;ne.all=function(e){return Promise.all(e)};ne.spread=ec;ne.isAxiosError=tc;ne.mergeConfig=Et;ne.AxiosHeaders=xe;ne.formToJSON=e=>us(m.isHTMLForm(e)?new FormData(e):e);ne.getAdapter=bs.getAdapter;ne.HttpStatusCode=Yr;ne.default=ne;const{Axios:uh,AxiosError:fh,CanceledError:dh,isCancel:hh,CancelToken:ph,VERSION:gh,all:mh,Cancel:bh,isAxiosError:vh,spread:yh,toFormData:wh,AxiosHeaders:nc,HttpStatusCode:Fn,formToJSON:_h,getAdapter:Sh,mergeConfig:kh}=ne;var Mt=null;typeof WebSocket<"u"?Mt=WebSocket:typeof MozWebSocket<"u"?Mt=MozWebSocket:typeof global<"u"?Mt=global.WebSocket||global.MozWebSocket:typeof window<"u"?Mt=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Mt=self.WebSocket||self.MozWebSocket);const rc=Mt,dr=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;typeof TextEncoder=="function"&&new TextEncoder;const oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",cn=Array.prototype.slice.call(oc),Mn=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(cn),ic=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Gn=String.fromCharCode.bind(String),ni=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),sc=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),_s=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),ac=e=>{let t,n,r,o,i="";const s=e.length%3;for(let l=0;l<e.length;){if((n=e.charCodeAt(l++))>255||(r=e.charCodeAt(l++))>255||(o=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|o,i+=cn[t>>18&63]+cn[t>>12&63]+cn[t>>6&63]+cn[t&63]}return s?i.slice(0,s-3)+"===".substring(s):i},lc=typeof btoa=="function"?e=>btoa(e):dr?e=>Buffer.from(e,"binary").toString("base64"):ac,ri=dr?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(Gn.apply(null,e.subarray(n,n+4096)));return lc(t.join(""))},cc=(e,t=!1)=>t?sc(ri(e)):ri(e),uc=e=>{if(e=e.replace(/\s+/g,""),!ic.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,o;for(let i=0;i<e.length;)t=Mn[e.charAt(i++)]<<18|Mn[e.charAt(i++)]<<12|(r=Mn[e.charAt(i++)])<<6|(o=Mn[e.charAt(i++)]),n+=r===64?Gn(t>>16&255):o===64?Gn(t>>16&255,t>>8&255):Gn(t>>16&255,t>>8&255,t&255);return n},fc=typeof atob=="function"?e=>atob(_s(e)):dr?e=>Buffer.from(e,"base64").toString("binary"):uc,dc=dr?e=>ni(Buffer.from(e,"base64")):e=>ni(fc(e).split("").map(t=>t.charCodeAt(0))),hc=e=>dc(pc(e)),pc=e=>_s(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),gc=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,mc=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,bc=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function vc(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){yc(e);return}return t}function yc(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function wc(e,t={}){if(typeof e!="string")return e;const n=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return n.slice(1,-1);if(n.length<=9){const r=n.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="undefined")return;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r==="-infinity")return Number.NEGATIVE_INFINITY}if(!bc.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(gc.test(e)||mc.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,vc)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}const _c=/#/g,Sc=/&/g,kc=/\//g,Ec=/=/g,bo=/\+/g,xc=/%5e/gi,Tc=/%60/gi,Ac=/%7c/gi,Oc=/%20/gi;function Cc(e){return encodeURI(""+e).replace(Ac,"|")}function Jr(e){return Cc(typeof e=="string"?e:JSON.stringify(e)).replace(bo,"%2B").replace(Oc,"+").replace(_c,"%23").replace(Sc,"%26").replace(Tc,"`").replace(xc,"^").replace(kc,"%2F")}function Nr(e){return Jr(e).replace(Ec,"%3D")}function Ss(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function Rc(e){return Ss(e.replace(bo," "))}function Nc(e){return Ss(e.replace(bo," "))}function Pc(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const n of e.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const o=Rc(r[1]);if(o==="__proto__"||o==="constructor")continue;const i=Nc(r[2]||"");t[o]===void 0?t[o]=i:Array.isArray(t[o])?t[o].push(i):t[o]=[t[o],i]}return t}function Dc(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(n=>`${Nr(e)}=${Jr(n)}`).join("&"):`${Nr(e)}=${Jr(t)}`:Nr(e)}function Bc(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>Dc(t,e[t])).filter(Boolean).join("&")}const Lc=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Fc=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Mc=/^([/\\]\s*){2,}[^/\\]/,jc=/^\.?\//;function ks(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?Lc.test(e):Fc.test(e)||(t.acceptRelative?Mc.test(e):!1)}function qc(e="",t){return e.endsWith("/")}function Ic(e="",t){return(qc(e)?e.slice(0,-1):e)||"/"}function Uc(e="",t){return e.endsWith("/")?e:e+"/"}function $c(e,t){if(zc(t)||ks(e))return e;const n=Ic(t);return e.startsWith(n)?e:Gc(n,e)}function Hc(e,t){const n=Kc(e),r={...Pc(n.search),...t};return n.search=Bc(r),Wc(n)}function zc(e){return!e||e==="/"}function Vc(e){return e&&e!=="/"}function Gc(e,...t){let n=e||"";for(const r of t.filter(o=>Vc(o)))if(n){const o=r.replace(jc,"");n=Uc(n)+o}else n=r;return n}const Es=Symbol.for("ufo:protocolRelative");function Kc(e="",t){const n=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,g=""]=n;return{protocol:d.toLowerCase(),pathname:g,href:d+g,auth:"",host:"",search:"",hash:""}}if(!ks(e,{acceptRelative:!0}))return oi(e);const[,r="",o,i=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,s="",l=""]=i.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(l=l.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:a,hash:u}=oi(l);return{protocol:r.toLowerCase(),auth:o?o.slice(0,Math.max(0,o.length-1)):"",host:s,pathname:c,search:a,hash:u,[Es]:!r}}function oi(e=""){const[t="",n="",r=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:r}}function Wc(e){const t=e.pathname||"",n=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",r=e.hash||"",o=e.auth?e.auth+"@":"",i=e.host||"";return(e.protocol||e[Es]?(e.protocol||"")+"//":"")+o+i+t+n+r}class Yc extends Error{constructor(t,n){super(t,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function Jc(e){var t,n,r,o,i;const s=((t=e.error)==null?void 0:t.message)||((n=e.error)==null?void 0:n.toString())||"",l=((r=e.request)==null?void 0:r.method)||((o=e.options)==null?void 0:o.method)||"GET",c=((i=e.request)==null?void 0:i.url)||String(e.request)||"/",a=`[${l}] ${JSON.stringify(c)}`,u=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",d=`${a}: ${u}${s?` ${s}`:""}`,g=new Yc(d,e.error?{cause:e.error}:void 0);for(const f of["request","options","response"])Object.defineProperty(g,f,{get(){return e[f]}});for(const[f,b]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(g,f,{get(){return e.response&&e.response[b]}});return g}const Xc=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function ii(e="GET"){return Xc.has(e.toUpperCase())}function Zc(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const Qc=new Set(["image/svg","application/xml","application/xhtml","application/html"]),eu=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function tu(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return eu.test(t)?"json":Qc.has(t)||t.startsWith("text/")?"text":"blob"}function nu(e,t,n,r){const o=ru((t==null?void 0:t.headers)??(e==null?void 0:e.headers),n==null?void 0:n.headers,r);let i;return(n!=null&&n.query||n!=null&&n.params||t!=null&&t.params||t!=null&&t.query)&&(i={...n==null?void 0:n.params,...n==null?void 0:n.query,...t==null?void 0:t.params,...t==null?void 0:t.query}),{...n,...t,query:i,params:i,headers:o}}function ru(e,t,n){if(!t)return new n(e);const r=new n(t);if(e)for(const[o,i]of Symbol.iterator in e||Array.isArray(e)?e:new n(e))r.set(o,i);return r}async function jn(e,t){if(t)if(Array.isArray(t))for(const n of t)await n(e);else await t(e)}const ou=new Set([408,409,425,429,500,502,503,504]),iu=new Set([101,204,205,304]);function xs(e={}){const{fetch:t=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=e;async function o(l){const c=l.error&&l.error.name==="AbortError"&&!l.options.timeout||!1;if(l.options.retry!==!1&&!c){let u;typeof l.options.retry=="number"?u=l.options.retry:u=ii(l.options.method)?0:1;const d=l.response&&l.response.status||500;if(u>0&&(Array.isArray(l.options.retryStatusCodes)?l.options.retryStatusCodes.includes(d):ou.has(d))){const g=typeof l.options.retryDelay=="function"?l.options.retryDelay(l):l.options.retryDelay||0;return g>0&&await new Promise(f=>setTimeout(f,g)),i(l.request,{...l.options,retry:u-1})}}const a=Jc(l);throw Error.captureStackTrace&&Error.captureStackTrace(a,i),a}const i=async function(l,c={}){const a={request:l,options:nu(l,c,e.defaults,n),response:void 0,error:void 0};a.options.method&&(a.options.method=a.options.method.toUpperCase()),a.options.onRequest&&await jn(a,a.options.onRequest),typeof a.request=="string"&&(a.options.baseURL&&(a.request=$c(a.request,a.options.baseURL)),a.options.query&&(a.request=Hc(a.request,a.options.query),delete a.options.query),"query"in a.options&&delete a.options.query,"params"in a.options&&delete a.options.params),a.options.body&&ii(a.options.method)&&(Zc(a.options.body)?(a.options.body=typeof a.options.body=="string"?a.options.body:JSON.stringify(a.options.body),a.options.headers=new n(a.options.headers||{}),a.options.headers.has("content-type")||a.options.headers.set("content-type","application/json"),a.options.headers.has("accept")||a.options.headers.set("accept","application/json")):("pipeTo"in a.options.body&&typeof a.options.body.pipeTo=="function"||typeof a.options.body.pipe=="function")&&("duplex"in a.options||(a.options.duplex="half")));let u;if(!a.options.signal&&a.options.timeout){const d=new r;u=setTimeout(()=>{const g=new Error("[TimeoutError]: The operation was aborted due to timeout");g.name="TimeoutError",g.code=23,d.abort(g)},a.options.timeout),a.options.signal=d.signal}try{a.response=await t(a.request,a.options)}catch(d){return a.error=d,a.options.onRequestError&&await jn(a,a.options.onRequestError),await o(a)}finally{u&&clearTimeout(u)}if((a.response.body||a.response._bodyInit)&&!iu.has(a.response.status)&&a.options.method!=="HEAD"){const d=(a.options.parseResponse?"json":a.options.responseType)||tu(a.response.headers.get("content-type")||"");switch(d){case"json":{const g=await a.response.text(),f=a.options.parseResponse||wc;a.response._data=f(g);break}case"stream":{a.response._data=a.response.body||a.response._bodyInit;break}default:a.response._data=await a.response[d]()}}return a.options.onResponse&&await jn(a,a.options.onResponse),!a.options.ignoreResponseError&&a.response.status>=400&&a.response.status<600?(a.options.onResponseError&&await jn(a,a.options.onResponseError),await o(a)):a.response},s=async function(l,c){return(await i(l,c))._data};return s.raw=i,s.native=(...l)=>t(...l),s.create=(l={},c={})=>xs({...e,...c,defaults:{...e.defaults,...c.defaults,...l}}),s}const Xn=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),su=Xn.fetch?(...e)=>Xn.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),au=Xn.Headers,lu=Xn.AbortController,si=xs({fetch:su,Headers:au,AbortController:lu}),Pr={SCHEMA_DIR_RELATIVE_PATH:"./../schemas/",SCHEMA_FILENAME_PAYLOAD:"payload.schema.json",SCHEMA_FILENAME_RESPONSE:"response.schema.json",SIYUAN_DEFAULT_BASE_URL:"http://localhost:6806/",REQUEST_TIMEOUT:6e4};class cu extends Error{constructor(t){super(t.statusText),Oe(this,"status"),this.response=t,this.status=t.status}}class ai extends Error{constructor(t,n){super(t.msg),Oe(this,"code"),Oe(this,"msg"),Oe(this,"data"),this.body=t,this.response=n,this.code=t.code,this.msg=t.msg,this.data=t.data}}var li,ci,ui,fi,di;const Xr=class h{constructor(t={},n="xhr"){Oe(this,"_type","xhr"),Oe(this,"_baseURL",((ci=(li=globalThis.top)==null?void 0:li.document)==null?void 0:ci.baseURI)??((fi=(ui=globalThis.parent)==null?void 0:ui.document)==null?void 0:fi.baseURI)??((di=globalThis.location)==null?void 0:di.origin)??Pr.SIYUAN_DEFAULT_BASE_URL),Oe(this,"_token",null),Oe(this,"_ofetch_options",{baseURL:this._baseURL,headers:this._headers}),Oe(this,"_axios_options",{baseURL:this._baseURL,timeout:Pr.REQUEST_TIMEOUT,headers:this._headers}),Oe(this,"_fetch",si.create(this._ofetch_options)),Oe(this,"_axios",ne.create(this._axios_options)),this._setClientType(n),this._updateOptions(t,n)}static headers2record(t){const n={};return t.forEach((r,o)=>{n[o]=r}),n}static headers2records(t){const n=[];return t.forEach((r,o)=>{n.push({[o]:r})}),n}static headers2entries(t){const n=[];return Object.entries(t).forEach(([r,o])=>{o.forEach(i=>n.push([r,i]))}),n}static entries2record(t){const n={};for(const[r,o]of t)n[r]=o;return n}get _authorization(){return`Token ${this._token}`}get _headers(){return this._token!==null?{Authorization:this._authorization}:{}}_setClientType(t){this._type=t}_updateOptions(t,n=this._type){switch(this._baseURL=t.baseURL??this._baseURL,t.token){case void 0:break;case null:default:this._token=t.token,delete t.token;break}switch(n){case"fetch":{const r=t;switch(!0){case Array.isArray(r.headers):{r.headers.find(([o])=>o.toLowerCase()==="Authorization".toLowerCase())||r.headers.push(["Authorization",this._authorization]);break}case r.headers instanceof Headers:{r.headers.has("Authorization")||r.headers.set("Authorization",this._authorization);break}case typeof r.headers=="object":{"Authorization"in r.headers||(r.headers.Authorization=this._authorization);break}default:{r.headers=this._headers;break}}this._ofetch_options=r,this._fetch=si.create(this._ofetch_options);break}case"xhr":default:{const r=t;if(r.headers)switch(!0){case r.headers instanceof nc:{r.headers.has("Authorization")||r.headers.set("Authorization",this._authorization);break}case typeof r.headers=="object":{switch(!0){case("common"in r.headers||"get"in r.headers||"post"in r.headers):{"common"in r.headers&&("Authorization"in r.headers.get||(r.headers.get.Authorization=this._authorization)),"get"in r.headers&&("Authorization"in r.headers.get||(r.headers.get.Authorization=this._authorization)),"post"in r.headers&&("Authorization"in r.headers.post||(r.headers.post.Authorization=this._authorization));break}default:{"Authorization"in r.headers||(r.headers.Authorization=this._authorization);break}}break}default:{r.headers=this._headers;break}}else r.headers=this._headers;this._axios_options=r,this._axios=ne.create(this._axios_options);break}}}async $fetch(t,n){const r=new Request(t,n),o=await this.forwardProxy({url:r.url,method:r.method,headers:h.headers2records(r.headers),payload:cc(new Uint8Array(await r.arrayBuffer())),timeout:Pr.REQUEST_TIMEOUT,contentType:"application/json",payloadEncoding:"base64",responseEncoding:"base64"});return new Response(hc(o.data.body),{status:o.data.status,statusText:o.msg,headers:new Headers(h.headers2entries(o.data.headers))})}broadcast(t,n,r){var o;const i=(r==null?void 0:r.baseURL)??this._baseURL,s=(r==null?void 0:r.token)??this._token,l=new URLSearchParams(t);s&&l.set("token",s);const c=new URL(i,(o=globalThis.location)==null?void 0:o.href);return c.protocol=c.protocol.replace(/^http/,"ws"),c.pathname=c.pathname.endsWith("/")?`${c.pathname}${h.ws.broadcast.pathname.substring(1)}`:`${c.pathname}${h.ws.broadcast.pathname}`,c.search=l.toString(),new rc(c,n)}async upload(t,n){const r=new FormData;return t.id!=null&&r.append("id",t.id),t.assetsDirPath!=null&&r.append("assetsDirPath",t.assetsDirPath),t.skipIfDuplicated!=null&&r.append("skipIfDuplicated",String(t.skipIfDuplicated)),t.files.forEach(o=>r.append("file[]",o)),await this._request(h.api.asset.upload.pathname,h.api.asset.upload.method,r,n)}async getBlockAttrs(t,n){return await this._request(h.api.attr.getBlockAttrs.pathname,h.api.attr.getBlockAttrs.method,t,n)}async getBookmarkLabels(t){return await this._request(h.api.attr.getBookmarkLabels.pathname,h.api.attr.getBookmarkLabels.method,void 0,t)}async setBlockAttrs(t,n){return await this._request(h.api.attr.setBlockAttrs.pathname,h.api.attr.setBlockAttrs.method,t,n)}async appendBlock(t,n){return await this._request(h.api.block.appendBlock.pathname,h.api.block.appendBlock.method,t,n)}async deleteBlock(t,n){return await this._request(h.api.block.deleteBlock.pathname,h.api.block.deleteBlock.method,t,n)}async foldBlock(t,n){return await this._request(h.api.block.foldBlock.pathname,h.api.block.foldBlock.method,t,n)}async getBlockBreadcrumb(t,n){return await this._request(h.api.block.getBlockBreadcrumb.pathname,h.api.block.getBlockBreadcrumb.method,t,n)}async getBlockDOM(t,n){return await this._request(h.api.block.getBlockDOM.pathname,h.api.block.getBlockDOM.method,t,n)}async getBlockInfo(t,n){return await this._request(h.api.block.getBlockInfo.pathname,h.api.block.getBlockInfo.method,t,n)}async getBlockKramdown(t,n){return await this._request(h.api.block.getBlockKramdown.pathname,h.api.block.getBlockKramdown.method,t,n)}async getChildBlocks(t,n){return await this._request(h.api.block.getChildBlocks.pathname,h.api.block.getChildBlocks.method,t,n)}async getDocInfo(t,n){return await this._request(h.api.block.getDocInfo.pathname,h.api.block.getDocInfo.method,t,n)}async insertBlock(t,n){return await this._request(h.api.block.insertBlock.pathname,h.api.block.insertBlock.method,t,n)}async moveBlock(t,n){return await this._request(h.api.block.moveBlock.pathname,h.api.block.moveBlock.method,t,n)}async prependBlock(t,n){return await this._request(h.api.block.prependBlock.pathname,h.api.block.prependBlock.method,t,n)}async transferBlockRef(t,n){return await this._request(h.api.block.transferBlockRef.pathname,h.api.block.transferBlockRef.method,t,n)}async unfoldBlock(t,n){return await this._request(h.api.block.unfoldBlock.pathname,h.api.block.unfoldBlock.method,t,n)}async updateBlock(t,n){return await this._request(h.api.block.updateBlock.pathname,h.api.block.updateBlock.method,t,n)}async getChannelInfo(t,n){return await this._request(h.api.broadcast.getChannelInfo.pathname,h.api.broadcast.getChannelInfo.method,t,n)}async getChannels(t){return await this._request(h.api.broadcast.getChannels.pathname,h.api.broadcast.getChannels.method,void 0,t)}async postMessage(t,n){return await this._request(h.api.broadcast.postMessage.pathname,h.api.broadcast.postMessage.method,t,n)}async pandoc(t,n){return await this._request(h.api.convert.pandoc.pathname,h.api.convert.pandoc.method,t,n)}async exportHTML(t,n){return await this._request(h.api.export.exportHTML.pathname,h.api.export.exportHTML.method,t,n)}async exportMdContent(t,n){return await this._request(h.api.export.exportMdContent.pathname,h.api.export.exportMdContent.method,t,n)}async exportResources(t,n){return await this._request(h.api.export.exportResources.pathname,h.api.export.exportResources.method,t,n)}async getFile(t,n="text",r){return await this._request(h.api.file.getFile.pathname,h.api.file.getFile.method,t,r,!1,n)}async putFile(t,n){t.file!==void 0&&!(t.file instanceof File)&&(t.file=new File([t.file],t.path.split("/").pop()));const r=new FormData;for(const[o,i]of Object.entries(t))i instanceof Blob?r.append(o,i):r.append(o,String(i));return await this._request(h.api.file.putFile.pathname,h.api.file.putFile.method,r,n)}async readDir(t,n){return await this._request(h.api.file.readDir.pathname,h.api.file.readDir.method,t,n)}async removeFile(t,n){return await this._request(h.api.file.removeFile.pathname,h.api.file.removeFile.method,t,n)}async renameFile(t,n){return await this._request(h.api.file.renameFile.pathname,h.api.file.renameFile.method,t,n)}async createDailyNote(t,n){return await this._request(h.api.filetree.createDailyNote.pathname,h.api.filetree.createDailyNote.method,t,n)}async createDocWithMd(t,n){return await this._request(h.api.filetree.createDocWithMd.pathname,h.api.filetree.createDocWithMd.method,t,n)}async getDoc(t,n){return await this._request(h.api.filetree.getDoc.pathname,h.api.filetree.getDoc.method,t,n)}async getHPathByID(t,n){return await this._request(h.api.filetree.getHPathByID.pathname,h.api.filetree.getHPathByID.method,t,n)}async getHPathByPath(t,n){return await this._request(h.api.filetree.getHPathByPath.pathname,h.api.filetree.getHPathByPath.method,t,n)}async getIDsByHPath(t,n){return await this._request(h.api.filetree.getIDsByHPath.pathname,h.api.filetree.getIDsByHPath.method,t,n)}async listDocsByPath(t,n){return await this._request(h.api.filetree.listDocsByPath.pathname,h.api.filetree.listDocsByPath.method,t,n)}async moveDocs(t,n){return await this._request(h.api.filetree.moveDocs.pathname,h.api.filetree.moveDocs.method,t,n)}async removeDoc(t,n){return await this._request(h.api.filetree.removeDoc.pathname,h.api.filetree.removeDoc.method,t,n)}async renameDoc(t,n){return await this._request(h.api.filetree.renameDoc.pathname,h.api.filetree.renameDoc.method,t,n)}async searchDocs(t,n){return await this._request(h.api.filetree.searchDocs.pathname,h.api.filetree.searchDocs.method,t,n)}async getDocHistoryContent(t,n){return await this._request(h.api.history.getDocHistoryContent.pathname,h.api.history.getDocHistoryContent.method,t,n)}async getHistoryItems(t,n){return await this._request(h.api.history.getHistoryItems.pathname,h.api.history.getHistoryItems.method,t,n)}async getShorthand(t,n){return await this._request(h.api.inbox.getShorthand.pathname,h.api.inbox.getShorthand.method,t,n)}async echo(t,n){if(t)switch(n??(n={type:this._type}),n==null?void 0:n.type){case"fetch":{const r={};t.headers&&(r.headers=t.headers),t.query&&(r.query=h.entries2record(t.query.entries())),n.options?Object.assign(r,n.options):n.options=r;break}case"xhr":{const r={};t.headers&&(r.headers=Array.isArray(t.headers)?h.entries2record(t.headers):t.headers instanceof Headers?h.headers2record(t.headers):t.headers),t.query&&(r.params=t.query),n.options?Object.assign(r,n.options):n.options=r;break}}return await this._request(h.api.network.echo.pathname,(t==null?void 0:t.method)??h.api.network.echo.method,t==null?void 0:t.body,n)}async forwardProxy(t,n){return await this._request(h.api.network.forwardProxy.pathname,h.api.network.forwardProxy.method,t,n)}async closeNotebook(t,n){return await this._request(h.api.notebook.closeNotebook.pathname,h.api.notebook.closeNotebook.method,t,n)}async createNotebook(t,n){return await this._request(h.api.notebook.createNotebook.pathname,h.api.notebook.createNotebook.method,t,n)}async getNotebookConf(t,n){return await this._request(h.api.notebook.getNotebookConf.pathname,h.api.notebook.getNotebookConf.method,t,n)}async lsNotebooks(t){return await this._request(h.api.notebook.lsNotebooks.pathname,h.api.notebook.lsNotebooks.method,void 0,t)}async openNotebook(t,n){return await this._request(h.api.notebook.openNotebook.pathname,h.api.notebook.openNotebook.method,t,n)}async removeNotebook(t,n){return await this._request(h.api.notebook.removeNotebook.pathname,h.api.notebook.removeNotebook.method,t,n)}async renameNotebook(t,n){return await this._request(h.api.notebook.renameNotebook.pathname,h.api.notebook.renameNotebook.method,t,n)}async setNotebookConf(t,n){return await this._request(h.api.notebook.setNotebookConf.pathname,h.api.notebook.setNotebookConf.method,t,n)}async pushErrMsg(t,n){return await this._request(h.api.notification.pushErrMsg.pathname,h.api.notification.pushErrMsg.method,t,n)}async pushMsg(t,n){return await this._request(h.api.notification.pushMsg.pathname,h.api.notification.pushMsg.method,t,n)}async getDocOutline(t,n){return await this._request(h.api.outline.getDocOutline.pathname,h.api.outline.getDocOutline.method,t,n)}async sql(t,n){return await this._request(h.api.query.sql.pathname,h.api.query.sql.method,t,n)}async openRepoSnapshotDoc(t,n){return await this._request(h.api.repo.openRepoSnapshotDoc.pathname,h.api.repo.openRepoSnapshotDoc.method,t,n)}async fullTextSearchBlock(t,n){return await this._request(h.api.search.fullTextSearchBlock.pathname,h.api.search.fullTextSearchBlock.method,t,n)}async getSnippet(t,n){return await this._request(h.api.snippet.getSnippet.pathname,h.api.snippet.getSnippet.method,t,n)}async setSnippet(t,n){return await this._request(h.api.snippet.setSnippet.pathname,h.api.snippet.setSnippet.method,t,n)}async flushTransaction(t){return await this._request(h.api.sqlite.flushTransaction.pathname,h.api.sqlite.flushTransaction.method,t)}async getLocalStorage(t){return await this._request(h.api.storage.getLocalStorage.pathname,h.api.storage.getLocalStorage.method,void 0,t)}async getRecentDocs(t){return await this._request(h.api.storage.getRecentDocs.pathname,h.api.storage.getRecentDocs.method,void 0,t)}async setLocalStorage(t,n){return await this._request(h.api.storage.setLocalStorage.pathname,h.api.storage.setLocalStorage.method,t,n)}async setLocalStorageVal(t,n){return await this._request(h.api.storage.setLocalStorageVal.pathname,h.api.storage.setLocalStorageVal.method,t,n)}async bootProgress(t){return await this._request(h.api.system.bootProgress.pathname,h.api.system.bootProgress.method,void 0,t)}async currentTime(t){return await this._request(h.api.system.currentTime.pathname,h.api.system.currentTime.method,void 0,t)}async exit(t,n){return await this._request(h.api.system.exit.pathname,h.api.system.exit.method,t,n)}async getConf(t){return await this._request(h.api.system.getConf.pathname,h.api.system.getConf.method,void 0,t)}async logoutAuth(t){return await this._request(h.api.system.logoutAuth.pathname,h.api.system.logoutAuth.method,void 0,t)}async version(t){return await this._request(h.api.system.version.pathname,h.api.system.version.method,void 0,t)}async render(t,n){return await this._request(h.api.template.render.pathname,h.api.template.render.method,t,n)}async renderSprig(t,n){return await this._request(h.api.template.renderSprig.pathname,h.api.template.renderSprig.method,t,n)}async _request(t,n,r,o,i=!0,s="json"){switch((o==null?void 0:o.type)??this._type){case"fetch":{const l=o==null?void 0:o.options;s=(()=>{switch(s){case"arraybuffer":return"arrayBuffer";case"document":return"text";default:return s}})();const c=await this._fetch(t,{method:n,body:r,responseType:s,onResponse:a=>{switch(a.response.status){case Fn.Ok:switch(s){case"blob":a.response._data.contentType=a.response.headers.get("content-type");break}break;case Fn.Accepted:t===h.api.file.getFile.pathname&&this._parseFetchResponse(a.response._data);break}},...l});return i&&s==="json"&&typeof c=="object"?this._parseFetchResponse(c):c}case"xhr":default:{const l=o==null?void 0:o.options;s=(()=>{switch(s){case"arrayBuffer":return"arraybuffer";default:return s}})();const c=await this._axios.request({url:t,method:n,data:r,responseType:s,...l});switch(c.status){case Fn.Ok:if(i&&s==="json"&&typeof c.data=="object")return this._parseAxiosResponse(c);switch(s){case"blob":"content-type"in c.headers&&(c.data.contentType=c.headers["content-type"]);break}return c.data;case Fn.Accepted:return t===h.api.file.getFile.pathname?this._parseAxiosResponse(c):c.data;default:throw new cu(c)}}}}_parseFetchResponse(t){if(t.code===0)return t;throw new ai(t)}_parseAxiosResponse(t){if(t.data.code===0)return t.data;throw new ai(t.data,t)}};Oe(Xr,"ws",{broadcast:{pathname:"/ws/broadcast"}}),Oe(Xr,"api",{asset:{upload:{pathname:"/api/asset/upload",method:"POST"}},attr:{getBlockAttrs:{pathname:"/api/attr/getBlockAttrs",method:"POST"},getBookmarkLabels:{pathname:"/api/attr/getBookmarkLabels",method:"POST"},setBlockAttrs:{pathname:"/api/attr/setBlockAttrs",method:"POST"}},block:{appendBlock:{pathname:"/api/block/appendBlock",method:"POST"},deleteBlock:{pathname:"/api/block/deleteBlock",method:"POST"},foldBlock:{pathname:"/api/block/foldBlock",method:"POST"},getBlockBreadcrumb:{pathname:"/api/block/getBlockBreadcrumb",method:"POST"},getBlockDOM:{pathname:"/api/block/getBlockDOM",method:"POST"},getBlockInfo:{pathname:"/api/block/getBlockInfo",method:"POST"},getBlockKramdown:{pathname:"/api/block/getBlockKramdown",method:"POST"},getChildBlocks:{pathname:"/api/block/getChildBlocks",method:"POST"},getDocInfo:{pathname:"/api/block/getDocInfo",method:"POST"},insertBlock:{pathname:"/api/block/insertBlock",method:"POST"},moveBlock:{pathname:"/api/block/moveBlock",method:"POST"},prependBlock:{pathname:"/api/block/prependBlock",method:"POST"},transferBlockRef:{pathname:"/api/block/transferBlockRef",method:"POST"},unfoldBlock:{pathname:"/api/block/unfoldBlock",method:"POST"},updateBlock:{pathname:"/api/block/updateBlock",method:"POST"}},broadcast:{getChannelInfo:{pathname:"/api/broadcast/getChannelInfo",method:"POST"},getChannels:{pathname:"/api/broadcast/getChannels",method:"POST"},postMessage:{pathname:"/api/broadcast/postMessage",method:"POST"}},convert:{pandoc:{pathname:"/api/convert/pandoc",method:"POST"}},export:{exportHTML:{pathname:"/api/export/exportHTML",method:"POST"},exportMdContent:{pathname:"/api/export/exportMdContent",method:"POST"},exportResources:{pathname:"/api/export/exportResources",method:"POST"}},file:{getFile:{pathname:"/api/file/getFile",method:"POST"},putFile:{pathname:"/api/file/putFile",method:"POST"},readDir:{pathname:"/api/file/readDir",method:"POST"},removeFile:{pathname:"/api/file/removeFile",method:"POST"},renameFile:{pathname:"/api/file/renameFile",method:"POST"}},filetree:{createDailyNote:{pathname:"/api/filetree/createDailyNote",method:"POST"},createDocWithMd:{pathname:"/api/filetree/createDocWithMd",method:"POST"},getDoc:{pathname:"/api/filetree/getDoc",method:"POST"},getHPathByID:{pathname:"/api/filetree/getHPathByID",method:"POST"},getHPathByPath:{pathname:"/api/filetree/getHPathByPath",method:"POST"},getIDsByHPath:{pathname:"/api/filetree/getIDsByHPath",method:"POST"},listDocsByPath:{pathname:"/api/filetree/listDocsByPath",method:"POST"},moveDocs:{pathname:"/api/filetree/moveDocs",method:"POST"},removeDoc:{pathname:"/api/filetree/removeDoc",method:"POST"},renameDoc:{pathname:"/api/filetree/renameDoc",method:"POST"},searchDocs:{pathname:"/api/filetree/searchDocs",method:"POST"}},history:{getDocHistoryContent:{pathname:"/api/history/getDocHistoryContent",method:"POST"},getHistoryItems:{pathname:"/api/history/getHistoryItems",method:"POST"}},inbox:{getShorthand:{pathname:"/api/inbox/getShorthand",method:"POST"}},network:{echo:{pathname:"/api/network/echo",method:"POST"},forwardProxy:{pathname:"/api/network/forwardProxy",method:"POST"}},notebook:{closeNotebook:{pathname:"/api/notebook/closeNotebook",method:"POST"},createNotebook:{pathname:"/api/notebook/createNotebook",method:"POST"},getNotebookConf:{pathname:"/api/notebook/getNotebookConf",method:"POST"},lsNotebooks:{pathname:"/api/notebook/lsNotebooks",method:"POST"},openNotebook:{pathname:"/api/notebook/openNotebook",method:"POST"},removeNotebook:{pathname:"/api/notebook/removeNotebook",method:"POST"},renameNotebook:{pathname:"/api/notebook/renameNotebook",method:"POST"},setNotebookConf:{pathname:"/api/notebook/setNotebookConf",method:"POST"}},notification:{pushErrMsg:{pathname:"/api/notification/pushErrMsg",method:"POST"},pushMsg:{pathname:"/api/notification/pushMsg",method:"POST"}},outline:{getDocOutline:{pathname:"/api/outline/getDocOutline",method:"POST"}},query:{sql:{pathname:"/api/query/sql",method:"POST"}},repo:{openRepoSnapshotDoc:{pathname:"/api/repo/openRepoSnapshotDoc",method:"POST"}},search:{fullTextSearchBlock:{pathname:"/api/search/fullTextSearchBlock",method:"POST"}},snippet:{getSnippet:{pathname:"/api/snippet/getSnippet",method:"POST"},setSnippet:{pathname:"/api/snippet/setSnippet",method:"POST"}},sqlite:{flushTransaction:{pathname:"/api/sqlite/flushTransaction",method:"POST"}},storage:{getLocalStorage:{pathname:"/api/storage/getLocalStorage",method:"POST"},getRecentDocs:{pathname:"/api/storage/getRecentDocs",method:"POST"},setLocalStorage:{pathname:"/api/storage/setLocalStorage",method:"POST"},setLocalStorageVal:{pathname:"/api/storage/setLocalStorageVal",method:"POST"}},system:{bootProgress:{pathname:"/api/system/bootProgress",method:"POST"},currentTime:{pathname:"/api/system/currentTime",method:"POST"},exit:{pathname:"/api/system/exit",method:"POST"},getConf:{pathname:"/api/system/getConf",method:"POST"},logoutAuth:{pathname:"/api/system/logoutAuth",method:"POST"},version:{pathname:"/api/system/version",method:"POST"}},template:{render:{pathname:"/api/template/render",method:"POST"},renderSprig:{pathname:"/api/template/renderSprig",method:"POST"}}});let uu=Xr;function He(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function hi(e,t){for(var n="",r=0,o=-1,i=0,s,l=0;l<=e.length;++l){if(l<e.length)s=e.charCodeAt(l);else{if(s===47)break;s=47}if(s===47){if(!(o===l-1||i===1))if(o!==l-1&&i===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){c===-1?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),o=l,i=0;continue}}else if(n.length===2||n.length===1){n="",r=0,o=l,i=0;continue}}t&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+e.slice(o+1,l):n=e.slice(o+1,l),r=l-o-1;o=l,i=0}else s===46&&i!==-1?++i:i=-1}return n}function fu(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}var hn={resolve:function(){for(var e="",t=!1,n,r=arguments.length-1;r>=-1&&!t;r--){var o;r>=0?o=arguments[r]:(n===void 0&&(n=process.cwd()),o=n),He(o),o.length!==0&&(e=o+"/"+e,t=o.charCodeAt(0)===47)}return e=hi(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(He(e),e.length===0)return".";var t=e.charCodeAt(0)===47,n=e.charCodeAt(e.length-1)===47;return e=hi(e,!t),e.length===0&&!t&&(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return He(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];He(n),n.length>0&&(e===void 0?e=n:e+="/"+n)}return e===void 0?".":hn.normalize(e)},relative:function(e,t){if(He(e),He(t),e===t||(e=hn.resolve(e),t=hn.resolve(t),e===t))return"";for(var n=1;n<e.length&&e.charCodeAt(n)===47;++n);for(var r=e.length,o=r-n,i=1;i<t.length&&t.charCodeAt(i)===47;++i);for(var s=t.length,l=s-i,c=o<l?o:l,a=-1,u=0;u<=c;++u){if(u===c){if(l>c){if(t.charCodeAt(i+u)===47)return t.slice(i+u+1);if(u===0)return t.slice(i+u)}else o>c&&(e.charCodeAt(n+u)===47?a=u:u===0&&(a=0));break}var d=e.charCodeAt(n+u),g=t.charCodeAt(i+u);if(d!==g)break;d===47&&(a=u)}var f="";for(u=n+a+1;u<=r;++u)(u===r||e.charCodeAt(u)===47)&&(f.length===0?f+="..":f+="/..");return f.length>0?f+t.slice(i+a):(i+=a,t.charCodeAt(i)===47&&++i,t.slice(i))},_makeLong:function(e){return e},dirname:function(e){if(He(e),e.length===0)return".";for(var t=e.charCodeAt(0),n=t===47,r=-1,o=!0,i=e.length-1;i>=1;--i)if(t=e.charCodeAt(i),t===47){if(!o){r=i;break}}else o=!1;return r===-1?n?"/":".":n&&r===1?"//":e.slice(0,r)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');He(e);var n=0,r=-1,o=!0,i;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,l=-1;for(i=e.length-1;i>=0;--i){var c=e.charCodeAt(i);if(c===47){if(!o){n=i+1;break}}else l===-1&&(o=!1,l=i+1),s>=0&&(c===t.charCodeAt(s)?--s===-1&&(r=i):(s=-1,r=l))}return n===r?r=l:r===-1&&(r=e.length),e.slice(n,r)}else{for(i=e.length-1;i>=0;--i)if(e.charCodeAt(i)===47){if(!o){n=i+1;break}}else r===-1&&(o=!1,r=i+1);return r===-1?"":e.slice(n,r)}},extname:function(e){He(e);for(var t=-1,n=0,r=-1,o=!0,i=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(l===47){if(!o){n=s+1;break}continue}r===-1&&(o=!1,r=s+1),l===46?t===-1?t=s:i!==1&&(i=1):t!==-1&&(i=-1)}return t===-1||r===-1||i===0||i===1&&t===r-1&&t===n+1?"":e.slice(t,r)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return fu("/",e)},parse:function(e){He(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var n=e.charCodeAt(0),r=n===47,o;r?(t.root="/",o=1):o=0;for(var i=-1,s=0,l=-1,c=!0,a=e.length-1,u=0;a>=o;--a){if(n=e.charCodeAt(a),n===47){if(!c){s=a+1;break}continue}l===-1&&(c=!1,l=a+1),n===46?i===-1?i=a:u!==1&&(u=1):i!==-1&&(u=-1)}return i===-1||l===-1||u===0||u===1&&i===l-1&&i===s+1?l!==-1&&(s===0&&r?t.base=t.name=e.slice(1,l):t.base=t.name=e.slice(s,l)):(s===0&&r?(t.name=e.slice(1,i),t.base=e.slice(1,l)):(t.name=e.slice(s,i),t.base=e.slice(s,l)),t.ext=e.slice(i,l)),s>0?t.dir=e.slice(0,s-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};hn.posix=hn;var Ts=(e=>(e.NodeNotebook="NodeNotebook",e.NodeFolder="NodeFolder",e.NodeDocument="NodeDocument",e.NodeSuperBlock="NodeSuperBlock",e.NodeBlockquote="NodeBlockquote",e.NodeList="NodeList",e.NodeListItem="NodeListItem",e.NodeHeading="NodeHeading",e.NodeParagraph="NodeParagraph",e.NodeMathBlock="NodeMathBlock",e.NodeTable="NodeTable",e.NodeCodeBlock="NodeCodeBlock",e.NodeHTMLBlock="NodeHTMLBlock",e.NodeBlockQueryEmbed="NodeBlockQueryEmbed",e.NodeAttributeView="NodeAttributeView",e.NodeThematicBreak="NodeThematicBreak",e.NodeAudio="NodeAudio",e.NodeVideo="NodeVideo",e.NodeIFrame="NodeIFrame",e.NodeWidget="NodeWidget",e))(Ts||{}),As=(e=>(e.d="d",e.s="s",e.b="b",e.l="l",e.i="i",e.h="h",e.p="p",e.m="m",e.t="t",e.c="c",e.html="html",e.query_embed="query_embed",e.tb="tb",e.audio="audio",e.video="video",e.iframe="iframe",e.widget="widget",e))(As||{}),Os=(e=>(e.d="d",e.s="s",e.b="b",e.l="l",e.i="i",e))(Os||{}),Cs=(e=>(e.h="h",e.p="p",e.m="m",e.t="t",e.c="c",e.html="html",e.query_embed="query_embed",e.tb="tb",e.audio="audio",e.video="video",e.iframe="iframe",e.widget="widget",e))(Cs||{}),Rs=(e=>(e.h1="h1",e.h2="h2",e.h3="h3",e.h4="h4",e.h5="h5",e.h6="h6",e.u="u",e.o="o",e.t="t",e.none="",e))(Rs||{}),Ns=(e=>(e.u="u",e.o="o",e.t="t",e))(Ns||{}),Ps=(e=>(e.h1="h1",e.h2="h2",e.h3="h3",e.h4="h4",e.h5="h5",e.h6="h6",e))(Ps||{}),Ds=(e=>(e[e.keyword=0]="keyword",e[e.querySyntax=1]="querySyntax",e[e.sql=2]="sql",e[e.regex=3]="regex",e))(Ds||{}),Bs=(e=>(e[e.noGroupBy=0]="noGroupBy",e[e.group=1]="group",e))(Bs||{}),Ls=(e=>(e[e.type=0]="type",e[e.createdASC=1]="createdASC",e[e.createdDESC=2]="createdDESC",e[e.modifiedASC=3]="modifiedASC",e[e.modifiedDESC=4]="modifiedDESC",e[e.sortByContent=5]="sortByContent",e[e.sortByRankAsc=6]="sortByRankAsc",e[e.sortByRankDesc=7]="sortByRankDesc",e))(Ls||{}),Fs=(e=>(e[e.SortModeNameASC=0]="SortModeNameASC",e[e.SortModeNameDESC=1]="SortModeNameDESC",e[e.SortModeUpdatedASC=2]="SortModeUpdatedASC",e[e.SortModeUpdatedDESC=3]="SortModeUpdatedDESC",e[e.SortModeAlphanumASC=4]="SortModeAlphanumASC",e[e.SortModeAlphanumDESC=5]="SortModeAlphanumDESC",e[e.SortModeCustom=6]="SortModeCustom",e[e.SortModeRefCountASC=7]="SortModeRefCountASC",e[e.SortModeRefCountDESC=8]="SortModeRefCountDESC",e[e.SortModeCreatedASC=9]="SortModeCreatedASC",e[e.SortModeCreatedDESC=10]="SortModeCreatedDESC",e[e.SortModeSizeASC=11]="SortModeSizeASC",e[e.SortModeSizeDESC=12]="SortModeSizeDESC",e[e.SortModeSubDocCountASC=13]="SortModeSubDocCountASC",e[e.SortModeSubDocCountDESC=14]="SortModeSubDocCountDESC",e))(Fs||{});const du=Object.freeze(Object.defineProperty({__proto__:null,BlockSubType:Rs,BlockType:As,Container:Os,GroupBy:Bs,Leaf:Cs,Method:Ds,NodeHeadingSubType:Ps,NodeListSubType:Ns,NodeType:Ts,OrderBy:Ls,SortMode:Fs},Symbol.toStringTag,{value:"Module"})),hu=!1;var hr=Array.isArray,vo=Array.from,pu=Object.defineProperty,ht=Object.getOwnPropertyDescriptor,Ms=Object.getOwnPropertyDescriptors,gu=Object.prototype,mu=Array.prototype,yo=Object.getPrototypeOf;function Qt(e){return typeof e=="function"}function bu(e){return e()}function Zr(e){for(var t=0;t<e.length;t++)e[t]()}const Ie=2,js=4,Tn=8,wo=16,$e=32,An=64,Qr=128,Ct=256,Zn=512,Te=1024,gt=2048,On=4096,Ge=8192,Yt=16384,vu=32768,_o=65536,qs=1<<17,yu=1<<19,Is=1<<20,nt=Symbol("$state"),Us=Symbol("legacy props"),wu=Symbol("");function $s(e){return e===this.v}function _u(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function So(e){return!_u(e,this.v)}function Su(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ku(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Eu(e){throw new Error("https://svelte.dev/e/effect_orphan")}function xu(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Tu(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Au(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ou(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Cu(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Ru(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Cn=!1;function Nu(){Cn=!0}const ko=1,Eo=2,Hs=4,Pu=8,Du=16,Bu=1,Lu=2,Fu=4,Mu=8,ju=16,qu=1,Iu=2,_e=Symbol();function Be(e,t){var n={f:0,v:e,reactions:null,equals:$s,version:0};return n}function zs(e,t=!1){var r;const n=Be(e);return t||(n.equals=So),Cn&&te!==null&&te.l!==null&&((r=te.l).s??(r.s=[])).push(n),n}function Je(e,t){return K!==null&&vr()&&K.f&(Ie|wo)&&(kt===null||!kt.includes(e))&&Ru(),yn(e,t)}function yn(e,t){return e.equals(t)||(e.v=t,e.version=sa(),Vs(e,gt),vr()&&I!==null&&I.f&Te&&!(I.f&$e)&&(pe!==null&&pe.includes(e)?(We(I,gt),_r(I)):pt===null?Zu([e]):pt.push(e))),t}function Vs(e,t){var n=e.reactions;if(n!==null)for(var r=vr(),o=n.length,i=0;i<o;i++){var s=n[i],l=s.f;l&gt||!r&&s===I||(We(s,t),l&(Te|Ct)&&(l&Ie?Vs(s,On):_r(s)))}}let xo=!1;function jt(e,t=null,n){if(typeof e!="object"||e===null||nt in e)return e;const r=yo(e);if(r!==gu&&r!==mu)return e;var o=new Map,i=hr(e),s=Be(0);i&&o.set("length",Be(e.length));var l;return new Proxy(e,{defineProperty(c,a,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Au();var d=o.get(a);return d===void 0?(d=Be(u.value),o.set(a,d)):Je(d,jt(u.value,l)),!0},deleteProperty(c,a){var u=o.get(a);if(u===void 0)a in c&&o.set(a,Be(_e));else{if(i&&typeof a=="string"){var d=o.get("length"),g=Number(a);Number.isInteger(g)&&g<d.v&&Je(d,g)}Je(u,_e),pi(s)}return!0},get(c,a,u){var b;if(a===nt)return e;var d=o.get(a),g=a in c;if(d===void 0&&(!g||(b=ht(c,a))!=null&&b.writable)&&(d=Be(jt(g?c[a]:_e,l)),o.set(a,d)),d!==void 0){var f=O(d);return f===_e?void 0:f}return Reflect.get(c,a,u)},getOwnPropertyDescriptor(c,a){var u=Reflect.getOwnPropertyDescriptor(c,a);if(u&&"value"in u){var d=o.get(a);d&&(u.value=O(d))}else if(u===void 0){var g=o.get(a),f=g==null?void 0:g.v;if(g!==void 0&&f!==_e)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return u},has(c,a){var f;if(a===nt)return!0;var u=o.get(a),d=u!==void 0&&u.v!==_e||Reflect.has(c,a);if(u!==void 0||I!==null&&(!d||(f=ht(c,a))!=null&&f.writable)){u===void 0&&(u=Be(d?jt(c[a],l):_e),o.set(a,u));var g=O(u);if(g===_e)return!1}return d},set(c,a,u,d){var T;var g=o.get(a),f=a in c;if(i&&a==="length")for(var b=u;b<g.v;b+=1){var p=o.get(b+"");p!==void 0?Je(p,_e):b in c&&(p=Be(_e),o.set(b+"",p))}g===void 0?(!f||(T=ht(c,a))!=null&&T.writable)&&(g=Be(void 0),Je(g,jt(u,l)),o.set(a,g)):(f=g.v!==_e,Je(g,jt(u,l)));var A=Reflect.getOwnPropertyDescriptor(c,a);if(A!=null&&A.set&&A.set.call(d,u),!f){if(i&&typeof a=="string"){var y=o.get("length"),v=Number(a);Number.isInteger(v)&&v>=y.v&&Je(y,v+1)}pi(s)}return!0},ownKeys(c){O(s);var a=Reflect.ownKeys(c).filter(g=>{var f=o.get(g);return f===void 0||f.v!==_e});for(var[u,d]of o)d.v!==_e&&!(u in c)&&a.push(u);return a},setPrototypeOf(){Ou()}})}function pi(e,t=1){Je(e,e.v+t)}function gi(e){return e!==null&&typeof e=="object"&&nt in e?e[nt]:e}function Uu(e,t){return Object.is(gi(e),gi(t))}var mi,Gs,Ks;function $u(){if(mi===void 0){mi=window;var e=Element.prototype,t=Node.prototype;Gs=ht(t,"firstChild").get,Ks=ht(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function pr(e=""){return document.createTextNode(e)}function xt(e){return Gs.call(e)}function gr(e){return Ks.call(e)}function H(e,t){return xt(e)}function se(e,t){{var n=xt(e);return n instanceof Comment&&n.data===""?gr(n):n}}function F(e,t=1,n=!1){let r=e;for(;t--;)r=gr(r);return r}function Hu(e){e.textContent=""}function de(e){var t=Ie|gt;I===null?t|=Ct:I.f|=Is;var n=K!==null&&K.f&Ie?K:null;const r={children:null,ctx:te,deps:null,equals:$s,f:t,fn:e,reactions:null,v:null,version:0,parent:n??I};return n!==null&&(n.children??(n.children=[])).push(r),r}function wn(e){const t=de(e);return t.equals=So,t}function Ws(e){var t=e.children;if(t!==null){e.children=null;for(var n=0;n<t.length;n+=1){var r=t[n];r.f&Ie?To(r):rt(r)}}}function zu(e){for(var t=e.parent;t!==null;){if(!(t.f&Ie))return t;t=t.parent}return null}function Ys(e){var t,n=I;Ke(zu(e));try{Ws(e),t=aa(e)}finally{Ke(n)}return t}function Js(e){var t=Ys(e),n=(_t||e.f&Ct)&&e.deps!==null?On:Te;We(e,n),e.equals(t)||(e.v=t,e.version=sa())}function To(e){Ws(e),_n(e,0),We(e,Yt),e.v=e.children=e.deps=e.ctx=e.reactions=null}function Xs(e){I===null&&K===null&&Eu(),K!==null&&K.f&Ct&&ku(),Co&&Su()}function Vu(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Jt(e,t,n,r=!0){var o=(e&An)!==0,i=I,s={ctx:te,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|gt,first:null,fn:t,last:null,next:null,parent:o?null:i,prev:null,teardown:null,transitions:null,version:0};if(n){var l=It;try{yi(!0),wr(s),s.f|=vu}catch(u){throw rt(s),u}finally{yi(l)}}else t!==null&&_r(s);var c=n&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&Is)===0;if(!c&&!o&&r&&(i!==null&&Vu(s,i),K!==null&&K.f&Ie)){var a=K;(a.children??(a.children=[])).push(s)}return s}function Gu(e){const t=Jt(Tn,null,!1);return We(t,Te),t.teardown=e,t}function bi(e){Xs();var t=I!==null&&(I.f&$e)!==0&&te!==null&&!te.m;if(t){var n=te;(n.e??(n.e=[])).push({fn:e,effect:I,reaction:K})}else{var r=mr(e);return r}}function Ku(e){return Xs(),Ao(e)}function Wu(e){const t=Jt(An,e,!0);return(n={})=>new Promise(r=>{n.outro?Qn(t,()=>{rt(t),r(void 0)}):(rt(t),r(void 0))})}function mr(e){return Jt(js,e,!1)}function Ao(e){return Jt(Tn,e,!0)}function oe(e){return br(e)}function br(e,t=0){return Jt(Tn|wo|t,e,!0)}function Ht(e,t=!0){return Jt(Tn|$e,e,!0,t)}function Zs(e){var t=e.teardown;if(t!==null){const n=Co,r=K;wi(!0),mt(null);try{t.call(null)}finally{wi(n),mt(r)}}}function Qs(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var n=0;n<t.length;n+=1)To(t[n])}}function ea(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;rt(n,t),n=r}}function Yu(e){for(var t=e.first;t!==null;){var n=t.next;t.f&$e||rt(t),t=n}}function rt(e,t=!0){var n=!1;if((t||e.f&yu)&&e.nodes_start!==null){for(var r=e.nodes_start,o=e.nodes_end;r!==null;){var i=r===o?null:gr(r);r.remove(),r=i}n=!0}ea(e,t&&!n),Qs(e),_n(e,0),We(e,Yt);var s=e.transitions;if(s!==null)for(const c of s)c.stop();Zs(e);var l=e.parent;l!==null&&l.first!==null&&ta(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function ta(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Qn(e,t){var n=[];Oo(e,n,!0),na(n,()=>{rt(e),t&&t()})}function na(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var o of e)o.out(r)}else t()}function Oo(e,t,n){if(!(e.f&Ge)){if(e.f^=Ge,e.transitions!==null)for(const s of e.transitions)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var o=r.next,i=(r.f&_o)!==0||(r.f&$e)!==0;Oo(r,t,i?n:!1),r=o}}}function er(e){ra(e,!0)}function ra(e,t){if(e.f&Ge){Rn(e)&&wr(e),e.f^=Ge;for(var n=e.first;n!==null;){var r=n.next,o=(n.f&_o)!==0||(n.f&$e)!==0;ra(n,o?t:!1),n=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let eo=!1,to=[];function Ju(){eo=!1;const e=to.slice();to=[],Zr(e)}function oa(e){eo||(eo=!0,queueMicrotask(Ju)),to.push(e)}function vi(){throw new Error("https://svelte.dev/e/invalid_default_snippet")}function Xu(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Kn=!1,tr=!1,nr=null,It=!1,Co=!1;function yi(e){It=e}function wi(e){Co=e}let no=[],pn=0;let K=null;function mt(e){K=e}let I=null;function Ke(e){I=e}let kt=null,pe=null,Ae=0,pt=null;function Zu(e){pt=e}let ia=1,_t=!1,ut=null,te=null;function sa(){return++ia}function vr(){return!Cn||te!==null&&te.l===null}function Rn(e){var s,l;var t=e.f;if(t&gt)return!0;if(t&On){var n=e.deps,r=(t&Ct)!==0;if(n!==null){var o;if(t&Zn){for(o=0;o<n.length;o++)((s=n[o]).reactions??(s.reactions=[])).push(e);e.f^=Zn}for(o=0;o<n.length;o++){var i=n[o];if(Rn(i)&&Js(i),r&&I!==null&&!_t&&!((l=i==null?void 0:i.reactions)!=null&&l.includes(e))&&(i.reactions??(i.reactions=[])).push(e),i.version>e.version)return!0}}(!r||I!==null&&!_t)&&We(e,Te)}return!1}function Qu(e,t){for(var n=t;n!==null;){if(n.f&Qr)try{n.fn(e);return}catch{n.f^=Qr}n=n.parent}throw Kn=!1,e}function ef(e){return(e.f&Yt)===0&&(e.parent===null||(e.parent.f&Qr)===0)}function yr(e,t,n,r){if(Kn){if(n===null&&(Kn=!1),ef(t))throw e;return}n!==null&&(Kn=!0);{Qu(e,t);return}}function aa(e){var g;var t=pe,n=Ae,r=pt,o=K,i=_t,s=kt,l=te,c=e.f;pe=null,Ae=0,pt=null,K=c&($e|An)?null:e,_t=!It&&(c&Ct)!==0,kt=null,te=e.ctx;try{var a=(0,e.fn)(),u=e.deps;if(pe!==null){var d;if(_n(e,Ae),u!==null&&Ae>0)for(u.length=Ae+pe.length,d=0;d<pe.length;d++)u[Ae+d]=pe[d];else e.deps=u=pe;if(!_t)for(d=Ae;d<u.length;d++)((g=u[d]).reactions??(g.reactions=[])).push(e)}else u!==null&&Ae<u.length&&(_n(e,Ae),u.length=Ae);return a}finally{pe=t,Ae=n,pt=r,K=o,_t=i,kt=s,te=l}}function tf(e,t){let n=t.reactions;if(n!==null){var r=n.indexOf(e);if(r!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[r]=n[o],n.pop())}}n===null&&t.f&Ie&&(pe===null||!pe.includes(t))&&(We(t,On),t.f&(Ct|Zn)||(t.f^=Zn),_n(t,0))}function _n(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)tf(e,n[r])}function wr(e){var t=e.f;if(!(t&Yt)){We(e,Te);var n=I,r=te;I=e;try{t&wo?Yu(e):ea(e),Qs(e),Zs(e);var o=aa(e);e.teardown=typeof o=="function"?o:null,e.version=ia}catch(i){yr(i,e,n,r||e.ctx)}finally{I=n}}}function nf(){if(pn>1e3){pn=0;try{xu()}catch(e){if(nr!==null)yr(e,nr,null);else throw e}}pn++}function rf(e){var t=e.length;if(t!==0){nf();var n=It;It=!0;try{for(var r=0;r<t;r++){var o=e[r];o.f&Te||(o.f^=Te);var i=[];la(o,i),of(i)}}finally{It=n}}}function of(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if(!(r.f&(Yt|Ge)))try{Rn(r)&&(wr(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?ta(r):r.fn=null))}catch(o){yr(o,r,null,r.ctx)}}}function sf(){if(tr=!1,pn>1001)return;const e=no;no=[],rf(e),tr||(pn=0,nr=null)}function _r(e){tr||(tr=!0,queueMicrotask(sf)),nr=e;for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(An|$e)){if(!(n&Te))return;t.f^=Te}}no.push(t)}function la(e,t){var n=e.first,r=[];e:for(;n!==null;){var o=n.f,i=(o&$e)!==0,s=i&&(o&Te)!==0,l=n.next;if(!s&&!(o&Ge))if(o&Tn){if(i)n.f^=Te;else try{Rn(n)&&wr(n)}catch(d){yr(d,n,null,n.ctx)}var c=n.first;if(c!==null){n=c;continue}}else o&js&&r.push(n);if(l===null){let d=n.parent;for(;d!==null;){if(e===d)break e;var a=d.next;if(a!==null){n=a;continue e}d=d.parent}}n=l}for(var u=0;u<r.length;u++)c=r[u],t.push(c),la(c,t)}function O(e){var u;var t=e.f,n=(t&Ie)!==0;if(n&&t&Yt){var r=Ys(e);return To(e),r}if(ut!==null&&ut.add(e),K!==null){kt!==null&&kt.includes(e)&&Cu();var o=K.deps;pe===null&&o!==null&&o[Ae]===e?Ae++:pe===null?pe=[e]:pe.push(e),pt!==null&&I!==null&&I.f&Te&&!(I.f&$e)&&pt.includes(e)&&(We(I,gt),_r(I))}else if(n&&e.deps===null)for(var i=e,s=i.parent,l=i;s!==null;)if(s.f&Ie){var c=s;l=c,s=c.parent}else{var a=s;(u=a.deriveds)!=null&&u.includes(l)||(a.deriveds??(a.deriveds=[])).push(l);break}return n&&(i=e,Rn(i)&&Js(i)),e.v}function af(e){var t=ut;ut=new Set;var n=ut,r;try{if(Tt(e),t!==null)for(r of ut)t.add(r)}finally{ut=t}return n}function lf(e){var t=af(()=>Tt(e));for(var n of t)if(n.f&qs)for(const r of n.deps||[])r.f&Ie||yn(r,r.v);else yn(n,n.v)}function Tt(e){const t=K;try{return K=null,e()}finally{K=t}}const cf=~(gt|On|Te);function We(e,t){e.f=e.f&cf|t}function Rt(e,t=!1,n){te={p:te,c:null,e:null,m:!1,s:e,x:null,l:null},Cn&&!t&&(te.l={s:null,u:null,r1:[],r2:Be(!1)})}function Nt(e){const t=te;if(t!==null){const s=t.e;if(s!==null){var n=I,r=K;t.e=null;try{for(var o=0;o<s.length;o++){var i=s[o];Ke(i.effect),mt(i.reaction),mr(i.fn)}}finally{Ke(n),mt(r)}}te=t.p,t.m=!0}return{}}function uf(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(nt in e)ro(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&nt in n&&ro(n)}}}function ro(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ro(e[r],t)}catch{}const n=yo(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ms(n);for(let o in r){const i=r[o].get;if(i)try{i.call(e)}catch{}}}}}const ff=["touchstart","touchmove"];function df(e){return ff.includes(e)}let _i=!1;function hf(){_i||(_i=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function ca(e){var t=K,n=I;mt(null),Ke(null);try{return e()}finally{mt(t),Ke(n)}}function Ro(e,t,n,r=n){e.addEventListener(t,()=>ca(n));const o=e.__on_r;o?e.__on_r=()=>{o(),r(!0)}:e.__on_r=()=>r(!0),hf()}const pf=new Set,Si=new Set;function gf(e,t,n,r){function o(i){if(r.capture||un.call(t,i),!i.cancelBubble)return ca(()=>n.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?oa(()=>{t.addEventListener(e,o,r)}):t.addEventListener(e,o,r),o}function Le(e,t,n,r,o){var i={capture:r,passive:o},s=gf(e,t,n,i);(t===document.body||t===window||t===document)&&Gu(()=>{t.removeEventListener(e,s,i)})}function un(e){var v;var t=this,n=t.ownerDocument,r=e.type,o=((v=e.composedPath)==null?void 0:v.call(e))||[],i=o[0]||e.target,s=0,l=e.__root;if(l){var c=o.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var a=o.indexOf(t);if(a===-1)return;c<=a&&(s=c)}if(i=o[s]||e.target,i!==t){pu(e,"currentTarget",{configurable:!0,get(){return i||n}});var u=K,d=I;mt(null),Ke(null);try{for(var g,f=[];i!==null;){var b=i.assignedSlot||i.parentNode||i.host||null;try{var p=i["__"+r];if(p!==void 0&&!i.disabled)if(hr(p)){var[A,...y]=p;A.apply(i,[e,...y])}else p.call(i,e)}catch(T){g?f.push(T):g=T}if(e.cancelBubble||b===t||b===null)break;i=b}if(g){for(let T of f)queueMicrotask(()=>{throw T});throw g}}finally{e.__root=t,delete e.currentTarget,mt(u),Ke(d)}}}function No(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function zt(e,t){var n=I;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function z(e,t){var n=(t&qu)!==0,r=(t&Iu)!==0,o,i=!e.startsWith("<!>");return()=>{o===void 0&&(o=No(i?e:"<!>"+e),n||(o=xt(o)));var s=r?document.importNode(o,!0):o.cloneNode(!0);if(n){var l=xt(s),c=s.lastChild;zt(l,c)}else zt(s,s);return s}}function ua(e,t,n="svg"){var r=!e.startsWith("<!>"),o=`<${n}>${r?e:"<!>"+e}</${n}>`,i;return()=>{if(!i){var s=No(o),l=xt(s);i=xt(l)}var c=i.cloneNode(!0);return zt(c,c),c}}function Po(e=""){{var t=pr(e+"");return zt(t,t),t}}function Ce(){var e=document.createDocumentFragment(),t=document.createComment(""),n=pr();return e.append(t,n),zt(t,n),e}function P(e,t){e!==null&&e.before(t)}function oo(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n==null?"":n+"")}function mf(e,t){return bf(e,t)}const Dt=new Map;function bf(e,{target:t,anchor:n,props:r={},events:o,context:i,intro:s=!0}){$u();var l=new Set,c=d=>{for(var g=0;g<d.length;g++){var f=d[g];if(!l.has(f)){l.add(f);var b=df(f);t.addEventListener(f,un,{passive:b});var p=Dt.get(f);p===void 0?(document.addEventListener(f,un,{passive:b}),Dt.set(f,1)):Dt.set(f,p+1)}}};c(vo(pf)),Si.add(c);var a=void 0,u=Wu(()=>{var d=n??t.appendChild(pr());return Ht(()=>{if(i){Rt({});var g=te;g.c=i}o&&(r.$$events=o),a=e(d,r)||{},i&&Nt()}),()=>{var b;for(var g of l){t.removeEventListener(g,un);var f=Dt.get(g);--f===0?(document.removeEventListener(g,un),Dt.delete(g)):Dt.set(g,f)}Si.delete(c),d!==n&&((b=d.parentNode)==null||b.removeChild(d))}});return vf.set(a,u),a}let vf=new WeakMap;function ae(e,t,n=!1){var r=e,o=null,i=null,s=_e,l=n?_o:0,c=!1;const a=(d,g=!0)=>{c=!0,u(g,d)},u=(d,g)=>{s!==(s=d)&&(s?(o?er(o):g&&(o=Ht(()=>g(r))),i&&Qn(i,()=>{i=null})):(i?er(i):g&&(i=Ht(()=>g(r))),o&&Qn(o,()=>{o=null})))};br(()=>{c=!1,t(a),c||u(null,null)},l)}function yf(e,t){return t}function wf(e,t,n,r){for(var o=[],i=t.length,s=0;s<i;s++)Oo(t[s].e,o,!0);var l=i>0&&o.length===0&&n!==null;if(l){var c=n.parentNode;Hu(c),c.append(n),r.clear(),ct(e,t[0].prev,t[i-1].next)}na(o,()=>{for(var a=0;a<i;a++){var u=t[a];l||(r.delete(u.k),ct(e,u.prev,u.next)),rt(u.e,!l)}})}function Sr(e,t,n,r,o,i=null){var s=e,l={flags:t,items:new Map,first:null},c=(t&Hs)!==0;if(c){var a=e;s=a.appendChild(pr())}var u=null,d=!1;br(()=>{var g=n(),f=hr(g)?g:g==null?[]:vo(g),b=f.length;if(!(d&&b===0)){d=b===0;{var p=K;_f(f,l,s,o,t,(p.f&Ge)!==0,r)}i!==null&&(b===0?u?er(u):u=Ht(()=>i(s)):u!==null&&Qn(u,()=>{u=null})),n()}})}function _f(e,t,n,r,o,i,s,l){var G,me,ie,le;var c=(o&Pu)!==0,a=(o&(ko|Eo))!==0,u=e.length,d=t.items,g=t.first,f=g,b,p=null,A,y=[],v=[],T,C,x,N;if(c)for(N=0;N<u;N+=1)T=e[N],C=s(T,N),x=d.get(C),x!==void 0&&((G=x.a)==null||G.measure(),(A??(A=new Set)).add(x));for(N=0;N<u;N+=1){if(T=e[N],C=s(T,N),x=d.get(C),x===void 0){var re=f?f.e.nodes_start:n;p=kf(re,t,p,p===null?t.first:p.next,T,C,N,r,o),d.set(C,p),y=[],v=[],f=p.next;continue}if(a&&Sf(x,T,N,o),x.e.f&Ge&&(er(x.e),c&&((me=x.a)==null||me.unfix(),(A??(A=new Set)).delete(x))),x!==f){if(b!==void 0&&b.has(x)){if(y.length<v.length){var L=v[0],U;p=L.prev;var ee=y[0],Q=y[y.length-1];for(U=0;U<y.length;U+=1)ki(y[U],L,n);for(U=0;U<v.length;U+=1)b.delete(v[U]);ct(t,ee.prev,Q.next),ct(t,p,ee),ct(t,Q,L),f=L,p=Q,N-=1,y=[],v=[]}else b.delete(x),ki(x,f,n),ct(t,x.prev,x.next),ct(t,x,p===null?t.first:p.next),ct(t,p,x),p=x;continue}for(y=[],v=[];f!==null&&f.k!==C;)(i||!(f.e.f&Ge))&&(b??(b=new Set)).add(f),v.push(f),f=f.next;if(f===null)continue;x=f}y.push(x),p=x,f=x.next}if(f!==null||b!==void 0){for(var ge=b===void 0?[]:vo(b);f!==null;)(i||!(f.e.f&Ge))&&ge.push(f),f=f.next;var Me=ge.length;if(Me>0){var Pe=o&Hs&&u===0?n:null;if(c){for(N=0;N<Me;N+=1)(ie=ge[N].a)==null||ie.measure();for(N=0;N<Me;N+=1)(le=ge[N].a)==null||le.fix()}wf(t,ge,Pe,d)}}c&&oa(()=>{var W;if(A!==void 0)for(x of A)(W=x.a)==null||W.apply()}),I.first=t.first&&t.first.e,I.last=p&&p.e}function Sf(e,t,n,r){r&ko&&yn(e.v,t),r&Eo?yn(e.i,n):e.i=n}function kf(e,t,n,r,o,i,s,l,c,a){var u=(c&ko)!==0,d=(c&Du)===0,g=u?d?zs(o):Be(o):o,f=c&Eo?Be(s):s,b={i:f,v:g,k:i,a:null,e:null,prev:n,next:r};try{return b.e=Ht(()=>l(e,g,f),xo),b.e.prev=n&&n.e,b.e.next=r&&r.e,n===null?t.first=b:(n.next=b,n.e.next=b.e),r!==null&&(r.prev=b,r.e.prev=b.e),b}finally{}}function ki(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==r;){var s=gr(i);o.before(i),i=s}}function ct(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function At(e,t,n,r,o){var i=e,s="",l;br(()=>{s!==(s=t()??"")&&(l!==void 0&&(rt(l),l=void 0),s!==""&&(l=Ht(()=>{var c=s+"",a=No(c);zt(xt(a),a.lastChild),i.before(a)})))})}function Ze(e,t,n,r,o){var l;var i=(l=t.$$slots)==null?void 0:l[n],s=!1;i===!0&&(i=t[n==="default"?"children":n],s=!0),i===void 0?o!==null&&o(e):i(e,s?()=>r:r)}function Ef(e){const t={};e.children&&(t.default=!0);for(const n in e.$$slots)t[n]=!0;return t}function fa(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=fa(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xf(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=fa(e))&&(r&&(r+=" "),r+=t);return r}function Do(e){return typeof e=="object"?xf(e):e??""}function Y(e,t,n,r){var o=e.__attributes??(e.__attributes={});o[t]!==(o[t]=n)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[wu]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Tf(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function da(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}var Ei=new Map;function Tf(e){var t=Ei.get(e.nodeName);if(t)return t;Ei.set(e.nodeName,t=[]);for(var n,r=e,o=Element.prototype;o!==r;){n=Ms(r);for(var i in n)n[i].set&&t.push(i);r=yo(r)}return t}function ha(e,t,n){var r=e.__className,o=pa(t);(r!==o||xo)&&(o===""?e.removeAttribute("class"):e.setAttribute("class",o),e.__className=o)}function Af(e,t,n){var r=e.__className,o=pa(t);(r!==o||xo)&&(t==null&&!n?e.removeAttribute("class"):e.className=o,e.__className=o)}function pa(e,t){return(e??"")+""}function M(e,t,n){if(n){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function rr(e,t,n,r){var o=e.__styles??(e.__styles={});o[t]!==n&&(o[t]=n,n==null?e.style.removeProperty(t):e.style.setProperty(t,n,""))}function fn(e,t,n=t){var r=vr();Ro(e,"input",o=>{var i=o?e.defaultValue:e.value;if(i=Dr(e)?Br(i):i,n(i),r&&i!==(i=t())){var s=e.selectionStart,l=e.selectionEnd;e.value=i??"",l!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(l,e.value.length))}}),Tt(t)==null&&e.value&&n(Dr(e)?Br(e.value):e.value),Ao(()=>{var o=t();Dr(e)&&o===Br(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function Of(e,t,n=t){Ro(e,"change",r=>{var o=r?e.defaultChecked:e.checked;n(o)}),Tt(t)==null&&n(e.checked),Ao(()=>{var r=t();e.checked=!!r})}function Dr(e){var t=e.type;return t==="number"||t==="range"}function Br(e){return e===""?null:+e}function ga(e,t,n){if(e.multiple)return Nf(e,t);for(var r of e.options){var o=gn(r);if(Uu(o,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Cf(e,t){mr(()=>{var n=new MutationObserver(()=>{var r=e.__value;ga(e,r)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function Rf(e,t,n=t){var r=!0;Ro(e,"change",o=>{var i=o?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(i),gn);else{var l=e.querySelector(i)??e.querySelector("option:not([disabled])");s=l&&gn(l)}n(s)}),mr(()=>{var o=t();if(ga(e,o,r),r&&o===void 0){var i=e.querySelector(":checked");i!==null&&(o=gn(i),n(o))}e.__value=o,r=!1}),Cf(e)}function Nf(e,t){for(var n of e.options)n.selected=~t.indexOf(gn(n))}function gn(e){return"__value"in e?e.__value:e.value}function Nn(e=!1){const t=te,n=t.l.u;if(!n)return;let r=()=>uf(t.s);if(e){let o=0,i={};const s=de(()=>{let l=!1;const c=t.s;for(const a in c)c[a]!==i[a]&&(i[a]=c[a],l=!0);return l&&o++,o});r=()=>O(s)}n.b.length&&Ku(()=>{xi(t,r),Zr(n.b)}),bi(()=>{const o=Tt(()=>n.m.map(bu));return()=>{for(const i of o)typeof i=="function"&&i()}}),n.a.length&&bi(()=>{xi(t,r),Zr(n.a)})}function xi(e,t){if(e.l.s)for(const n of e.l.s)O(n);t()}let qn=!1;function Pf(e){var t=qn;try{return qn=!1,[e(),qn]}finally{qn=t}}const Df={get(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Qt(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r)return r[t]}},set(e,t,n){let r=e.props.length;for(;r--;){let o=e.props[r];Qt(o)&&(o=o());const i=ht(o,t);if(i&&i.set)return i.set(n),!0}return!1},getOwnPropertyDescriptor(e,t){let n=e.props.length;for(;n--;){let r=e.props[n];if(Qt(r)&&(r=r()),typeof r=="object"&&r!==null&&t in r){const o=ht(r,t);return o&&!o.configurable&&(o.configurable=!0),o}}},has(e,t){if(t===nt||t===Us)return!1;for(let n of e.props)if(Qt(n)&&(n=n()),n!=null&&t in n)return!0;return!1},ownKeys(e){const t=[];for(let n of e.props){Qt(n)&&(n=n());for(const r in n)t.includes(r)||t.push(r)}return t}};function Bf(...e){return new Proxy({props:e},Df)}function Ti(e){for(var t=I,n=I;t!==null&&!(t.f&($e|An));)t=t.parent;try{return Ke(t),e()}finally{Ke(n)}}function R(e,t,n,r){var re;var o=(n&Bu)!==0,i=!Cn||(n&Lu)!==0,s=(n&Mu)!==0,l=(n&ju)!==0,c=!1,a;s?[a,c]=Pf(()=>e[t]):a=e[t];var u=nt in e||Us in e,d=((re=ht(e,t))==null?void 0:re.set)??(u&&s&&t in e?L=>e[t]=L:void 0),g=r,f=!0,b=!1,p=()=>(b=!0,f&&(f=!1,l?g=Tt(r):g=r),g);a===void 0&&r!==void 0&&(d&&i&&Tu(),a=p(),d&&d(a));var A;if(i)A=()=>{var L=e[t];return L===void 0?p():(f=!0,b=!1,L)};else{var y=Ti(()=>(o?de:wn)(()=>e[t]));y.f|=qs,A=()=>{var L=O(y);return L!==void 0&&(g=void 0),L===void 0?g:L}}if(!(n&Fu))return A;if(d){var v=e.$$legacy;return function(L,U){return arguments.length>0?((!i||!U||v||c)&&d(U?A():L),L):A()}}var T=!1,C=!1,x=zs(a),N=Ti(()=>de(()=>{var L=A(),U=O(x);return T?(T=!1,C=!0,U):(C=!1,x.v=L)}));return o||(N.equals=So),function(L,U){if(ut!==null&&(T=C,A(),O(x)),arguments.length>0){const ee=U?O(N):i&&s?jt(L):L;return N.equals(ee)||(T=!0,Je(x,ee),b&&g!==void 0&&(g=ee),Tt(()=>O(N))),L}return O(N)}}function Lf(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Bo(){const e=te;return e===null&&Xu(),(t,n,r)=>{var i;const o=(i=e.s.$$events)==null?void 0:i[t];if(o){const s=hr(o)?o.slice():[o],l=Lf(t,n,r);for(const c of s)c.call(e.x,l);return!l.defaultPrevented}return!0}}const Ff="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ff);Nu();const Mf={id:/^\d{14}-[0-9a-z]{7}$/,url:/^siyuan:\/\/blocks\/(\d{14}-[0-9a-z]{7})/,snippet:/^\d{14}-[0-9a-z]{7}$/,created:/^\d{10}$/,history:/[/\\]history[/\\]\d{4}-\d{2}-\d{2}-\d{6}-(clean|update|delete|format|sync|replace)([/\\]\d{14}-[0-9a-z]{7})+\.sy$/,snapshot:/^[0-9a-f]{40}$/,shorthand:/^\d{13}$/};var jf=ua("<svg><use></use></svg>");function or(e,t){Rt(t,!1);let n=R(t,"icon",8),r=R(t,"id",8,""),o=R(t,"className",8,""),i=R(t,"style",8,"");Nn();var s=jf();const l=wn(()=>Mf.id.test(r()));var c=H(s);oe(()=>{Y(s,"style",i()),ha(s,Do(o())),Y(s,"data-id",r()),M(s,"popover__block",O(l)),da(c,"xlink:href",n())}),P(e,s),Nt()}var qf=ua("<svg><use></use></svg>");function If(e,t){let n=R(t,"open",8,!1),r=R(t,"icon",8,"#iconRight"),o=R(t,"style",8,null),i=R(t,"className",8,"b3-list-item__arrow");var s=qf(),l=H(s);oe(()=>{Y(s,"style",o()),ha(s,Do(i())),M(s,"b3-list-item__arrow--open",n()),da(l,"xlink:href",r())}),P(e,s)}var Uf=z('<span class="b3-list-item__graphic"> </span>'),$f=z('<img class="b3-list-item__graphic" alt="icon">'),Hf=z('<span class="b3-list-item__meta"><!></span>'),zf=z('<li class="b3-list-item svelte-cyyh2i"><span class="b3-list-item__toggle svelte-cyyh2i"><!></span> <!> <span class="b3-list-item__text"><!></span> <!></li> <!>',1);function Vf(e,t){Rt(t,!1);let n=R(t,"text",8),r=R(t,"icon",8,""),o=R(t,"src",8,""),i=R(t,"meta",8,""),s=R(t,"style",8,""),l=R(t,"narrow",8,!1),c=R(t,"border",8,!1),a=R(t,"fold",12,!0),u=R(t,"children",24,()=>[]),d=R(t,"indent",8,"");function g(){a(!a())}Nn();var f=zf(),b=se(f),p=H(b),A=H(p),y=wn(()=>!a());If(A,{get open(){return O(y)}});var v=F(p,2);{var T=Q=>{or(Q,{className:"b3-list-item__graphic",get icon(){return r()}})},C=Q=>{var ge=Ce(),Me=se(ge);{var Pe=me=>{var ie=Uf(),le=H(ie);oe(()=>oo(le,r())),P(me,ie)},G=me=>{var ie=Ce(),le=se(ie);{var W=V=>{var ce=$f();oe(()=>Y(ce,"src",o())),P(V,ce)};ae(le,V=>{o()&&V(W)},!0)}P(me,ie)};ae(Me,me=>{r()?me(Pe):me(G,!1)},!0)}P(Q,ge)};ae(v,Q=>{r().startsWith("#")?Q(T):Q(C,!1)})}var x=F(v,2),N=H(x);At(N,n);var re=F(x,2);{var L=Q=>{var ge=Hf(),Me=H(ge);At(Me,i),P(Q,ge)};ae(re,Q=>{i()&&Q(L)})}var U=F(b,2);{var ee=Q=>{io(Q,{get border(){return c()},flex_1:!1,get fn__none(){return a()},get indent(){return d()},get items(){return u()}})};ae(U,Q=>{u().length>0&&Q(ee)})}oe(()=>{M(b,"b3-list-item--narrow",l()),M(b,"toggle",u().length>0),M(p,"hidden",u().length===0),Y(x,"style",s())}),Le("click",b,g),P(e,f),Nt()}var Gf=z("<ul></ul>");function io(e,t){let n=R(t,"items",24,()=>[]),r=R(t,"className",8,"b3-list b3-list--background"),o=R(t,"border",8,!1),i=R(t,"fn__none",8,!1),s=R(t,"flex_1",8,!0),l=R(t,"width",8,0),c=R(t,"indent",8,"");var a=Gf();Sr(a,5,n,yf,(u,d)=>{Vf(u,Bf(()=>O(d)))}),oe(()=>{Af(a,Do(r()),""),M(a,"b3-list--border",o()),M(a,"fn__flex-1",s()),M(a,"fn__none",i()),rr(a,"margin-left",c()),rr(a,"width",l()>0?`${l()}px`:void 0)}),P(e,a)}function Kf(){switch(ze.getFrontend()){case"desktop":case"desktop-window":case"browser-desktop":return!0;case"mobile":case"browser-mobile":return!1;default:return!1}}function Wf(){switch(ze.getFrontend()){case"mobile":case"browser-mobile":return!0;case"desktop":case"desktop-window":case"browser-desktop":return!1;default:return!1}}function Yf(){switch(ze.getFrontend()){case"browser-desktop":case"browser-mobile":return!0;case"desktop":case"desktop-window":case"mobile":return!1;default:return!1}}Kf();Yf();const Ai=Wf();function Jf(e){const t={families:[],map:new Map};return e.forEach(n=>{const r=t.map.get(n.family);r?r.push(n):(t.families.push(n.family),t.map.set(n.family,[n]))}),t}var Oi={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},en=" ",Ci=/(italic|oblique)$/i,Ri={};function Xf(e,t,n){var r=Ri[e];if(!r){Array.isArray(e)||(e=[e]);for(var o=400,i="normal",s=[],l,c,a=0,u=e.length;a<u;++a){var d=e[a],g=d.split(" "),f=g[g.length-1].toLowerCase();f=="normal"||f=="italic"||f=="oblique"?(i=c?i:f,c=!0,g.pop(),f=g[g.length-1].toLowerCase()):Ci.test(f)&&(f=f.replace(Ci,""),i=c?i:g[g.length-1].replace(f,""),c=!0);for(var b in Oi){var p=g.length>1?g[g.length-2].toLowerCase():"";if(f==b||f==b.replace("-","")||p+"-"+f==b){o=l?o:Oi[b],g.pop(),p&&b.startsWith(p)&&g.pop();break}}!l&&typeof f=="number"&&(o=f,l=!0);var A=g.join(en).replace("Klokantech Noto Sans","Noto Sans");A.indexOf(en)!==-1&&(A='"'+A+'"'),s.push(A)}r=Ri[e]=[i,o,s]}return r[0]+en+r[1]+en+t+"px"+en+r[2]}function Zf(e,t=16){return Xf(`${e.family} ${e.style}`,t)}var Qf="2.0.0",Vt="",Ni="?",ir="function",dt="undefined",Gt="object",so="string",Sn="major",k="model",_="name",w="type",E="vendor",S="version",Se="architecture",qt="console",B="mobile",Z="tablet",he="smarttv",dn="wearable",Lr="xr",ao="embedded",tn="inapp",Pi="user-agent",lo=500,Lo="brands",yt="formFactors",Fo="fullVersionList",Ut="platform",Mo="platformVersion",kr="bitness",bt="sec-ch-ua",ed=bt+"-full-version-list",td=bt+"-arch",nd=bt+"-"+kr,rd=bt+"-form-factors",od=bt+"-"+B,id=bt+"-"+k,ma=bt+"-"+Ut,sd=ma+"-version",ba=[Lo,Fo,B,k,Ut,Mo,Se,yt,kr],Re="browser",Xe="cpu",Ve="device",Qe="engine",Fe="os",$t="result",In="Amazon",nn="Apple",Di="ASUS",Bi="BlackBerry",vt="Google",Li="Huawei",Fi="Lenovo",ad="Honor",Fr="LG",Wn="Microsoft",Mi="Motorola",rn="Samsung",ji="Sharp",Un="Sony",Mr="Xiaomi",jr="Zebra",Bt="Mobile ",on=" Browser",qi="Chrome",lt="Chromecast",ld="Edge",sn="Firefox",an="Opera",Ii="Facebook",Ui="Sogou",co="Windows",cd=typeof window!==dt,ke=cd&&window.navigator?window.navigator:void 0,ft=ke&&ke.userAgentData?ke.userAgentData:void 0,ud=function(e,t){var n={},r=t;if(!sr(t)){r={};for(var o in t)for(var i in t[o])r[i]=t[o][i].concat(r[i]?r[i]:[])}for(var s in e)n[s]=r[s]&&r[s].length%2===0?r[s].concat(e[s]):e[s];return n},Er=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},uo=function(e,t){if(typeof e===Gt&&e.length>0){for(var n in e)if(et(e[n])==et(t))return!0;return!1}return Xt(e)?et(t).indexOf(et(e))!==-1:!1},sr=function(e,t){for(var n in e)return/^(browser|cpu|device|engine|os)$/.test(n)||(t?sr(e[n]):!1)},Xt=function(e){return typeof e===so},qr=function(e){if(e){for(var t=[],n=Ot(/\\?\"/g,e).split(","),r=0;r<n.length;r++)if(n[r].indexOf(";")>-1){var o=kn(n[r]).split(";v=");t[r]={brand:o[0],version:o[1]}}else t[r]=kn(n[r]);return t}},et=function(e){return Xt(e)?e.toLowerCase():e},Ir=function(e){return Xt(e)?Ot(/[^\d\.]/g,e).split(".")[0]:void 0},tt=function(e){for(var t in e){var n=e[t];typeof n==Gt&&n.length==2?this[n[0]]=n[1]:this[n]=void 0}return this},Ot=function(e,t){return Xt(t)?t.replace(e,Vt):t},ln=function(e){return Ot(/\\?\"/g,e)},kn=function(e,t){if(Xt(e))return e=Ot(/^\s\s*/,e),typeof t===dt?e:e.substring(0,lo)},$i=function(e,t){if(!(!e||!t))for(var n=0,r,o,i,s,l,c;n<t.length&&!l;){var a=t[n],u=t[n+1];for(r=o=0;r<a.length&&!l&&a[r];)if(l=a[r++].exec(e),l)for(i=0;i<u.length;i++)c=l[++o],s=u[i],typeof s===Gt&&s.length>0?s.length===2?typeof s[1]==ir?this[s[0]]=s[1].call(this,c):this[s[0]]=s[1]:s.length===3?typeof s[1]===ir&&!(s[1].exec&&s[1].test)?this[s[0]]=c?s[1].call(this,c,s[2]):void 0:this[s[0]]=c?c.replace(s[1],s[2]):void 0:s.length===4&&(this[s[0]]=c?s[3].call(this,c.replace(s[1],s[2])):void 0):this[s]=c||void 0;n+=2}},mn=function(e,t){for(var n in t)if(typeof t[n]===Gt&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(uo(t[n][r],e))return n===Ni?void 0:n}else if(uo(t[n],e))return n===Ni?void 0:n;return t.hasOwnProperty("*")?t["*"]:e},Hi={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},zi={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},Vi={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[S,[_,Bt+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[S,[_,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[_,S],[/opios[\/ ]+([\w\.]+)/i],[S,[_,an+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[S,[_,an+" GX"]],[/\bopr\/([\w\.]+)/i],[S,[_,an]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[S,[_,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[S,[_,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[_,S],[/quark(?:pc)?\/([-\w\.]+)/i],[S,[_,"Quark"]],[/\bddg\/([\w\.]+)/i],[S,[_,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[S,[_,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[S,[_,"WeChat"]],[/konqueror\/([\w\.]+)/i],[S,[_,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[S,[_,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[S,[_,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[S,[_,"Smart "+Fi+on]],[/(avast|avg)\/([\w\.]+)/i],[[_,/(.+)/,"$1 Secure"+on],S],[/\bfocus\/([\w\.]+)/i],[S,[_,sn+" Focus"]],[/\bopt\/([\w\.]+)/i],[S,[_,an+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[S,[_,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[S,[_,"Dolphin"]],[/coast\/([\w\.]+)/i],[S,[_,an+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[S,[_,"MIUI"+on]],[/fxios\/([\w\.-]+)/i],[S,[_,Bt+sn]],[/\bqihoobrowser\/?([\w\.]*)/i],[S,[_,"360"]],[/\b(qq)\/([\w\.]+)/i],[[_,/(.+)/,"$1Browser"],S],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[_,/(.+)/,"$1"+on],S],[/samsungbrowser\/([\w\.]+)/i],[S,[_,rn+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[S,[_,Ui+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[_,Ui+" Mobile"],S],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[_,S],[/(lbbrowser|rekonq)/i],[_],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[S,_],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[_,Ii],S,[w,tn]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[_,S,[w,tn]],[/\bgsa\/([\w\.]+) .*safari\//i],[S,[_,"GSA"],[w,tn]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[S,[_,"TikTok"],[w,tn]],[/\[(linkedin)app\]/i],[_,[w,tn]],[/(chromium)[\/ ]([-\w\.]+)/i],[_,S],[/headlesschrome(?:\/([\w\.]+)| )/i],[S,[_,qi+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[_,qi+" WebView"],S],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[S,[_,"Android"+on]],[/chrome\/([\w\.]+) mobile/i],[S,[_,Bt+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[_,S],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[S,[_,Bt+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[_,Bt+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[S,_],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[_,[S,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[_,S],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[_,Bt+sn],S],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[_,"Netscape"],S],[/(wolvic|librewolf)\/([\w\.]+)/i],[_,S],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[S,[_,sn+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[_,[S,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[_,[S,/[^\d\.]+./,Vt]]],cpu:[[/\b(?:(amd|x|x86[-_]?|wow|win)64)\b/i],[[Se,"amd64"]],[/(ia32(?=;))/i,/((?:i[346]|x)86)[;\)]/i],[[Se,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Se,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Se,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Se,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Se,/ower/,Vt,et]],[/(sun4\w)[;\)]/i],[[Se,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Se,et]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[k,[E,rn],[w,Z]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[k,[E,rn],[w,B]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[k,[E,nn],[w,B]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[k,[E,nn],[w,Z]],[/(macintosh);/i],[k,[E,nn]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[k,[E,ji],[w,B]],[/(?:honor)([-\w ]+)[;\)]/i],[k,[E,ad],[w,B]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[k,[E,Li],[w,Z]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[k,[E,Li],[w,B]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[k,/_/g," "],[E,Mr],[w,B]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[k,/_/g," "],[E,Mr],[w,Z]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[k,[E,"OPPO"],[w,B]],[/\b(opd2\d{3}a?) bui/i],[k,[E,"OPPO"],[w,Z]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[k,[E,"Vivo"],[w,B]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[k,[E,"Realme"],[w,B]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[k,[E,Mi],[w,B]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[k,[E,Mi],[w,Z]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[k,[E,Fr],[w,Z]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[k,[E,Fr],[w,B]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[k,[E,Fi],[w,Z]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[k,/_/g," "],[E,"Nokia"],[w,B]],[/(pixel c)\b/i],[k,[E,vt],[w,Z]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[k,[E,vt],[w,B]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[k,[E,Un],[w,B]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[k,"Xperia Tablet"],[E,Un],[w,Z]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[k,[E,"OnePlus"],[w,B]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[k,[E,In],[w,Z]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[k,/(.+)/g,"Fire Phone $1"],[E,In],[w,B]],[/(playbook);[-\w\),; ]+(rim)/i],[k,E,[w,Z]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[k,[E,Bi],[w,B]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[k,[E,Di],[w,Z]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[k,[E,Di],[w,B]],[/(nexus 9)/i],[k,[E,"HTC"],[w,Z]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[E,[k,/_/g," "],[w,B]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[k,[E,"TCL"],[w,Z]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[k,[E,"TCL"],[w,B]],[/(itel) ((\w+))/i],[[E,et],k,[w,mn,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[k,[E,"Acer"],[w,Z]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[k,[E,"Meizu"],[w,B]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[k,[E,"Ulefone"],[w,B]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[k,[E,"Energizer"],[w,B]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[k,[E,"Cat"],[w,B]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[k,[E,"Smartfren"],[w,B]],[/droid.+; (a(?:015|06[35]|142p?))/i],[k,[E,"Nothing"],[w,B]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[E,k,[w,B]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[E,k,[w,Z]],[/(surface duo)/i],[k,[E,Wn],[w,Z]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[k,[E,"Fairphone"],[w,B]],[/(shield[\w ]+) b/i],[k,[E,"Nvidia"],[w,Z]],[/(sprint) (\w+)/i],[E,k,[w,B]],[/(kin\.[onetw]{3})/i],[[k,/\./g," "],[E,Wn],[w,B]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[k,[E,jr],[w,Z]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[k,[E,jr],[w,B]],[/smart-tv.+(samsung)/i],[E,[w,he]],[/hbbtv.+maple;(\d+)/i],[[k,/^/,"SmartTV"],[E,rn],[w,he]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[E,Fr],[w,he]],[/(apple) ?tv/i],[E,[k,nn+" TV"],[w,he]],[/crkey.*devicetype\/chromecast/i],[[k,lt+" Third Generation"],[E,vt],[w,he]],[/crkey.*devicetype\/([^/]*)/i],[[k,/^/,"Chromecast "],[E,vt],[w,he]],[/fuchsia.*crkey/i],[[k,lt+" Nest Hub"],[E,vt],[w,he]],[/crkey/i],[[k,lt],[E,vt],[w,he]],[/droid.+aft(\w+)( bui|\))/i],[k,[E,In],[w,he]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[k,[E,ji],[w,he]],[/(bravia[\w ]+)( bui|\))/i],[k,[E,Un],[w,he]],[/(mitv-\w{5}) bui/i],[k,[E,Mr],[w,he]],[/Hbbtv.*(technisat) (.*);/i],[E,k,[w,he]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[E,kn],[k,kn],[w,he]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[w,he]],[/(ouya)/i,/(nintendo) (\w+)/i],[E,k,[w,qt]],[/droid.+; (shield) bui/i],[k,[E,"Nvidia"],[w,qt]],[/(playstation \w+)/i],[k,[E,Un],[w,qt]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[k,[E,Wn],[w,qt]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[k,[E,rn],[w,dn]],[/((pebble))app/i],[E,k,[w,dn]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[k,[E,nn],[w,dn]],[/droid.+; (wt63?0{2,3})\)/i],[k,[E,jr],[w,dn]],[/droid.+; (glass) \d/i],[k,[E,vt],[w,Lr]],[/(pico) (4|neo3(?: link|pro)?)/i],[E,k,[w,Lr]],[/; (quest( \d| pro)?)/i],[k,[E,Ii],[w,Lr]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[E,[w,ao]],[/(aeobc)\b/i],[k,[E,In],[w,ao]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[k,[w,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[k,[w,Z]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[w,Z]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[w,B]],[/(android[-\w\. ]{0,9});.+buil/i],[k,[E,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[S,[_,ld+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[_,S],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[S,[_,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[_,S],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[S,_]],os:[[/microsoft (windows) (vista|xp)/i],[_,S],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[_,[S,mn,Hi]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[S,mn,Hi],[_,co]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[S,/_/g,"."],[_,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[_,"macOS"],[S,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[S,[_,lt+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[S,[_,lt+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[S,[_,lt+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[S,[_,lt+" Linux"]],[/crkey\/([\d\.]+)/i],[S,[_,lt]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[S,_],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[_,S],[/\(bb(10);/i],[S,[_,Bi]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[S,[_,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[S,[_,sn+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[S,[_,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[S,[_,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[_,"Chrome OS"],S],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[_,S],[/(sunos) ?([\w\.\d]*)/i],[[_,"Solaris"],S],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[_,S]]},$n=function(){var e={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return tt.call(e.init,[[Re,[_,S,Sn,w]],[Xe,[Se]],[Ve,[w,k,E]],[Qe,[_,S]],[Fe,[_,S]]]),tt.call(e.isIgnore,[[Re,[S,Sn]],[Qe,[S]],[Fe,[S]]]),tt.call(e.isIgnoreRgx,[[Re,/ ?browser$/i],[Fe,/ ?os$/i]]),tt.call(e.toString,[[Re,[_,S]],[Xe,[Se]],[Ve,[E,k]],[Qe,[_,S]],[Fe,[_,S]]]),e}(),fd=function(e,t){var n=$n.init[t],r=$n.isIgnore[t]||0,o=$n.isIgnoreRgx[t]||0,i=$n.toString[t]||0;function s(){tt.call(this,n)}return s.prototype.getItem=function(){return e},s.prototype.withClientHints=function(){return ft?ft.getHighEntropyValues(ba).then(function(l){return e.setCH(new va(l,!1)).parseCH().get()}):e.parseCH().get()},s.prototype.withFeatureCheck=function(){return e.detectFeature().get()},t!=$t&&(s.prototype.is=function(l){var c=!1;for(var a in this)if(this.hasOwnProperty(a)&&!uo(r,a)&&et(o?Ot(o,this[a]):this[a])==et(o?Ot(o,l):l)){if(c=!0,l!=dt)break}else if(l==dt&&c){c=!c;break}return c},s.prototype.toString=function(){var l=Vt;for(var c in i)typeof this[i[c]]!==dt&&(l+=(l?" ":Vt)+this[i[c]]);return l||dt}),ft||(s.prototype.then=function(l){var c=this,a=function(){for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d])};a.prototype={is:s.prototype.is,toString:s.prototype.toString};var u=new a;return l(u),u}),new s};function va(e,t){if(e=e||{},tt.call(this,ba),t)tt.call(this,[[Lo,qr(e[bt])],[Fo,qr(e[ed])],[B,/\?1/.test(e[od])],[k,ln(e[id])],[Ut,ln(e[ma])],[Mo,ln(e[sd])],[Se,ln(e[td])],[yt,qr(e[rd])],[kr,ln(e[nd])]]);else for(var n in e)this.hasOwnProperty(n)&&typeof e[n]!==dt&&(this[n]=e[n])}function Gi(e,t,n,r){return this.get=function(o){return o?this.data.hasOwnProperty(o)?this.data[o]:void 0:this.data},this.set=function(o,i){return this.data[o]=i,this},this.setCH=function(o){return this.uaCH=o,this},this.detectFeature=function(){if(ke&&ke.userAgent==this.ua)switch(this.itemType){case Re:ke.brave&&typeof ke.brave.isBrave==ir&&this.set(_,"Brave");break;case Ve:!this.get(w)&&ft&&ft[B]&&this.set(w,B),this.get(k)=="Macintosh"&&ke&&typeof ke.standalone!==dt&&ke.maxTouchPoints&&ke.maxTouchPoints>2&&this.set(k,"iPad").set(w,Z);break;case Fe:!this.get(_)&&ft&&ft[Ut]&&this.set(_,ft[Ut]);break;case $t:var o=this.data,i=function(s){return o[s].getItem().detectFeature().get()};this.set(Re,i(Re)).set(Xe,i(Xe)).set(Ve,i(Ve)).set(Qe,i(Qe)).set(Fe,i(Fe))}return this},this.parseUA=function(){return this.itemType!=$t&&$i.call(this.data,this.ua,this.rgxMap),this.itemType==Re&&this.set(Sn,Ir(this.get(S))),this},this.parseCH=function(){var o=this.uaCH,i=this.rgxMap;switch(this.itemType){case Re:var s=o[Fo]||o[Lo],l;if(s)for(var c in s){var a=Ot(/(Google|Microsoft) /,s[c].brand||s[c]),u=s[c].version;!/not.a.brand/i.test(a)&&(!l||/chrom/i.test(l)&&!/chromi/i.test(a))&&(this.set(_,a).set(S,u).set(Sn,Ir(u)),l=a)}break;case Xe:var d=o[Se];d&&(d&&o[kr]=="64"&&(d+="64"),$i.call(this.data,d+";",i));break;case Ve:if(o[B]&&this.set(w,B),o[k]&&this.set(k,o[k]),o[k]=="Xbox"&&this.set(w,qt).set(E,Wn),o[yt]){var g;if(typeof o[yt]!="string")for(var f=0;!g&&f<o[yt].length;)g=mn(o[yt][f++],zi);else g=mn(o[yt],zi);this.set(w,g)}break;case Fe:var b=o[Ut];if(b){var p=o[Mo];b==co&&(p=parseInt(Ir(p),10)>=13?"11":"10"),this.set(_,b).set(S,p)}this.get(_)==co&&o[k]=="Xbox"&&this.set(_,"Xbox").set(S,void 0);break;case $t:var A=this.data,y=function(v){return A[v].getItem().setCH(o).parseCH().get()};this.set(Re,y(Re)).set(Xe,y(Xe)).set(Ve,y(Ve)).set(Qe,y(Qe)).set(Fe,y(Fe))}return this},tt.call(this,[["itemType",e],["ua",t],["uaCH",r],["rgxMap",n],["data",fd(this,e)]]),this}function ot(e,t,n){if(typeof e===Gt?(sr(e,!0)?(typeof t===Gt&&(n=t),t=e):(n=e,t=void 0),e=void 0):typeof e===so&&!sr(t,!0)&&(n=t,t=void 0),n&&typeof n.append===ir){var r={};n.forEach(function(c,a){r[a]=c}),n=r}if(!(this instanceof ot))return new ot(e,t,n).getResult();var o=typeof e===so?e:n&&n[Pi]?n[Pi]:ke&&ke.userAgent?ke.userAgent:Vt,i=new va(n,!0),s=t?ud(Vi,t):Vi,l=function(c){return c==$t?function(){return new Gi(c,o,s,i).set("ua",o).set(Re,this.getBrowser()).set(Xe,this.getCPU()).set(Ve,this.getDevice()).set(Qe,this.getEngine()).set(Fe,this.getOS()).get()}:function(){return new Gi(c,o,s[c],i).parseUA().get()}};return tt.call(this,[["getBrowser",l(Re)],["getCPU",l(Xe)],["getDevice",l(Ve)],["getEngine",l(Qe)],["getOS",l(Fe)],["getResult",l($t)],["getUA",function(){return o}],["setUA",function(c){return Xt(c)&&(o=c.length>lo?kn(c,lo):c),this}]]).setUA(o),this}ot.VERSION=Qf;ot.BROWSER=Er([_,S,Sn,w]);ot.CPU=Er([Se]);ot.DEVICE=Er([k,E,w,qt,B,he,Z,dn,ao]);ot.ENGINE=ot.OS=Er([_,S]);const dd=new ot,Ki=dd.getResult();class hd{constructor(t,n=!0){De(this,"FLAG_FIREFOX");this.label=t,this.collapsed=n,this.FLAG_FIREFOX=Ki.browser.name==="Firefox"||Ki.engine.name==="Gecko"}stdout(t,n,...r){const o=this.FLAG_FIREFOX?`[${this.label}] - <${t.name.toUpperCase()}>`:`[\x1B[4m${this.label}\x1B[0m] - <\x1B[1m${t.name.toUpperCase()}\x1B[0m>`;if(this.collapsed?globalThis.console.groupCollapsed(o):globalThis.console.group(o),n)for(const i of r)Array.isArray(i)?t(...i):t(i);else t(...r);globalThis.console.trace(),globalThis.console.groupEnd()}clear(...t){this.stdout(globalThis.console.clear,!1,...t)}countReset(...t){this.stdout(globalThis.console.countReset,!1,...t)}count(...t){this.stdout(globalThis.console.count,!1,...t)}counts(...t){this.stdout(globalThis.console.count,!0,...t)}assert(...t){this.stdout(globalThis.console.assert,!1,...t)}asserts(...t){this.stdout(globalThis.console.assert,!0,...t)}dir(...t){this.stdout(globalThis.console.dir,!1,...t)}dirs(...t){this.stdout(globalThis.console.dir,!0,...t)}dirxml(...t){this.stdout(globalThis.console.dirxml,!1,...t)}dirxmls(...t){this.stdout(globalThis.console.dirxml,!0,...t)}table(...t){this.stdout(globalThis.console.table,!1,...t)}tables(...t){this.stdout(globalThis.console.table,!0,...t)}debug(...t){this.stdout(globalThis.console.debug,!1,...t)}debugs(...t){this.stdout(globalThis.console.debug,!0,...t)}info(...t){this.stdout(globalThis.console.info,!1,...t)}infos(...t){this.stdout(globalThis.console.info,!0,...t)}log(...t){this.stdout(globalThis.console.log,!1,...t)}logs(...t){this.stdout(globalThis.console.log,!0,...t)}warn(...t){this.stdout(globalThis.console.warn,!1,...t)}warns(...t){this.stdout(globalThis.console.warn,!0,...t)}error(...t){this.stdout(globalThis.console.error,!1,...t)}errors(...t){this.stdout(globalThis.console.error,!0,...t)}}function pd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ur,Wi;function gd(){if(Wi)return Ur;Wi=1;var e=function(v){return t(v)&&!n(v)};function t(y){return!!y&&typeof y=="object"}function n(y){var v=Object.prototype.toString.call(y);return v==="[object RegExp]"||v==="[object Date]"||i(y)}var r=typeof Symbol=="function"&&Symbol.for,o=r?Symbol.for("react.element"):60103;function i(y){return y.$$typeof===o}function s(y){return Array.isArray(y)?[]:{}}function l(y,v){return v.clone!==!1&&v.isMergeableObject(y)?p(s(y),y,v):y}function c(y,v,T){return y.concat(v).map(function(C){return l(C,T)})}function a(y,v){if(!v.customMerge)return p;var T=v.customMerge(y);return typeof T=="function"?T:p}function u(y){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(y).filter(function(v){return Object.propertyIsEnumerable.call(y,v)}):[]}function d(y){return Object.keys(y).concat(u(y))}function g(y,v){try{return v in y}catch{return!1}}function f(y,v){return g(y,v)&&!(Object.hasOwnProperty.call(y,v)&&Object.propertyIsEnumerable.call(y,v))}function b(y,v,T){var C={};return T.isMergeableObject(y)&&d(y).forEach(function(x){C[x]=l(y[x],T)}),d(v).forEach(function(x){f(y,x)||(g(y,x)&&T.isMergeableObject(v[x])?C[x]=a(x,T)(y[x],v[x],T):C[x]=l(v[x],T))}),C}function p(y,v,T){T=T||{},T.arrayMerge=T.arrayMerge||c,T.isMergeableObject=T.isMergeableObject||e,T.cloneUnlessOtherwiseSpecified=l;var C=Array.isArray(v),x=Array.isArray(y),N=C===x;return N?C?T.arrayMerge(y,v,T):b(y,v,T):l(v,T)}p.all=function(v,T){if(!Array.isArray(v))throw new Error("first argument should be an array");return v.reduce(function(C,x){return p(C,x,T)},{})};var A=p;return Ur=A,Ur}var md=gd();const bd=pd(md);function Yi(...e){return bd.all(e,{arrayMerge:(t,n,r)=>n})}function vd(e){const{protyle:t,data:n,blockElements:r}=e;if(n){const o={element:t.wysiwyg.element,id:n.id,type:du.NodeType.NodeDocument};return{...o,isDocumentBlock:!0,isMultiBlock:!1,blocks:[o],protyle:t,data:n}}else if(r&&r.length>0){const o=[];return r.forEach(i=>{o.push({element:i,id:i.dataset.nodeId,type:i.dataset.type,subtype:i.dataset.subtype})}),{...o[0],isDocumentBlock:!1,isMultiBlock:o.length>1,blocks:o,protyle:t}}return null}function yd(e){e.forEach(t=>{const n=`snippet${t.type==="css"?"CSS":"JS"}${t.id}`;let r=document.getElementById(n);if(!t.enabled){r&&r.remove();return}if(r){if(r.innerHTML===t.content)return;r.remove()}t.type==="css"?document.head.insertAdjacentHTML("beforeend",`<style id="${n}">${t.content}</style>`):t.type==="js"&&(r=document.createElement("script"),r.type="text/javascript",r.text=t.content,r.id=n,document.head.appendChild(r))})}var $=(e=>(e[e.checkbox=0]="checkbox",e[e.text=1]="text",e[e.number=2]="number",e[e.slider=3]="slider",e[e.button=4]="button",e[e.select=5]="select",e[e.textarea=6]="textarea",e))($||{}),wd=z('<input class="b3-switch svelte-edt8og" type="checkbox">'),_d=z('<input class="b3-text-field">'),Sd=z('<input class="b3-text-field" type="number">'),kd=z('<input class="b3-slider svelte-edt8og" type="range">'),Ed=z('<button class="b3-button b3-button--outline"> </button>'),xd=z("<option> </option>"),Td=z('<select class="b3-select"></select>'),Ad=z('<textarea class="b3-text-field"></textarea>');function J(e,t){Rt(t,!1);let n=R(t,"type",8),r=R(t,"settingKey",8),o=R(t,"settingValue",12),i=R(t,"disabled",8,!1),s=R(t,"block",8,!1),l=R(t,"normal",8,!0),c=R(t,"placeholder",8,""),a=R(t,"options",24,()=>[]),u=R(t,"limits",24,()=>({min:0,max:100,step:1})),d=R(t,"height",8,0),g=R(t,"fontFamily",8,"");const f=Bo();function b(C){f("clicked",{event:C})}function p(C){f("changed",{key:r(),value:o(),event:C})}Nn();var A=Ce(),y=se(A);{var v=C=>{var x=wd();oe(()=>{x.disabled=i(),M(x,"fn__block",s()),M(x,"fn__flex-center",!s())}),Of(x,o),Le("change",x,p),P(C,x)},T=C=>{var x=Ce(),N=se(x);{var re=U=>{var ee=_d();oe(()=>{ee.disabled=i(),Y(ee,"placeholder",c()),M(ee,"fn__block",s()),M(ee,"fn__flex-center",!s()),M(ee,"fn__size200",!s()&&l())}),fn(ee,o),Le("change",ee,p),P(U,ee)},L=U=>{var ee=Ce(),Q=se(ee);{var ge=Pe=>{var G=Sd();oe(()=>{G.disabled=i(),Y(G,"max",u().max),Y(G,"min",u().min),Y(G,"placeholder",c()),Y(G,"step",u().step),M(G,"fn__block",s()),M(G,"fn__flex-center",!s()),M(G,"fn__size200",!s()&&l())}),fn(G,o),Le("change",G,p),P(Pe,G)},Me=Pe=>{var G=Ce(),me=se(G);{var ie=W=>{var V=kd();oe(()=>{V.disabled=i(),Y(V,"max",u().max),Y(V,"min",u().min),Y(V,"step",u().step),M(V,"fn__block",s()),M(V,"fn__size200",!s()&&l())}),fn(V,o),Le("change",V,p),P(W,V)},le=W=>{var V=Ce(),ce=se(V);{var je=it=>{var be=Ed(),Pt=H(be);oe(()=>{be.disabled=i(),M(be,"fn__block",s()),M(be,"fn__flex-center",!s()),M(be,"fn__size200",!s()&&l()),oo(Pt,o())}),Le("click",be,b),P(it,be)},Pn=it=>{var be=Ce(),Pt=se(be);{var Dn=qe=>{var ye=Td();oe(()=>{o(),lf(()=>{s(),l(),i(),a()})}),Sr(ye,5,a,st=>st.key,(st,Ye)=>{var we=xd(),ve={},Bn=H(we);oe(()=>{Y(we,"title",O(Ye).title),ve!==(ve=O(Ye).key)&&(we.value=(we.__value=O(Ye).key)==null?"":O(Ye).key),oo(Bn,O(Ye).text)}),P(st,we)}),oe(()=>{ye.disabled=i(),M(ye,"fn__block",s()),M(ye,"fn__flex-center",!s()),M(ye,"fn__size200",!s()&&l())}),Rf(ye,o),Le("change",ye,p),P(qe,ye)},xr=qe=>{var ye=Ce(),st=se(ye);{var Ye=we=>{var ve=Ad();oe(()=>{ve.disabled=i(),Y(ve,"placeholder",c()),M(ve,"fn__block",s()),M(ve,"fn__size200",!s()&&l()),rr(ve,"height",d()>0?`${d()}px`:void 0),rr(ve,"font-family",g()||void 0)}),fn(ve,o),Le("change",ve,p),P(we,ve)};ae(st,we=>{n()===$.textarea&&we(Ye)},!0)}P(qe,ye)};ae(Pt,qe=>{n()===$.select?qe(Dn):qe(xr,!1)},!0)}P(it,be)};ae(ce,it=>{n()===$.button?it(je):it(Pn,!1)},!0)}P(W,V)};ae(me,W=>{n()===$.slider?W(ie):W(le,!1)},!0)}P(Pe,G)};ae(Q,Pe=>{n()===$.number?Pe(ge):Pe(Me,!1)},!0)}P(U,ee)};ae(N,U=>{n()===$.text?U(re):U(L,!1)},!0)}P(C,x)};ae(y,C=>{n()===$.checkbox?C(v):C(T,!1)})}P(e,A),Nt()}var Od=z('<div class="fn__hr"></div> <!>',1),Cd=z('<span class="fn__space"></span> <!>',1),Rd=z('<label class="fn__flex b3-label"><div class="fn__flex-1 svelte-2m76cy"><!> <div class="b3-label__text"><!></div> <!></div> <!></label>');function X(e,t){let n=R(t,"title",8,""),r=R(t,"text",8,""),o=R(t,"block",8,!1);var i=Rd(),s=H(i),l=H(s);Ze(l,t,"title",{},b=>{var p=Ce(),A=se(p);At(A,n),P(b,p)});var c=F(l,2),a=H(c);Ze(a,t,"text",{},b=>{var p=Ce(),A=se(p);At(A,r),P(b,p)});var u=F(c,2);{var d=b=>{var p=Od(),A=F(se(p),2);Ze(A,t,"input",{},null),P(b,p)};ae(u,b=>{o()&&b(d)})}var g=F(s,2);{var f=b=>{var p=Cd(),A=F(se(p),2);Ze(A,t,"input",{},null),P(b,p)};ae(g,b=>{o()||b(f)})}oe(()=>M(s,"visible",o())),P(e,i)}var Nd=z('<div class="config__tab-container"><!></div>');function Hn(e,t){let n=R(t,"display",8,!0),r=R(t,"top",8,!1),o=R(t,"name",8,"");var i=Nd(),s=H(i);Ze(s,t,"default",{},null),oe(()=>{Y(i,"data-name",o()),M(i,"config__tab-container--top",r()),M(i,"fn__none",!n())}),P(e,i)}var Pd=z('<div class="b3-form__icon"><!> <input class="b3-text-field fn__block b3-form__icon-input"></div>'),Dd=z('<li class="b3-list-item" role="button"><!> <span class="b3-list-item__text svelte-15drd7h"><!></span></li>'),Bd=z('<div class="fn__flex-1 fn__flex config__panel"><ul class="b3-tab-bar b3-list b3-list--background"><!> <!></ul> <div class="config__tab-wrap"><!></div></div>');function Ld(e,t){Rt(t,!1);let n=R(t,"panels",8),r=R(t,"focus",12),o=R(t,"searchEnable",8,!1),i=R(t,"searchPlaceholder",8,""),s=R(t,"searchValue",12,"");const l=Bo();function c(){l("search-changed",{value:s()})}function a(y){l("changed",{key:y}),r(y)}Nn();var u=Bd(),d=H(u),g=H(d);{var f=y=>{var v=Pd(),T=H(v);or(T,{className:"b3-form__icon-icon",icon:"#iconSearch"});var C=F(T,2);oe(()=>Y(C,"placeholder",i())),fn(C,s),Le("change",C,c),P(y,v)};ae(g,y=>{o()&&y(f)})}var b=F(g,2);Sr(b,1,n,y=>y.key,(y,v)=>{var T=Dd(),C=H(T);{var x=L=>{or(L,{className:"b3-list-item__graphic",get icon(){return O(v).icon}})};ae(C,L=>{O(v).icon&&L(x)})}var N=F(C,2),re=H(N);At(re,()=>O(v).text),oe(()=>{Y(T,"data-name",O(v).name),M(T,"b3-list-item--focus",O(v).key===r())}),Le("click",T,()=>a(O(v).key)),Le("keyup",T,()=>a(O(v).key)),P(y,T)});var p=F(d,2),A=H(p);Ze(A,t,"default",{get focus(){return r()}},y=>{var v=Po("Container");P(y,v)}),P(e,u),Nt()}var Fd=z('<span class="item__icon"><!></span>'),Md=z('<div class="item item--full" role="button"><span class="fn__flex-1"></span> <!> <span class="item__text"><!></span> <span class="fn__flex-1"></span></div>');function jd(e,t){const n=Ef(t);Rt(t,!1);let r=R(t,"key",8),o=R(t,"icon",8),i=R(t,"name",8,""),s=R(t,"focus",8,!1);const l=Bo();function c(){s()||l("changed",{key:r()})}Nn();var a=Md(),u=F(H(a),2);{var d=b=>{var p=Fd(),A=H(p);Ze(A,t,"icon",{},null),P(b,p)};ae(u,b=>{o()&&n.icon&&b(d)})}var g=F(u,2),f=H(g);Ze(f,t,"text",{},b=>{var p=Po("text");P(b,p)}),oe(()=>{Y(a,"data-type",i()),M(a,"item--focus",s())}),Le("click",a,c),P(e,a),Nt()}var qd=z('<span slot="icon"><!></span>'),Id=z('<span slot="text"><!></span>'),Ud=z('<div style="height: 100%" class="fn__flex-column"><div class="layout-tab-bar fn__flex"></div>  <div class="fn__flex-1"><!></div></div>');function $d(e,t){let n=R(t,"tabs",8),r=R(t,"focus",12);function o(a){r(a.detail.key)}var i=Ud(),s=H(i);Sr(s,5,n,a=>a.key,(a,u)=>{var d=wn(()=>O(u).key===r()),g=wn(()=>!!O(u).icon);jd(a,{get name(){return O(u).name},get focus(){return O(d)},get icon(){return O(g)},get key(){return O(u).key},$$events:{changed:o},$$slots:{icon:(f,b)=>{var p=qd(),A=H(p);{var y=T=>{or(T,{get icon(){return O(u).icon}})},v=T=>{var C=Ce(),x=se(C);{var N=re=>{var L=Ce(),U=se(L);At(U,()=>O(u).icon),P(re,L)};ae(x,re=>{O(u).icon&&re(N)},!0)}P(T,C)};ae(A,T=>{var C;(C=O(u).icon)!=null&&C.startsWith("#")?T(y):T(v,!1)})}P(f,p)},text:(f,b)=>{var p=Id(),A=H(p);At(A,()=>O(u).text),P(f,p)}}})});var l=F(s,2),c=H(l);Ze(c,t,"default",{get focus(){return r()}},a=>{var u=Po("Container");P(a,u)}),P(e,i)}var Hd=z("<!> <!> <!>",1),zd=z("<!> <!>",1),Vd=z("<div><!> <!> <!></div> <div><!> <!> <!></div> <div><!> <!> <!></div> <div><!> <!> <!></div> <div><!> <!> <!></div> <div><!> <!> <!></div>",1),Gd=z("<!> <!> <!> <!>",1);function Kd(e,t){Rt(t,!0);const n=R(t,"config",7),r=R(t,"textareaHeight",3,0),o=t.plugin.i18n,i="var(--b3-font-family)",s="var(--b3-font-family-protyle)",l="var(--b3-font-family-code)",c="var(--b3-font-family-graph)",a="var(--b3-font-family-math)",u="var(--b3-font-family-emoji)";function d(){t.plugin.updateConfig(n())}function g(){t.plugin.siyuan.confirm(o.settings.generalSettings.reset.title,o.settings.generalSettings.reset.description,async()=>{await t.plugin.resetConfig(),globalThis.location.reload()})}const f={general:"general",snippet:"snippet",fonts:"fonts",menu:"menu"},b={base:"base",editor:"editor",code:"code",graph:"graph",math:"math",emoji:"emoji"},p=f.general,A=[{key:f.general,text:o.settings.generalSettings.title,name:o.settings.generalSettings.title,icon:"#iconSettings"},{key:f.snippet,text:o.settings.cssSettings.title,name:o.settings.cssSettings.title,icon:"#iconCode"},{key:f.fonts,text:o.settings.fontsSettings.title,name:o.settings.fontsSettings.title,icon:"#iconFont"},{key:f.menu,text:o.settings.menuSettings.title,name:o.settings.menuSettings.title,icon:"#iconMenu"}],y=b.base,v={fonts:[{key:b.base,text:o.settings.fontsSettings.base.title,name:o.settings.fontsSettings.base.title,icon:""},{key:b.editor,text:o.settings.fontsSettings.editor.title,name:o.settings.fontsSettings.editor.title,icon:""},{key:b.code,text:o.settings.fontsSettings.code.title,name:o.settings.fontsSettings.code.title,icon:""},{key:b.graph,text:o.settings.fontsSettings.graph.title,name:o.settings.fontsSettings.graph.title,icon:""},{key:b.math,text:o.settings.fontsSettings.math.title,name:o.settings.fontsSettings.math.title,icon:""},{key:b.emoji,text:o.settings.fontsSettings.emoji.title,name:o.settings.fontsSettings.emoji.title,icon:""}]};Ld(e,{focus:p,panels:A,children:vi,$$slots:{default:(T,C)=>{const x=de(()=>C.focus);var N=Gd(),re=se(N),L=de(()=>A[0].key===O(x));Hn(re,{get display(){return O(L)},children:(G,me)=>{var ie=Hd(),le=se(ie);X(le,{get text(){return o.settings.generalSettings.reset.description},get title(){return o.settings.generalSettings.reset.title},$$slots:{input:(ce,je)=>{J(ce,{slot:"input",settingKey:"Reset",get settingValue(){return o.settings.generalSettings.reset.text},get type(){return $.button},$$events:{clicked:g}})}}});var W=F(le,2);X(W,{get text(){return o.settings.generalSettings.showSystemFonts.description},get title(){return o.settings.generalSettings.showSystemFonts.title},$$slots:{input:(ce,je)=>{J(ce,{slot:"input",settingKey:"showSystemFonts",get settingValue(){return o.settings.generalSettings.showSystemFonts.text},get type(){return $.button},$$events:{clicked:()=>t.plugin.showSystemFonts()}})}}});var V=F(W,2);X(V,{get text(){return o.settings.generalSettings.showUsableFonts.description},get title(){return o.settings.generalSettings.showUsableFonts.title},$$slots:{input:(ce,je)=>{J(ce,{slot:"input",settingKey:"showSystemFonts",get settingValue(){return o.settings.generalSettings.showUsableFonts.text},get type(){return $.button},$$events:{clicked:()=>t.plugin.showUsableFonts()}})}}}),P(G,ie)},$$slots:{default:!0}});var U=F(re,2),ee=de(()=>A[1].key===O(x));Hn(U,{get display(){return O(ee)},children:(G,me)=>{var ie=zd(),le=se(ie);X(le,{get text(){return o.settings.cssSettings.enable.description},get title(){return o.settings.cssSettings.enable.title},$$slots:{input:(V,ce)=>{J(V,{slot:"input",settingKey:"enable",get settingValue(){return n().css.enable},get type(){return $.checkbox},$$events:{changed:je=>{n().css.enable=je.detail.value,d()}}})}}});var W=F(le,2);X(W,{block:!0,get text(){return o.settings.cssSettings.snippet.description},get title(){return o.settings.cssSettings.snippet.title},$$slots:{input:(V,ce)=>{J(V,{slot:"input",block:!0,get height(){return r()},get placeholder(){return o.settings.cssSettings.snippet.placeholder},settingKey:"code",get settingValue(){return n().css.code},get type(){return $.textarea},$$events:{changed:je=>{n().css.code=je.detail.value,d()}}})}}}),P(G,ie)},$$slots:{default:!0}});var Q=F(U,2),ge=de(()=>A[2].key===O(x));Hn(Q,{get display(){return O(ge)},children:(G,me)=>{$d(G,{focus:y,get tabs(){return v.fonts},children:vi,$$slots:{default:(ie,le)=>{const W=de(()=>le.focus);var V=Vd(),ce=se(V),je=H(ce);X(je,{get text(){return o.settings.fontsSettings.base.enable.description},get title(){return o.settings.fontsSettings.base.enable.title},$$slots:{input:(j,ue)=>{J(j,{slot:"input",settingKey:"enable",get settingValue(){return n().fonts.base.enable},get type(){return $.checkbox},$$events:{changed:q=>{n().fonts.base.enable=q.detail.value,d()}}})}}});var Pn=F(je,2);X(Pn,{block:!0,get text(){return o.settings.fontsSettings.preview.description},get title(){return o.settings.fontsSettings.preview.title},$$slots:{input:(j,ue)=>{J(j,{slot:"input",block:!0,fontFamily:i,get placeholder(){return o.settings.fontsSettings.preview.placeholder},settingKey:"preview",get settingValue(){return n().fonts.base.preview},get type(){return $.textarea},$$events:{changed:q=>{n().fonts.base.preview=q.detail.value,d()}}})}}});var it=F(Pn,2);X(it,{block:!0,get text(){return o.settings.fontsSettings.base.fontsList.description},get title(){return o.settings.fontsSettings.base.fontsList.title},$$slots:{input:(j,ue)=>{var q=de(()=>n().fonts.base.list.join(`
`));J(j,{slot:"input",block:!0,get height(){return r()},get placeholder(){return o.settings.fontsSettings.base.fontsList.placeholder},settingKey:"list",get settingValue(){return O(q)},get type(){return $.textarea},$$events:{changed:fe=>{fe.detail.value===""?n().fonts.base.list=[]:n().fonts.base.list=fe.detail.value.split(`
`),d()}}})}}});var be=F(ce,2),Pt=H(be);X(Pt,{get text(){return o.settings.fontsSettings.editor.enable.description},get title(){return o.settings.fontsSettings.editor.enable.title},$$slots:{input:(j,ue)=>{J(j,{slot:"input",settingKey:"enable",get settingValue(){return n().fonts.editor.enable},get type(){return $.checkbox},$$events:{changed:q=>{n().fonts.editor.enable=q.detail.value,d()}}})}}});var Dn=F(Pt,2);X(Dn,{block:!0,get text(){return o.settings.fontsSettings.preview.description},get title(){return o.settings.fontsSettings.preview.title},$$slots:{input:(j,ue)=>{J(j,{slot:"input",block:!0,fontFamily:s,get placeholder(){return o.settings.fontsSettings.preview.placeholder},settingKey:"preview",get settingValue(){return n().fonts.editor.preview},get type(){return $.textarea},$$events:{changed:q=>{n().fonts.editor.preview=q.detail.value,d()}}})}}});var xr=F(Dn,2);X(xr,{block:!0,get text(){return o.settings.fontsSettings.editor.fontsList.description},get title(){return o.settings.fontsSettings.editor.fontsList.title},$$slots:{input:(j,ue)=>{var q=de(()=>n().fonts.editor.list.join(`
`));J(j,{slot:"input",block:!0,get height(){return r()},get placeholder(){return o.settings.fontsSettings.editor.fontsList.placeholder},settingKey:"list",get settingValue(){return O(q)},get type(){return $.textarea},$$events:{changed:fe=>{fe.detail.value===""?n().fonts.editor.list=[]:n().fonts.editor.list=fe.detail.value.split(`
`),d()}}})}}});var qe=F(be,2),ye=H(qe);X(ye,{get text(){return o.settings.fontsSettings.code.enable.description},get title(){return o.settings.fontsSettings.code.enable.title},$$slots:{input:(j,ue)=>{J(j,{slot:"input",settingKey:"enable",get settingValue(){return n().fonts.code.enable},get type(){return $.checkbox},$$events:{changed:q=>{n().fonts.code.enable=q.detail.value,d()}}})}}});var st=F(ye,2);X(st,{block:!0,get text(){return o.settings.fontsSettings.preview.description},get title(){return o.settings.fontsSettings.preview.title},$$slots:{input:(j,ue)=>{J(j,{slot:"input",block:!0,fontFamily:l,get placeholder(){return o.settings.fontsSettings.preview.placeholder},settingKey:"preview",get settingValue(){return n().fonts.code.preview},get type(){return $.textarea},$$events:{changed:q=>{n().fonts.code.preview=q.detail.value,d()}}})}}});var Ye=F(st,2);X(Ye,{block:!0,get text(){return o.settings.fontsSettings.code.fontsList.description},get title(){return o.settings.fontsSettings.code.fontsList.title},$$slots:{input:(j,ue)=>{var q=de(()=>n().fonts.code.list.join(`
`));J(j,{slot:"input",block:!0,get height(){return r()},get placeholder(){return o.settings.fontsSettings.code.fontsList.placeholder},settingKey:"list",get settingValue(){return O(q)},get type(){return $.textarea},$$events:{changed:fe=>{fe.detail.value===""?n().fonts.code.list=[]:n().fonts.code.list=fe.detail.value.split(`
`),d()}}})}}});var we=F(qe,2),ve=H(we);X(ve,{get text(){return o.settings.fontsSettings.graph.enable.description},get title(){return o.settings.fontsSettings.graph.enable.title},$$slots:{input:(j,ue)=>{J(j,{slot:"input",settingKey:"enable",get settingValue(){return n().fonts.graph.enable},get type(){return $.checkbox},$$events:{changed:q=>{n().fonts.graph.enable=q.detail.value,d()}}})}}});var Bn=F(ve,2);X(Bn,{block:!0,get text(){return o.settings.fontsSettings.preview.description},get title(){return o.settings.fontsSettings.preview.title},$$slots:{input:(j,ue)=>{J(j,{slot:"input",block:!0,fontFamily:c,get placeholder(){return o.settings.fontsSettings.preview.placeholder},settingKey:"preview",get settingValue(){return n().fonts.graph.preview},get type(){return $.textarea},$$events:{changed:q=>{n().fonts.graph.preview=q.detail.value,d()}}})}}});var ya=F(Bn,2);X(ya,{block:!0,get text(){return o.settings.fontsSettings.graph.fontsList.description},get title(){return o.settings.fontsSettings.graph.fontsList.title},$$slots:{input:(j,ue)=>{var q=de(()=>n().fonts.graph.list.join(`
`));J(j,{slot:"input",block:!0,get height(){return r()},get placeholder(){return o.settings.fontsSettings.graph.fontsList.placeholder},settingKey:"list",get settingValue(){return O(q)},get type(){return $.textarea},$$events:{changed:fe=>{fe.detail.value===""?n().fonts.graph.list=[]:n().fonts.graph.list=fe.detail.value.split(`
`),d()}}})}}});var Ln=F(we,2),jo=H(Ln);X(jo,{get text(){return o.settings.fontsSettings.math.enable.description},get title(){return o.settings.fontsSettings.math.enable.title},$$slots:{input:(j,ue)=>{J(j,{slot:"input",settingKey:"enable",get settingValue(){return n().fonts.math.enable},get type(){return $.checkbox},$$events:{changed:q=>{n().fonts.math.enable=q.detail.value,d()}}})}}});var qo=F(jo,2);X(qo,{block:!0,get text(){return o.settings.fontsSettings.preview.description},get title(){return o.settings.fontsSettings.preview.title},$$slots:{input:(j,ue)=>{J(j,{slot:"input",block:!0,fontFamily:a,get placeholder(){return o.settings.fontsSettings.preview.placeholder},settingKey:"preview",get settingValue(){return n().fonts.math.preview},get type(){return $.textarea},$$events:{changed:q=>{n().fonts.math.preview=q.detail.value,d()}}})}}});var wa=F(qo,2);X(wa,{block:!0,get text(){return o.settings.fontsSettings.math.fontsList.description},get title(){return o.settings.fontsSettings.math.fontsList.title},$$slots:{input:(j,ue)=>{var q=de(()=>n().fonts.math.list.join(`
`));J(j,{slot:"input",block:!0,get height(){return r()},get placeholder(){return o.settings.fontsSettings.math.fontsList.placeholder},settingKey:"list",get settingValue(){return O(q)},get type(){return $.textarea},$$events:{changed:fe=>{fe.detail.value===""?n().fonts.math.list=[]:n().fonts.math.list=fe.detail.value.split(`
`),d()}}})}}});var Tr=F(Ln,2),Io=H(Tr);X(Io,{get text(){return o.settings.fontsSettings.emoji.enable.description},get title(){return o.settings.fontsSettings.emoji.enable.title},$$slots:{input:(j,ue)=>{J(j,{slot:"input",settingKey:"enable",get settingValue(){return n().fonts.emoji.enable},get type(){return $.checkbox},$$events:{changed:q=>{n().fonts.emoji.enable=q.detail.value,d()}}})}}});var Uo=F(Io,2);X(Uo,{block:!0,get text(){return o.settings.fontsSettings.preview.description},get title(){return o.settings.fontsSettings.preview.title},$$slots:{input:(j,ue)=>{J(j,{slot:"input",block:!0,fontFamily:u,get placeholder(){return o.settings.fontsSettings.preview.placeholder},settingKey:"preview",get settingValue(){return n().fonts.emoji.preview},get type(){return $.textarea},$$events:{changed:q=>{n().fonts.emoji.preview=q.detail.value,d()}}})}}});var _a=F(Uo,2);X(_a,{block:!0,get text(){return o.settings.fontsSettings.emoji.fontsList.description},get title(){return o.settings.fontsSettings.emoji.fontsList.title},$$slots:{input:(j,ue)=>{var q=de(()=>n().fonts.emoji.list.join(`
`));J(j,{slot:"input",block:!0,get height(){return r()},get placeholder(){return o.settings.fontsSettings.emoji.fontsList.placeholder},settingKey:"list",get settingValue(){return O(q)},get type(){return $.textarea},$$events:{changed:fe=>{fe.detail.value===""?n().fonts.emoji.list=[]:n().fonts.emoji.list=fe.detail.value.split(`
`),d()}}})}}}),oe(()=>{Y(ce,"data-type",v.fonts[0].name),M(ce,"fn__none",v.fonts[0].key!==O(W)),Y(be,"data-type",v.fonts[1].name),M(be,"fn__none",v.fonts[1].key!==O(W)),Y(qe,"data-type",v.fonts[2].name),M(qe,"fn__none",v.fonts[2].key!==O(W)),Y(we,"data-type",v.fonts[3].name),M(we,"fn__none",v.fonts[3].key!==O(W)),Y(Ln,"data-type",v.fonts[4].name),M(Ln,"fn__none",v.fonts[4].key!==O(W)),Y(Tr,"data-type",v.fonts[5].name),M(Tr,"fn__none",v.fonts[5].key!==O(W))}),P(ie,V)}}})},$$slots:{default:!0}});var Me=F(Q,2),Pe=de(()=>A[3].key===O(x));Hn(Me,{get display(){return O(Pe)},children:(G,me)=>{X(G,{block:!0,get text(){return o.settings.menuSettings.blockFontList.description},get title(){return o.settings.menuSettings.blockFontList.title},$$slots:{input:(ie,le)=>{var W=de(()=>n().menu.block.list.join(`
`));J(ie,{slot:"input",block:!0,get height(){return r()},get placeholder(){return o.settings.menuSettings.blockFontList.placeholder},settingKey:"list",get settingValue(){return O(W)},get type(){return $.textarea},$$events:{changed:V=>{V.detail.value===""?n().menu.block.list=[]:n().menu.block.list=V.detail.value.split(`
`),d()}}})}}})},$$slots:{default:!0}}),P(T,N)}}}),Nt()}const Wd="custom-fonts",Yd="Zuoqiu Yingyi",Jd="https://github.com/Zuoqiu-Yingyi/siyuan-plugin-custom-fonts",Xd="1.2.1",Zd="2.10.13",Qd=["","","","font","","font family","","","","font list","","","","block font"],eh=["all"],th=["all"],nh={default:"Custom Fonts",zh_CN:"",zh_CHT:""},rh={default:"Customize the fonts of various elements in the SiYuan interface.",zh_CN:"",zh_CHT:""},oh={default:"README.md",zh_CN:"README_zh_CN.md",zh_CHT:"README_zh_CN.md"},ih={openCollective:"",patreon:"",github:"",custom:["https://afdian.com/a/zuoqiu","https://ko-fi.com/zuoqiu"]},sh={name:Wd,author:Yd,url:Jd,version:Xd,minAppVersion:Zd,keywords:Qd,backends:eh,frontends:th,displayName:nh,description:rh,readme:oh,funding:ih},Lt=`
|\`\`--==[[]]\\\\;;'',,..//~~!!@@##$$%%^^&&**(())__++{{}}||::""<<>>??|
||
|0011223344556677889900112233445566778899001122334455667788990011|
||
|aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzaabbccddeeff|
||
|AABBCCDDEEFFGGHHIIJJKKLLMMNNOOPPQQRRSSTTUUVVWWXXYYZZAABBCCDDEEFF|
||
||
|                                                                |
||
`.trim(),$r={css:{enable:!0,code:`/* Twemoji Mozilla: https://github.com/mozilla/twemoji-colr */
@font-face {
    font-family: "Twemoji Mozilla";
    font-style: normal;
    src: url("plugins/${sh.name}/static/fonts/Twemoji.Mozilla/Twemoji.Mozilla-0.7.0.ttf");
}
`},fonts:{base:{enable:!1,preview:Lt,list:["Helvetica Neue","Luxi Sans","DejaVu Sans","Hiragino Sans GB","Microsoft Yahei","sans-serif","Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji","Segoe UI Symbol","Android Emoji","EmojiSymbols"]},editor:{enable:!0,preview:Lt,list:[]},code:{enable:!1,preview:Lt,list:["JetBrainsMono-Regular","mononoki","Consolas","Liberation Mono","Menlo","Courier","monospace","Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji","Segoe UI Symbol","Android Emoji","EmojiSymbols"]},graph:{enable:!1,preview:Lt,list:["mononoki"]},math:{enable:!1,preview:Lt,list:["KaTeX_Math","KaTeX_Main"]},emoji:{enable:!0,preview:Lt,list:["Twemoji Mozilla","Segoe UI Emoji","Segoe UI Symbol","Segoe UI","Apple Color Emoji","Noto Color Emoji","Android Emoji"]}},menu:{block:{enable:!0,list:["","","","","","","","","","","","","","","","","","","","",""]}}};function ah(e){switch(e=e.trim(),!0){case(e.startsWith('"')&&e.endsWith('"')):case(e.startsWith("'")&&e.endsWith("'")):return e;default:return`"${e}"`}}function Ft(e){return e.filter(t=>!/^\s*$/.test(t)).map(ah)}function lh(e){const t=[];if(t.push(":root:root {"),e.base&&e.base.length>0){const n=Ft(e.base);n.push("system-ui"),t.push(`    --b3-font-family: ${n.join(", ")};`)}if(e.editor&&e.editor.length>0){const n=Ft(e.editor);n.push("sans-serif"),t.push(`    --b3-font-family-protyle: ${n.join(", ")};`)}if(e.code&&e.code.length>0){const n=Ft(e.code);n.push("monospace"),t.push(`    --b3-font-family-code: ${n.join(", ")};`)}if(e.graph&&e.graph.length>0){const n=Ft(e.graph);n.push("serif"),t.push(`    --b3-font-family-graph: ${n.join(", ")};`)}if(e.math&&e.math.length>0){const n=Ft(e.math);n.push("math"),t.push(`    --b3-font-family-math: ${n.join(", ")};`)}if(e.emoji&&e.emoji.length>0){const n=Ft(e.emoji);n.push("emoji"),t.push(`    --b3-font-family-emoji: ${n.join(", ")};`)}return t.push("}"),t.join(`
`)}const bn=class bn extends ze.Plugin{constructor(n){super(n);De(this,"siyuan",ze);De(this,"logger");De(this,"client");De(this,"STYLE_SNIPPET_NAME");De(this,"SETTINGS_DIALOG_ID");De(this,"SYSTEM_FONTS_DIALOG_ID");De(this,"USABLE_FONTS_DIALOG_ID");De(this,"config",$r);De(this,"blockMenuEventListener",n=>{const r=n.detail,o=vd(r);if(o){const i=[];i.push({icon:"iconClear",label:this.i18n.menu.clearFontStyle.label,click:()=>{o.blocks.forEach(async s=>{s.element.style.fontFamily="";const l=s.element.getAttribute("style");this.client.setBlockAttrs({id:s.id,attrs:{style:l}})})}}),i.push({type:"separator"}),this.config.menu.block.list.forEach(s=>{/^\s*$/.test(s)||(s=s.trim(),i.push({icon:"iconFont",label:s,accelerator:`font-family: ${s}`,click:()=>{o.blocks.forEach(async l=>{l.element.style.fontFamily=s;const c=l.element.getAttribute("style");this.client.setBlockAttrs({id:l.id,attrs:{style:c}})})},bind:l=>{const c=l.querySelector(".b3-menu__label");c&&(c.style.fontFamily=s)}}))}),r.menu.addItem({icon:"iconFont",label:this.i18n.menu.customBlockFont.label,submenu:i})}});this.logger=new hd(this.name),this.client=new uu,this.STYLE_SNIPPET_NAME=`plugin-${this.name}-style`,this.SETTINGS_DIALOG_ID=`plugin-${this.name}-settings-dialog`,this.SYSTEM_FONTS_DIALOG_ID=`plugin-${this.name}-system-fonts-dialog`,this.USABLE_FONTS_DIALOG_ID=`plugin-${this.name}-usable-fonts-dialog`}onload(){this.addCommand({langKey:"show-system-fonts",langText:this.i18n.settings.generalSettings.showSystemFonts.title,hotkey:"",callback:()=>this.showSystemFonts()}),this.addCommand({langKey:"show-usable-fonts",langText:this.i18n.settings.generalSettings.showUsableFonts.title,hotkey:"",callback:()=>this.showUsableFonts()}),this.loadData(bn.GLOBAL_CONFIG_NAME).then(n=>{this.config=Yi($r,n||{})}).catch(n=>this.logger.error(n)).finally(async()=>{await this.updateStyle(),this.eventBus.on("click-blockicon",this.blockMenuEventListener)})}onLayoutReady(){}onunload(){this.eventBus.off("click-blockicon",this.blockMenuEventListener),this.client.getSnippet({type:"all",enabled:2}).then(n=>{const r=n.data.snippets,o=r.find(i=>i.name===this.STYLE_SNIPPET_NAME&&i.type==="css");o&&(o.enabled=!1,this.client.setSnippet({snippets:r}))})}openSetting(){const n=this,o=new ze.Dialog({title:`${this.i18n.displayName} <code class="fn__code">${this.name}</code>`,content:`<div id="${n.SETTINGS_DIALOG_ID}" class="fn__flex-column" />`,width:Ai?"92vw":"960px",height:Ai?void 0:"720px"}).element.querySelector(`#${n.SETTINGS_DIALOG_ID}`);o&&mf(Kd,{target:o,props:{config:this.config,plugin:this,textareaHeight:320}})}async updateStyle(){const r=(await this.client.getSnippet({type:"all",enabled:2})).data.snippets;let o=r.find(s=>s.name===this.STYLE_SNIPPET_NAME&&s.type==="css");const i=[this.config.css.enable?this.config.css.code:void 0,lh({base:this.config.fonts.base.enable?this.config.fonts.base.list:void 0,editor:this.config.fonts.editor.enable?this.config.fonts.editor.list:void 0,code:this.config.fonts.code.enable?this.config.fonts.code.list:void 0,graph:this.config.fonts.graph.enable?this.config.fonts.graph.list:void 0,math:this.config.fonts.math.enable?this.config.fonts.math.list:void 0,emoji:this.config.fonts.emoji.enable?this.config.fonts.emoji.list:void 0})].join(`

`);o?(o.enabled=!0,o.content=i):(o={id:window.Lute.NewNodeID(),type:"css",name:this.STYLE_SNIPPET_NAME,memo:"",content:i,enabled:!0},r.push(o)),await this.client.setSnippet({snippets:r}),yd([o])}async resetConfig(){return this.updateConfig(Yi($r))}async updateConfig(n){return n&&n!==this.config&&(this.config=n),this.updateStyle(),this.saveData(bn.GLOBAL_CONFIG_NAME,this.config)}async showSystemFonts(){const n=new ze.Dialog({title:this.i18n.settings.generalSettings.showSystemFonts.title,content:`<div id="${this.SYSTEM_FONTS_DIALOG_ID}" class="fn__flex-column">${this.i18n.message.loading}</div>`,height:"92vh"});ze.fetchPost("/api/system/getSysFonts",void 0,r=>{const o=n.element.querySelector(`#${this.SYSTEM_FONTS_DIALOG_ID}`);if(r.code===0){const i=r.data.map(s=>({icon:"#iconFont",text:s,meta:s,style:`font-family: "${s}"`}));o.innerHTML="",new io({target:o,props:{items:i}})}else o.textContent=r.msg})}async showUsableFonts(){if("queryLocalFonts"in globalThis){const n=await window.queryLocalFonts(),r=[],o=Jf(n);o.families.forEach(s=>{const l=o.map.get(s);if(l){const c=l.find(a=>a.style==="Regular")??l[0];r.push({icon:"#iconFont",text:c.fullName,meta:c.family,style:`font-family: "${c.family}"`,fold:!0,indent:"18px",children:l.map(a=>({icon:"#iconFont",text:a.fullName,meta:a.style,style:`font: ${Zf(a,14)};`}))})}});const i=new ze.Dialog({title:this.i18n.settings.generalSettings.showUsableFonts.title,content:`<div id="${this.USABLE_FONTS_DIALOG_ID}" class="fn__flex-column" />`,height:"92vh"});new io({target:i.element.querySelector(`#${this.USABLE_FONTS_DIALOG_ID}`),props:{items:r}})}else ze.showMessage(`${this.i18n.message.notSupportQueryLocalFonts}<br />[${this.i18n.displayName} <code class="fn__code">${this.name}</code>]`,void 0,"error")}};De(bn,"GLOBAL_CONFIG_NAME","global-config");let fo=bn;module.exports=fo;
